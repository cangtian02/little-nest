{"version":3,"sources":["../static/js/5.e337721d.chunk.js","components/editImg/editImg.js","webpack:///./src/components/editImg/editImg.css?3f7a","components/editImg/editImg.css","../node_modules/hammerjs/hammer.js","webpack:///./src/view/setting/setting.css?a4f6","view/setting/setting.css","components/picker/picker.js","webpack:///./src/components/picker/picker.css?095e","components/picker/picker.css","components/picker/data.js","components/lightBox/lightBox.js","webpack:///./src/components/lightBox/lightBox.css?9949","components/lightBox/lightBox.css","view/setting/updateIcon/updateIcon.js","webpack:///./src/view/setting/updateIcon/updateIcon.css?1785","view/setting/updateIcon/updateIcon.css","view/setting/setting.js","common/Utils.js","components/toast/toast.js","webpack:///./src/components/toast/toast.css?94c2","components/toast/toast.css","../node_modules/better-scroll/dist/bscroll.esm.js"],"names":["webpackJsonp","111","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1__editImg_css__","__WEBPACK_IMPORTED_MODULE_2_hammerjs__","__WEBPACK_IMPORTED_MODULE_2_hammerjs___default","__WEBPACK_IMPORTED_MODULE_3__common_Utils__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","Editimg","state","imgSrc","proportion","winWidth","winHeight","imgWidth","imgHeight","trackerWidth","trackerHeight","this","initData","nextProps","setState","window","innerWidth","innerHeight","proportion_1","split","proportion_2","Utils","toast","info","img","Image","src","onload","width","height","initHammer","tracker","document","getElementById","hammertime","Hammer","domEvents","get","set","direction","DIRECTION_ALL","starX","starY","trackerLeft","offsetLeft","trackerTop","offsetTop","on","e","style","left","deltaX","top","deltaY","imgLeft","imgTop","enable","setImgStyle","w","h","scale","naturalWidth","naturalHeight","clientWidth","canvas","createElement","ctx","getContext","clientHeight","x","y","newImg","drawImage","emitImgWidth","emitImgHeight","cropImg","toDataURL","emitImg","quality","className","id","alt","onClick","handleImg","React","Component","112","exports","content","options","transform","locals","113","push","114","exportName","undefined","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","Array","isArray","each","obj","iterator","forEach","hasOwnProperty","deprecate","method","name","message","deprecationMessage","Error","stack","replace","log","console","warn","apply","arguments","inherit","child","base","properties","childP","baseP","_super","assign","boolOrFn","val","args","TYPE_FUNCTION","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","type","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","str","find","indexOf","trim","inArray","findByKey","toArray","slice","uniqueArray","sort","results","values","a","b","prefixed","property","prefix","prop","camelProp","toUpperCase","VENDOR_PREFIXES","uniqueId","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","Input","manager","callback","inputTarget","domHandler","ev","init","createInputInstance","inputClass","SUPPORT_POINTER_EVENTS","PointerEventInput","SUPPORT_ONLY_TOUCH","TouchInput","SUPPORT_TOUCH","TouchMouseInput","MouseInput","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","INPUT_START","isFinal","INPUT_END","INPUT_CANCEL","session","computeInputData","emit","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","now","deltaTime","angle","getAngle","distance","getDistance","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","abs","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offset","offsetDelta","prevDelta","velocity","velocityX","velocityY","last","lastInterval","COMPUTE_INTERVAL","v","clientX","round","clientY","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","p1","p2","PROPS_XY","Math","sqrt","atan2","PI","start","end","PROPS_CLIENT_XY","evEl","MOUSE_ELEMENT_EVENTS","evWin","MOUSE_WINDOW_EVENTS","pressed","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","store","pointerEvents","SingleTouchInput","evTarget","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_TARGET_EVENTS","targetIds","getTouches","allTouches","INPUT_MOVE","identifier","targetTouches","changedTargetTouches","filter","touch","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","removeLastTouch","splice","DEDUP_TIMEOUT","isSyntheticEvent","t","dx","dy","DEDUP_DISTANCE","TouchAction","cleanTouchActions","actions","TOUCH_ACTION_NONE","hasPanX","TOUCH_ACTION_PAN_X","hasPanY","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_AUTO","Recognizer","defaults","STATE_POSSIBLE","simultaneous","requireFail","stateStr","STATE_CANCELLED","STATE_ENDED","STATE_CHANGED","STATE_BEGAN","directionStr","getRecognizerByNameIfManager","otherRecognizer","recognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","recognizers","preset","Manager","handlers","oldCssProps","touchAction","toggleCssProps","item","add","recognizeWith","requireFailure","cssProps","triggerDomEvent","event","data","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","TEST_ELEMENT","Date","output","index","source","nextKey","extend","dest","merge","keys","MOBILE_REGEX","test","navigator","userAgent","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","TOUCH_INPUT_MAP","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","compute","update","getTouchAction","join","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_RECOGNIZED","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","force","stopped","curRecognizer","existing","remove","events","off","STATE_FAILED","Tap","Pan","Swipe","Pinch","Rotate","Press","161","162","163","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_1_react_dom___default","__WEBPACK_IMPORTED_MODULE_2_prop_types__","__WEBPACK_IMPORTED_MODULE_2_prop_types___default","__WEBPACK_IMPORTED_MODULE_3_better_scroll__","__WEBPACK_IMPORTED_MODULE_4__picker_css__","__WEBPACK_IMPORTED_MODULE_5__data__","Picker","classStr","selectedIndex","itemData","wheels","Data","gender","date","defaultDate","defaultData","defaultIndex","getSelectedIndex","initWheel","Number","list","getElementsByClassName","refresh","BScroll","probeType","wheel","rotate","adjustTime","wheelWrapperClass","wheelItemClass","wheelDisabledItemClass","getYear","arr1","arr2","j","text","arr","onOk","handleHide","removeDom","body","removeChild","dom","handleFunc","getItem","ReactDOM","createPortal","propTypes","PropTypes","string","array","func","defaultProps","show","includes","appendChild","render","164","165","166","year","unshift","getMonth","getDay","month","day_arr","is_leap","day_str","167","__WEBPACK_IMPORTED_MODULE_3__lightBox_css__","Lightbox","imgUrl","winW","onerror","handleCloseFunc","handleBtnFunc","btnText","handleBtn","168","169","170","__WEBPACK_IMPORTED_MODULE_1__common_Utils__","__WEBPACK_IMPORTED_MODULE_2__updateIcon_css__","Updateicon","evt","click","loading","file","files","windowURL","URL","webkitURL","createObjectURL","size","change","toggle","accept","onChange","changeSelectImg","171","172","82","__WEBPACK_IMPORTED_MODULE_1__setting_css__","__WEBPACK_IMPORTED_MODULE_2__common_Utils__","__WEBPACK_IMPORTED_MODULE_3__components_picker_picker__","__WEBPACK_IMPORTED_MODULE_4__components_lightBox_lightBox__","__WEBPACK_IMPORTED_MODULE_5__updateIcon_updateIcon__","__WEBPACK_IMPORTED_MODULE_6__components_editImg_editImg__","slable","select","Setting","icon","occupation","lable","toggleUpateIconBtn","changeIconSrc","components","removeModal","idx","JSON","parse","stringify","modal","focus","selectLable","addLable","handleIcon","handleModal","handlePicker","placeholder","getLable","handleSave","handleUpdateIconClick","handleUpdateIconChange","updateIconFunc","updateData","lightBox","LightBox","focusToLast","picker","indx","87","Toast","format","fmt","d","o","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","floor","getUTCMilliseconds","RegExp","$1","getUTCFullYear","substr","k","isEmptyObject","object","getUrlParams","param","ps","decodeURI","location","href","params","lastIndexOf","strs","numberToZh","num","len","selection","sel","createTextRange","moveStart","collapse","selectionStart","selectionEnd","88","__WEBPACK_IMPORTED_MODULE_3__toast_css__","isOpen","close","duration","onCancel","title","okText","cancelText","dangerouslySetInnerHTML","__html","handleCancel","handleOk","bool","isRequired","history","number","initFnc","89","90","99","spliceOne","pop","getNow","performance","timing","navigationStart","_len","rest","_key","isUndef","prefixStyle","vendor","charAt","addEvent","el","capture","passive","removeEvent","offsetParent","offsetToBody","rect","getBoundingClientRect","pageXOffset","pageYOffset","getRect","SVGElement","offsetWidth","offsetHeight","preventDefaultException","exceptions","tap","eventName","pageX","pageY","bubbles","cancelable","posSrc","eventSource","screenX","screenY","MouseEvent","forwardedTouchEvent","_constructed","dblclick","prepend","firstChild","before","insertBefore","momentum","current","lowerMargin","upperMargin","wrapperSize","scroll","speed","deceleration","itemHeight","swipeBounceTime","swipeTime","rate","destination","_findNearestValidWheel","max","min","noop","msg","error","assert","condition","createScrollbar","scrollbar","indicator","cssText","Indicator","scroller","wrapper","wrapperStyle","children","indicatorStyle","fade","visible","opacity","sizeRatioX","sizeRatioY","maxPosX","maxPosY","interactive","_addDOMEvents","isTombstoneNode","classList","contains","InfiniteScroller","_this","createTombstone","fetch","firstAttachedItem","lastAttachedItem","anchorScrollTop","anchorItem","tombstoneHeight","tombstoneWidth","tombstones","tombstonesAnimationHandlers","items","loadedItems","requestInProgress","hasMore","wrapperEl","scrollerEl","onResize","_onResizeHandler","onScroll","querySelector","scrollerStyle","_init","slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","next","done","err","toConsumableArray","from","inBrowser","ua","isWeChatDevTools","isAndroid","elementStyle","transformNames","standard","webkit","Moz","O","ms","cssVendor","transition","hasPerspective","hasTouch","hasTransform","hasTransition","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","transitionEnd","TOUCH_EVENT","DEFAULT_OPTIONS","startX","startY","scrollX","scrollY","freeScroll","directionLockThreshold","eventPassthrough","bounce","bounceTime","momentumLimitTime","momentumLimitDistance","flickLimitTime","flickLimitDistance","resizePolling","tagName","HWCompositing","useTransition","useTransform","bindToWrapper","disableMouse","disableTouch","observeDOM","autoBlur","snap","pullDownRefresh","pullUpLoad","mouseWheel","stopPropagation","zoom","infinity","ease","swipe","swipeBounce","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","PROBE_DEBOUNCE","PROBE_REALTIME","handleEvent","_start","_move","_end","_shouldShow","transitionTime","_calculate","updatePosition","hold","_this2","fadeTimeout","indicatorHeight","_height","translateZ","indicatorWidth","_width","easing","_removeDOMEvents","point","initiated","moved","lastPointX","lastPointY","startTime","_handleMoveEvents","trigger","newX","newY","_pos","snapOption","_snapOption$easing","_nearestSnap","directionX","directionY","currentPage","scrollTo","hasVerticalScroll","hasHorizontalScroll","display","wrapperHeight","scrollerHeight","maxScrollY","wrapperWidth","scrollerWidth","maxScrollX","eventOperation","_handleDOMEvents","DEFAULT_SCROLL_RUNWAY","infiniteScroller","scrollTop","delta","_calculateAnchoredItem","lastScreenItem","fill","maybeRequestContent","tombstone","position","attachContent","_this3","itemsNeeded","then","addContent","tombstoneLen","_removeTombstones","curPos","_fixScrollPosition","_setupAnimations","resetPosition","_addItem","unusedNodes","_collectUnusedNodes","tombstoneAnimations","_createDOMNodes","_cleanupUnusedNodes","_cacheNodeSize","resetMore","markIndex","itemLen","currentNode","currentData","zIndex","_getTombStone","isTombstone","_this4","animation","_i2","_animation","tombstoneNode","tombstoneAnimationsHandler","_i3","_animation2","initialAnchor","ceil","_handleOptions","_events","setScale","_initExtFeatures","_watchTransition","_initDOMObserver","_handleAutoBlur","lastScale","_initSnap","_initScrollbar","_initPullUp","_initPullDown","_initWheel","_initMouseWheel","_initZoom","_initInfinite","me","isInTransition","newVal","pulling","activeElement","blur","MutationObserver","timer","observer","mutations","_shouldNotRefresh","immediateRefresh","deferredRefresh","mutation","config","attributes","childList","subtree","observe","disconnect","_checkDOMUpdate","outsideBoundaries","minScrollX","minScrollY","stopFromTransition","check","destroyed","scrollerRect","newWidth","newHeight","oldWidth","oldHeight","_zoomStart","_zoom","scaled","_zoomEnd","_resize","_transitionEnd","enabled","_onMouseWheel","isWrapperStatic","getComputedStyle","wrapperRect","relativeX","relativeY","_checkWheelAllDisabled","endTime","wrapperOffset","disable","_eventType","distX","distY","movingDirectionX","movingDirectionY","directionLocked","_transitionTime","absStartX","absStartY","pointX","pointY","absDistX","absDistY","timestamp","bottom","right","_translate","scrollLeft","documentElement","_checkPullDown","_checkClick","flick","momentumX","momentumY","snapSpeed","preventClick","_offset","_dblclick","dblclickTrigged","lastClickTime","_dblclick$delay","delay","resizeTimeout","_startProbe","probe","pos","getComputedPosition","probeTimer","indicators","_transitionTimingFunction","_options$wheel$rotate","deg","_animate","destX","destY","easingFn","step","destTime","isAnimating","destScale","newScale","startScale","animateTimer","scrollBy","isSilent","_reflow","scrollToElement","offsetX","offsetY","nodeType","easeing","roundX","roundY","matrix","once","magic","eventsCopy","_event","loop","cloneNode","querySelectorAll","pages","stepX","stepY","cx","cy","l","m","_checkSnapLoop","initPageX","_loopX","initPageY","_loopY","_goToPage","snapThreshold","snapThresholdX","snapThresholdY","listenFlick","_children","posX","posY","goToPage","prev","getCurrentPage","wheelTo","currentIndex","cacheIndex","wheelItemsAllDisabled","_options$scrollbar","_options$scrollbar$fa","_options$scrollbar$in","_insertScrollBar","_removeScrollBars","_options$pullDownRefr","_options$pullDownRefr2","_options$pullDownRefr3","finishPullDown","openPullDown","closePullDown","autoPullDownRefresh","_options$pullDownRefr4","_options$pullDownRefr5","_options$pullDownRefr6","pullupWatching","_watchPullUp","_checkToEnd","_options$pullUpLoad$t","finishPullUp","openPullUp","closePullUp","_handleMouseWheelEvent","mouseWheelTimer","mouseWheelEndTimer","firstWheelOpreation","_options$mouseWheel","_options$mouseWheel$s","_options$mouseWheel$i","invert","_options$mouseWheel$e","easeTime","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","detail","needTriggerEnd","_options$zoom","_options$zoom$start","_options$zoom$min","_options$zoom$max","_zoomTo","originX","originY","zoomTo","_offsetToBody","firstFinger","secondFinger","startDistance","_offsetToBody2","_options$zoom2","_options$zoom2$min","_options$zoom2$max","pow","_options$zoom3","_options$zoom3$min","_options$zoom3$max","Version"],"mappings":"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","file":"static/js/5.e337721d.chunk.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 111:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editImg_css__ = __webpack_require__(112);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editImg_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__editImg_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_hammerjs__ = __webpack_require__(114);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_hammerjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_hammerjs__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_Utils__ = __webpack_require__(87);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Editimg=function(_React$Component){_inherits(Editimg,_React$Component);function Editimg(props){_classCallCheck(this,Editimg);var _this=_possibleConstructorReturn(this,(Editimg.__proto__||Object.getPrototypeOf(Editimg)).call(this,props));_this.state={imgSrc:props.imgSrc,proportion:props.proportion,winWidth:0,winHeight:0,imgWidth:0,imgHeight:0,trackerWidth:0,trackerHeight:0};return _this;}_createClass(Editimg,[{key:'componentDidMount',value:function componentDidMount(){if(this.state.imgSrc)this.initData();}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){var _this2=this;if(nextProps.imgSrc!==this.state.imgSrc){this.setState({imgSrc:nextProps.imgSrc,proportion:nextProps.proportion},function(){_this2.initData();});}}},{key:'initData',value:function initData(){var _this3=this;var winWidth=window.innerWidth;var winHeight=window.innerHeight;var imgWidth=0;var imgHeight=0;var trackerWidth=0;var trackerHeight=0;var proportion_1=this.state.proportion.split(':')[0];var proportion_2=this.state.proportion.split(':')[1];if(!proportion_1||!proportion_2)return __WEBPACK_IMPORTED_MODULE_3__common_Utils__[\"a\" /* default */].toast.info('缺少参数');var img=new window.Image();img.src=this.state.imgSrc;img.onload=function(){var width=img.width;var height=img.height;imgWidth=winWidth;imgHeight=winWidth/width*height;// 正方形\nif(proportion_1===proportion_2){trackerWidth=winWidth/1.2>imgHeight?imgHeight:winWidth/1.2;trackerHeight=trackerWidth;}// 横向\nif(proportion_1>proportion_2){trackerWidth=winWidth*0.96;trackerHeight=trackerWidth/proportion_1*proportion_2;}_this3.setState({winWidth:winWidth,winHeight:winHeight,imgWidth:imgWidth,imgHeight:imgHeight,trackerWidth:trackerWidth,trackerHeight:trackerHeight},function(){_this3.initHammer();});};}},{key:'initHammer',value:function initHammer(){var _this4=this;var tracker=document.getElementById('editImg-tracker');var img=document.getElementById('editImg-img');if(!tracker||!img)return;this.hammertime=new __WEBPACK_IMPORTED_MODULE_2_hammerjs___default.a(tracker,{domEvents:true});this.hammertime.get('pan').set({direction:__WEBPACK_IMPORTED_MODULE_2_hammerjs___default.a.DIRECTION_ALL});var starX=0;var starY=0;var imgWidth=0;var imgHeight=0;var trackerLeft=tracker.offsetLeft;var trackerTop=tracker.offsetTop;var trackerWidth=this.state.trackerWidth;var trackerHeight=this.state.trackerHeight;// 平移\nthis.hammertime.on(\"panstart\",function(){starX=img.offsetLeft;starY=img.offsetTop;imgWidth=img.width;imgHeight=img.height;});this.hammertime.on(\"panmove\",function(e){img.style.left=starX+e.deltaX+'px';img.style.top=starY+e.deltaY+'px';});this.hammertime.on(\"panend\",function(e){var imgLeft=img.offsetLeft;var imgTop=img.offsetTop;if(imgLeft>trackerLeft){img.style.left=trackerLeft+'px';}if(imgTop>trackerTop){img.style.top=trackerTop+'px';}if(_this4.state.winWidth-imgWidth-imgLeft>trackerLeft){img.style.left=-(trackerLeft-(_this4.state.winWidth-imgWidth))+'px';}if(_this4.state.winHeight-imgHeight-imgTop>trackerTop){img.style.top=-(trackerTop-(_this4.state.winHeight-imgHeight))+'px';}});// 缩放\nthis.hammertime.get('pinch').set({enable:true});this.hammertime.on(\"pinchstart\",function(e){imgWidth=img.width;imgHeight=img.height;});var setImgStyle=function setImgStyle(w,h){img.style.width=w+'px';img.style.height=h+'px';img.style.left=(_this4.state.winWidth-w)/2+'px';img.style.top=(_this4.state.winHeight-h)/2+'px';};this.hammertime.on(\"pinchmove\",function(e){var w=imgWidth*e.scale;var h=imgHeight*e.scale;setImgStyle(w,h);});this.hammertime.on(\"pinchend\",function(e){imgWidth=imgWidth*e.scale;imgHeight=imgHeight*e.scale;var scale=imgWidth/imgHeight;if(imgWidth<trackerWidth){imgWidth=trackerWidth;imgHeight=imgWidth/scale;setImgStyle(imgWidth,imgHeight);}if(imgHeight<trackerHeight){imgHeight=trackerHeight;imgWidth=imgWidth*scale;setImgStyle(imgWidth,imgHeight);}});}// 裁剪图片\n},{key:'handleImg',value:function handleImg(){var _this5=this;var tracker=document.getElementById('editImg-tracker');var img=document.getElementById('editImg-img');var naturalWidth=img.naturalWidth;var naturalHeight=img.naturalHeight;var imgWidth=img.clientWidth;var scale=naturalWidth/imgWidth;var canvas=document.createElement('canvas');var ctx=canvas.getContext('2d');canvas.width=tracker.clientWidth*scale;canvas.height=tracker.clientHeight*scale;var x=(tracker.offsetLeft-img.offsetLeft)*scale;var y=(tracker.offsetTop-img.offsetTop)*scale;var newImg=new Image();newImg.src=this.state.imgSrc;newImg.onload=function(){ctx.drawImage(newImg,x,y,naturalWidth,naturalHeight,0,0,naturalWidth,naturalHeight);if(_this5.props.emitImgWidth&&_this5.props.emitImgHeight){_this5.cropImg(canvas.toDataURL(\"image/jpeg\"),naturalWidth,naturalHeight);}else{_this5.props.emitImg&&_this5.props.emitImg(canvas.toDataURL(\"image/jpeg\"),_this5.props.quality||1);}};}},{key:'cropImg',value:function cropImg(src){var _this6=this;var canvas=document.createElement('canvas');var ctx=canvas.getContext('2d');canvas.width=this.props.emitImgWidth;canvas.height=this.props.emitImgHeight;var img=new Image();img.src=src;img.onload=function(){ctx.drawImage(img,0,0,img.width,img.height,0,0,_this6.props.emitImgWidth,_this6.props.emitImgHeight);_this6.props.emitImg&&_this6.props.emitImg(canvas.toDataURL(\"image/jpeg\"),_this6.props.quality||1);};}},{key:'render',value:function render(){var _this7=this;if(!this.props.imgSrc&&!this.state.imgWidth)return null;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'editImg'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'editImg-mask'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{src:this.state.imgSrc,className:'editImg-img',id:'editImg-img',style:{width:this.state.imgWidth+'px',height:+this.state.imgHeight+'px',left:0,top:(this.state.winHeight-this.state.imgHeight)/2+'px'},alt:'\\u56FE\\u7247'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'editImg-tracker',id:'editImg-tracker',style:{width:this.state.trackerWidth+'px',height:+this.state.trackerHeight+'px',left:(this.state.winWidth-this.state.trackerWidth)/2+'px',top:(this.state.winHeight-this.state.trackerHeight)/2+'px'}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'editImg-btn',onClick:function onClick(){return _this7.handleImg();}},'\\u786E\\u5B9A'));}}]);return Editimg;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);/* harmony default export */ __webpack_exports__[\"a\"] = (Editimg);\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(113);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(76)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(75)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".editImg{position:fixed;z-index:999;overflow:hidden}.editImg,.editImg-mask{left:0;top:0;right:0;bottom:0}.editImg-mask{background:rgba(0,0,0,.7);position:absolute;z-index:1}.editImg-img,.editImg-tracker{position:absolute;z-index:2}.editImg-tracker{-webkit-box-shadow:0 0 0 2000px #000;box-shadow:0 0 0 2000px #000;opacity:.5;border:.5px solid #fff}.editImg-btn{width:5rem;line-height:2rem;color:#fff;font-size:.8rem;text-align:center;background:#2489ed;border-radius:.4rem;position:absolute;bottom:2rem;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);z-index:3}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/components/editImg/editImg.css\"],\"names\":[],\"mappings\":\"AAAA,SACE,eAAgB,AAKhB,YAAa,AACb,eAAiB,CAClB,AAED,uBARE,OAAQ,AACR,MAAO,AACP,QAAS,AACT,QAAU,CAaX,AARD,cACE,0BAA8B,AAC9B,kBAAmB,AAKnB,SAAW,CACZ,AAOD,8BAJE,kBAAmB,AACnB,SAAW,CAUZ,AAPD,iBAEE,qCAAsC,AAC9B,6BAA8B,AACtC,WAAY,AAEZ,sBAAwB,CACzB,AAED,aACE,WAAY,AACZ,iBAAkB,AAClB,WAAY,AACZ,gBAAiB,AACjB,kBAAmB,AACnB,mBAAoB,AACpB,oBAAqB,AACrB,kBAAmB,AACnB,YAAa,AACb,SAAU,AACV,mCAAoC,AAChC,+BAAgC,AAC5B,2BAA4B,AACpC,SAAW,CACZ\",\"file\":\"editImg.css\",\"sourcesContent\":[\".editImg {\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  z-index: 999;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.editImg-mask {\\r\\n  background: rgba(0, 0, 0, .7);\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  z-index: 1;\\r\\n}\\r\\n\\r\\n.editImg-img {\\r\\n  position: absolute;\\r\\n  z-index: 2;\\r\\n}\\r\\n\\r\\n.editImg-tracker {\\r\\n  position: absolute;\\r\\n  -webkit-box-shadow: 0 0 0 2000px #000;\\r\\n          box-shadow: 0 0 0 2000px #000;\\r\\n  opacity: .5;\\r\\n  z-index: 2;\\r\\n  border: .5px solid #fff;\\r\\n}\\r\\n\\r\\n.editImg-btn {\\r\\n  width: 5rem;\\r\\n  line-height: 2rem;\\r\\n  color: #fff;\\r\\n  font-size: .8rem;\\r\\n  text-align: center;\\r\\n  background: #2489ED;\\r\\n  border-radius: .4rem;\\r\\n  position: absolute;\\r\\n  bottom: 2rem;\\r\\n  left: 50%;\\r\\n  -webkit-transform: translateX(-50%);\\r\\n      -ms-transform: translateX(-50%);\\r\\n          transform: translateX(-50%);\\r\\n  z-index: 3;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_RESULT__;/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n        return Hammer;\n    }.call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(162);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(76)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(75)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".set-item-box{padding-left:.6rem;background:#fff;margin-bottom:1rem}.set-item-box .set-item:last-child:after{display:none}.set-item{height:2.5rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.set-item .l{width:2.5rem;font-size:.7rem;color:#434343}.set-item .r{-ms-flex:1 1;flex:1 1;display:-ms-flexbox;display:flex;height:100%;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;padding-right:.6rem;color:#888;font-size:.7rem}.set-item .r input{width:100%;height:2.4rem;line-height:100%;color:#888;font-size:.7rem;text-align:right}.set-item.userIcon{height:3.4rem}.set-item.userIcon .r img{width:2.6rem;height:2.6rem;border-radius:50%}.set-title{line-height:1.6rem;padding-left:.6rem;font-size:.7rem}.set-info-box{background:#fff;padding:.6rem;margin-bottom:1rem}.set-info-box textarea{width:100%;height:3.2rem;line-height:1rem;color:#434343;font-size:.7rem;resize:none;font-family:sans-serif}.set-lable-tips{font-size:.6rem;color:#aaa;line-height:.8rem;margin:0 0 1rem .6rem}.set-lable-content{margin:.6rem}.set-lable-box{margin-bottom:.6rem;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.set-lable-box div{line-height:1.4rem;color:#333;font-size:.6rem;padding:0 .8rem;margin:0 .4rem .4rem 0;background:#d7d7d7;border-radius:.7rem}.set-add-lable,.set-lable-box div.active{background:#2489ed;color:#fff}.set-add-lable{width:3.2rem;line-height:1.4rem;text-align:center;font-size:.6rem;border-radius:.7rem}.set-add-lable-input,.set-info-type-input{width:100%;line-height:2rem;border-bottom:.5px solid #eee;color:#434343}.set-save-btns{height:2rem;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;margin:2rem 0}.set-save-btns div{width:4.4rem;text-align:center;margin:0 .9rem;line-height:2rem;background:#2489ed;color:#fff;font-size:.7rem;border-radius:.3rem}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/view/setting/setting.css\"],\"names\":[],\"mappings\":\"AAAA,cACE,mBAAoB,AACpB,gBAAiB,AACjB,kBAAoB,CACrB,AAED,yCACE,YAAc,CACf,AAED,UACE,cAAe,AACf,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,kBAAoB,CACzB,AAED,aACE,aAAc,AACd,gBAAiB,AACjB,aAAe,CAChB,AAED,aACE,aAAc,AACV,SAAU,AACd,oBAAqB,AACrB,aAAc,AACd,YAAa,AACb,kBAAmB,AACf,yBAA0B,AAC9B,sBAAuB,AACnB,mBAAoB,AACxB,oBAAqB,AACrB,WAAY,AACZ,eAAiB,CAClB,AAED,mBACE,WAAY,AACZ,cAAe,AACf,iBAAkB,AAClB,WAAY,AACZ,gBAAiB,AACjB,gBAAkB,CACnB,AAED,mBACE,aAAe,CAChB,AAED,0BACE,aAAc,AACd,cAAe,AACf,iBAAmB,CACpB,AAED,WACE,mBAAoB,AACpB,mBAAoB,AACpB,eAAiB,CAClB,AAED,cACE,gBAAiB,AACjB,cAAe,AACf,kBAAoB,CACrB,AAED,uBACE,WAAY,AACZ,cAAe,AACf,iBAAkB,AAClB,cAAe,AACf,gBAAiB,AACjB,YAAa,AACb,sBAAiD,CAClD,AAED,gBACE,gBAAiB,AACjB,WAAY,AACZ,kBAAmB,AACnB,qBAAuB,CACxB,AAED,mBACE,YAAc,CACf,AAED,eACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,cAAgB,CACrB,AAED,mBACE,mBAAoB,AACpB,WAAY,AACZ,gBAAiB,AACjB,gBAAiB,AACjB,uBAAwB,AACxB,mBAAoB,AACpB,mBAAqB,CACtB,AAOD,yCAJE,mBAAoB,AACpB,UAAY,CAWb,AARD,eACE,aAAc,AACd,mBAAoB,AACpB,kBAAmB,AAEnB,gBAAiB,AAEjB,mBAAqB,CACtB,AAED,0CAEE,WAAY,AACZ,iBAAkB,AAClB,8BAA+B,AAC/B,aAAe,CAChB,AAED,eACE,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,aAAe,CAChB,AAED,mBACE,aAAc,AACd,kBAAmB,AACnB,eAAgB,AAChB,iBAAkB,AAClB,mBAAoB,AACpB,WAAY,AACZ,gBAAiB,AACjB,mBAAqB,CACtB\",\"file\":\"setting.css\",\"sourcesContent\":[\".set-item-box {\\r\\n  padding-left: .6rem;\\r\\n  background: #fff;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.set-item-box .set-item:last-child::after {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.set-item {\\r\\n  height: 2.5rem;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-align: center;\\r\\n      align-items: center;\\r\\n}\\r\\n\\r\\n.set-item .l {\\r\\n  width: 2.5rem;\\r\\n  font-size: .7rem;\\r\\n  color: #434343;\\r\\n}\\r\\n\\r\\n.set-item .r {\\r\\n  -ms-flex: 1 1;\\r\\n      flex: 1 1;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  height: 100%;\\r\\n  -ms-flex-pack: end;\\r\\n      justify-content: flex-end;\\r\\n  -ms-flex-align: center;\\r\\n      align-items: center;\\r\\n  padding-right: .6rem;\\r\\n  color: #888;\\r\\n  font-size: .7rem;\\r\\n}\\r\\n\\r\\n.set-item .r input {\\r\\n  width: 100%;\\r\\n  height: 2.4rem;\\r\\n  line-height: 100%;\\r\\n  color: #888;\\r\\n  font-size: .7rem;\\r\\n  text-align: right;\\r\\n}\\r\\n\\r\\n.set-item.userIcon {\\r\\n  height: 3.4rem;\\r\\n}\\r\\n\\r\\n.set-item.userIcon .r img {\\r\\n  width: 2.6rem;\\r\\n  height: 2.6rem;\\r\\n  border-radius: 50%;\\r\\n}\\r\\n\\r\\n.set-title {\\r\\n  line-height: 1.6rem;\\r\\n  padding-left: .6rem;\\r\\n  font-size: .7rem;\\r\\n}\\r\\n\\r\\n.set-info-box {\\r\\n  background: #fff;\\r\\n  padding: .6rem;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.set-info-box textarea {\\r\\n  width: 100%;\\r\\n  height: 3.2rem;\\r\\n  line-height: 1rem;\\r\\n  color: #434343;\\r\\n  font-size: .7rem;\\r\\n  resize: none;\\r\\n  font-family: sans-serif, \\\"Microsoft YaHei\\\", 微软雅黑;\\r\\n}\\r\\n\\r\\n.set-lable-tips {\\r\\n  font-size: .6rem;\\r\\n  color: #aaa;\\r\\n  line-height: .8rem;\\r\\n  margin: 0 0 1rem .6rem;\\r\\n}\\r\\n\\r\\n.set-lable-content {\\r\\n  margin: .6rem;\\r\\n}\\r\\n\\r\\n.set-lable-box {\\r\\n  margin-bottom: .6rem;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-wrap: wrap;\\r\\n      flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.set-lable-box div {\\r\\n  line-height: 1.4rem;\\r\\n  color: #333;\\r\\n  font-size: .6rem;\\r\\n  padding: 0 .8rem;\\r\\n  margin: 0 .4rem .4rem 0;\\r\\n  background: #D7D7D7;\\r\\n  border-radius: .7rem;\\r\\n}\\r\\n\\r\\n.set-lable-box div.active {\\r\\n  background: #2489ED;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.set-add-lable {\\r\\n  width: 3.2rem;\\r\\n  line-height: 1.4rem;\\r\\n  text-align: center;\\r\\n  color: #fff;\\r\\n  font-size: .6rem;\\r\\n  background: #2489ED;\\r\\n  border-radius: .7rem;\\r\\n}\\r\\n\\r\\n.set-add-lable-input,\\r\\n.set-info-type-input {\\r\\n  width: 100%;\\r\\n  line-height: 2rem;\\r\\n  border-bottom: .5px solid #eee;\\r\\n  color: #434343;\\r\\n}\\r\\n\\r\\n.set-save-btns {\\r\\n  height: 2rem;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-pack: center;\\r\\n      justify-content: center;\\r\\n  margin: 2rem 0;\\r\\n}\\r\\n\\r\\n.set-save-btns div {\\r\\n  width: 4.4rem;\\r\\n  text-align: center;\\r\\n  margin: 0 .9rem;\\r\\n  line-height: 2rem;\\r\\n  background: #2489ED;\\r\\n  color: #fff;\\r\\n  font-size: .7rem;\\r\\n  border-radius: .3rem;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_better_scroll__ = __webpack_require__(99);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__picker_css__ = __webpack_require__(164);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__picker_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__picker_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data__ = __webpack_require__(166);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Picker=function(_React$Component){_inherits(Picker,_React$Component);function Picker(props){_classCallCheck(this,Picker);var _this=_possibleConstructorReturn(this,(Picker.__proto__||Object.getPrototypeOf(Picker)).call(this,props));_this.state={classStr:'',selectedIndex:[],itemData:[]};_this.wheels=[];return _this;}_createClass(Picker,[{key:'componentDidMount',value:function componentDidMount(){this.init();}},{key:'init',value:function init(){var _this2=this;var itemData=[];var selectedIndex=[];if(this.props.type==='gender')itemData=__WEBPACK_IMPORTED_MODULE_5__data__[\"a\" /* default */].gender();if(this.props.type==='date')itemData=__WEBPACK_IMPORTED_MODULE_5__data__[\"a\" /* default */].date(this.props.defaultDate);if(this.props.defaultData.length>0)itemData=this.props.defaultData;if(this.props.defaultIndex.length>0){selectedIndex=this.props.defaultIndex;}else{selectedIndex=this.getSelectedIndex(itemData);}this.setState({itemData:itemData,selectedIndex:selectedIndex},function(){setTimeout(function(){_this2.setState({classStr:'m-picker-show'},function(){_this2.initWheel();});},20);});}},{key:'getSelectedIndex',value:function getSelectedIndex(itemData){var selectedIndex=[];if(this.props.type==='date'){selectedIndex.push(99);var date=this.props.defaultDate.split('-');selectedIndex.push(Number(date[1])-1);selectedIndex.push(Number(date[2])-1);}else{itemData.forEach(function(val){return selectedIndex.push(0);});}return selectedIndex;}},{key:'initWheel',value:function initWheel(){var _this3=this;var list=document.getElementsByClassName('m-picker-list');var _loop=function _loop(i){if(!_this3.wheels[i]){_this3.wheels[i]=new __WEBPACK_IMPORTED_MODULE_3_better_scroll__[\"a\" /* default */](list[i],{probeType:3,wheel:{selectedIndex:_this3.state.selectedIndex[i],rotate:25,adjustTime:100,wheelWrapperClass:'m-picker-ul',wheelItemClass:'m-picker-item',wheelDisabledItemClass:'wheel-disabled-item'}});}else{_this3.wheels[i].refresh();}_this3.wheels[i].on('scrollEnd',function(){var selectedIndex=_this3.state.selectedIndex;var itemData=_this3.state.itemData;selectedIndex[i]=_this3.wheels[i].getSelectedIndex();if(_this3.props.type==='date'&&i===0){selectedIndex[0]=99;itemData[0]=__WEBPACK_IMPORTED_MODULE_5__data__[\"a\" /* default */].getYear(_this3.state.itemData[0][selectedIndex[0]].val);}_this3.setState({itemData:itemData,selectedIndex:selectedIndex});});};for(var i=0;i<list.length;i++){_loop(i);}}},{key:'getItem',value:function getItem(){var arr1=[];this.state.itemData.forEach(function(val1,i){var arr2=[];val1.forEach(function(val2,j){arr2.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-picker-item',key:j},val2.text));});arr1.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-picker-list',key:i},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('ul',{className:'m-picker-ul'},arr2),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-picker-line m-picker-line-top'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-picker-line m-picker-line-bot'})));});return arr1;}},{key:'handleFunc',value:function handleFunc(){var _this4=this;var arr=[];this.state.itemData.forEach(function(val,i){arr.push(val[_this4.state.selectedIndex[i]]);});this.props.onOk&&this.props.onOk(arr,this.state.selectedIndex);this.handleHide();}},{key:'handleHide',value:function handleHide(){var _this5=this;this.setState({classStr:'m-picker-hide'},function(){setTimeout(function(){_this5.removeDom();},100);});}},{key:'removeDom',value:function removeDom(){if(this.props.element)document.body.removeChild(this.props.element);}},{key:'render',value:function render(){var _this6=this;if(this.state.itemData.length===0)return null;var dom=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:\"m-picker \"+this.state.classStr},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-picker-mask',onClick:function onClick(){return _this6.handleHide();}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-picker-body'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-picker-header'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',{onClick:function onClick(){return _this6.handleFunc();}},'\\u786E\\u5B9A')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-picker-content'},this.getItem())));return __WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.createPortal(dom,this.props.element);}}]);return Picker;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);Picker.propTypes={type:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.string,defaultData:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.array,defaultIndex:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.array,defaultDate:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.string,onOk:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.func};Picker.defaultProps={type:'',defaultData:[],defaultIndex:[],defaultDate:'1995-01-01',onOk:function onOk(){}};var types=['gender','date'];var show=function show(props){if(!props.type&&!props.defaultData)return;if(props.type&&!types.includes(props.type))return;if(!props.type&&props.defaultData&&(!Array.isArray(props.defaultData)||props.defaultData.length===0))return;props.defaultDate=!props.defaultDate?'1995-01-01':props.defaultDate;var element=document.createElement('div');document.body.appendChild(element);__WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.render(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Picker,Object.assign({},props,{element:element})),element);return element;};/* harmony default export */ __webpack_exports__[\"a\"] = (show);\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(165);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(76)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(75)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".m-picker,.m-picker-mask{position:fixed;left:0;top:0;right:0;bottom:0}.m-picker{z-index:99999}.m-picker-mask{z-index:1;background:#000;opacity:0;-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity}.m-picker-body{position:absolute;z-index:2;left:0;right:0;bottom:0;height:12.4rem;background:#fefefe;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.m-picker.m-picker-show .m-picker-body{-webkit-transform:translateZ(0);transform:translateZ(0)}.m-picker.m-picker-show .m-picker-body,.m-picker.m-picker-show .m-picker-mask{-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.m-picker.m-picker-show .m-picker-mask{opacity:.5}.m-picker.m-picker-hide .m-picker-body{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.m-picker.m-picker-hide .m-picker-body,.m-picker.m-picker-hide .m-picker-mask{-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s}.m-picker.m-picker-hide .m-picker-mask{opacity:0}.m-picker-header{height:2.4rem;background:#eee}.m-picker-header p{float:right;padding:0 1rem;line-height:2.4rem;color:#2489ed}.m-picker-content{-ms-flex:1 1;flex:1 1;display:-ms-flexbox;display:flex;position:relative;overflow:hidden}.m-picker-line{height:4rem;position:absolute;left:0;right:0;z-index:1;background:-webkit-gradient(linear,left bottom,left top,from(hsla(0,0%,100%,.4)),to(hsla(0,0%,100%,.8)));background:-webkit-linear-gradient(bottom,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));background:-o-linear-gradient(bottom,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));background:linear-gradient(0deg,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8))}.m-picker-line-top{top:0}.m-picker-line-bot{bottom:0}.m-picker-line:after{content:\\\"\\\";height:1px;background:#ebebeb;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);position:absolute;left:0;right:0}.m-picker-line-top:after{bottom:0}.m-picker-line-bot:before{top:0}.m-picker-list{-ms-flex:1 1;flex:1 1;position:relative}.m-picker-ul{width:100%;position:absolute;left:0;top:0;margin-top:4rem}.m-picker-item{height:2rem;line-height:2rem;text-align:center;font-size:.8rem;color:#333}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/components/picker/picker.css\"],\"names\":[],\"mappings\":\"AAAA,yBAEE,eAAgB,AAChB,OAAQ,AACR,MAAO,AACP,QAAS,AACT,QAAU,CACX,AAED,UACE,aAAe,CAChB,AAED,eACE,UAAW,AACX,gBAAiB,AACjB,UAAW,AACX,oCAAqC,AACrC,+BAAgC,AAChC,2BAA6B,CAC9B,AAED,eACE,kBAAmB,AACnB,UAAW,AACX,OAAQ,AACR,QAAS,AACT,SAAU,AACV,eAAgB,AAChB,mBAAoB,AACpB,wCAA2C,AACnC,gCAAmC,AAC3C,8CAA+C,AAC/C,sCAAuC,AACvC,iCAAkC,AAClC,8BAA+B,AAC/B,gDAAkD,AAClD,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AACvB,qBAAuB,CAC5B,AAED,uCAIE,gCAAwC,AAChC,uBAAgC,CACzC,AAED,8EAPE,gCAAmC,AAC9B,2BAA8B,AAC3B,uBAA2B,CAUpC,AALD,uCACE,UAAY,CAIb,AAED,uCAIE,wCAA2C,AACnC,+BAAmC,CAC5C,AAED,8EAPE,iCAAmC,AAC9B,4BAA8B,AAC3B,wBAA2B,CAUpC,AALD,uCACE,SAAW,CAIZ,AAED,iBACE,cAAe,AACf,eAAiB,CAClB,AAED,mBACE,YAAa,AACb,eAAgB,AAChB,mBAAoB,AACpB,aAAe,CAChB,AAED,kBACE,aAAc,AACV,SAAU,AACd,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,eAAiB,CAClB,AAED,eACE,YAAa,AACb,kBAAmB,AACnB,OAAQ,AACR,QAAS,AACT,UAAW,AACX,yGAAoH,AACpH,iFAA0F,AAC1F,4EAAqF,AACrF,sEAAgF,CACjF,AAED,mBACE,KAAO,CACR,AAED,mBACE,QAAU,CACX,AAED,qBACE,WAAY,AACZ,WAAY,AACZ,mBAAoB,AACpB,6BAA8B,AAC1B,yBAA0B,AACtB,qBAAsB,AAC9B,kBAAmB,AACnB,OAAQ,AACR,OAAS,CACV,AAED,yBACE,QAAU,CACX,AAED,0BACE,KAAO,CACR,AAED,eACE,aAAc,AACV,SAAU,AACd,iBAAmB,CACpB,AAED,aACE,WAAY,AACZ,kBAAmB,AACnB,OAAQ,AACR,MAAU,AACV,eAAiB,CAClB,AAED,eACE,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,gBAAiB,AACjB,UAAY,CACb\",\"file\":\"picker.css\",\"sourcesContent\":[\".m-picker,\\r\\n.m-picker-mask {\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-picker {\\r\\n  z-index: 99999;\\r\\n}\\r\\n\\r\\n.m-picker-mask {\\r\\n  z-index: 1;\\r\\n  background: #000;\\r\\n  opacity: 0;\\r\\n  -webkit-transition-property: opacity;\\r\\n  -o-transition-property: opacity;\\r\\n  transition-property: opacity;\\r\\n}\\r\\n\\r\\n.m-picker-body {\\r\\n  position: absolute;\\r\\n  z-index: 2;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  height: 12.4rem;\\r\\n  background: #FEFEFE;\\r\\n  -webkit-transform: translate3d(0, 100%, 0);\\r\\n          transform: translate3d(0, 100%, 0);\\r\\n  -webkit-transition-property: -webkit-transform;\\r\\n  transition-property: -webkit-transform;\\r\\n  -o-transition-property: transform;\\r\\n  transition-property: transform;\\r\\n  transition-property: transform, -webkit-transform;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-direction: column;\\r\\n      flex-direction: column;\\r\\n}\\r\\n\\r\\n.m-picker.m-picker-show .m-picker-body {\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n  -webkit-transform: translate3d(0, 0, 0);\\r\\n          transform: translate3d(0, 0, 0);\\r\\n}\\r\\n\\r\\n.m-picker.m-picker-show .m-picker-mask {\\r\\n  opacity: .5;\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n}\\r\\n\\r\\n.m-picker.m-picker-hide .m-picker-body {\\r\\n  -webkit-transition-duration: 150ms;\\r\\n       -o-transition-duration: 150ms;\\r\\n          transition-duration: 150ms;\\r\\n  -webkit-transform: translate3d(0, 100%, 0);\\r\\n          transform: translate3d(0, 100%, 0);\\r\\n}\\r\\n\\r\\n.m-picker.m-picker-hide .m-picker-mask {\\r\\n  opacity: 0;\\r\\n  -webkit-transition-duration: 150ms;\\r\\n       -o-transition-duration: 150ms;\\r\\n          transition-duration: 150ms;\\r\\n}\\r\\n\\r\\n.m-picker-header {\\r\\n  height: 2.4rem;\\r\\n  background: #eee;\\r\\n}\\r\\n\\r\\n.m-picker-header p {\\r\\n  float: right;\\r\\n  padding: 0 1rem;\\r\\n  line-height: 2.4rem;\\r\\n  color: #2489ED;\\r\\n}\\r\\n\\r\\n.m-picker-content {\\r\\n  -ms-flex: 1 1;\\r\\n      flex: 1 1;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  position: relative;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.m-picker-line {\\r\\n  height: 4rem;\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  z-index: 1;\\r\\n  background: -webkit-gradient(linear, left bottom, left top, from(hsla(0, 0%, 100%, .4)), to(hsla(0, 0%, 100%, .8)));\\r\\n  background: -webkit-linear-gradient(bottom, hsla(0, 0%, 100%, .4), hsla(0, 0%, 100%, .8));\\r\\n  background: -o-linear-gradient(bottom, hsla(0, 0%, 100%, .4), hsla(0, 0%, 100%, .8));\\r\\n  background: linear-gradient(0deg, hsla(0, 0%, 100%, .4), hsla(0, 0%, 100%, .8));\\r\\n}\\r\\n\\r\\n.m-picker-line-top {\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n.m-picker-line-bot {\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-picker-line::after {\\r\\n  content: '';\\r\\n  height: 1px;\\r\\n  background: #ebebeb;\\r\\n  -webkit-transform: scaleY(.5);\\r\\n      -ms-transform: scaleY(.5);\\r\\n          transform: scaleY(.5);\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n}\\r\\n\\r\\n.m-picker-line-top::after {\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-picker-line-bot::before {\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n.m-picker-list {\\r\\n  -ms-flex: 1 1;\\r\\n      flex: 1 1;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.m-picker-ul {\\r\\n  width: 100%;\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  top: 0rem;\\r\\n  margin-top: 4rem;\\r\\n}\\r\\n\\r\\n.m-picker-item {\\r\\n  height: 2rem;\\r\\n  line-height: 2rem;\\r\\n  text-align: center;\\r\\n  font-size: .8rem;\\r\\n  color: #333;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 166:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * picker组件获取基础数据\r\n * 性别 日期\r\n * @export\r\n * @class data\r\n *//* harmony default export */ __webpack_exports__[\"a\"] = ({gender:function gender(){return[[{val:1,text:'男'},{val:2,text:'女'}]];},getYear:function getYear(year){var data=[];for(var i=0;i<100;i++){if(year-i>=1790){data.unshift({val:year-i,text:year-i+'年'});}else{break;}}for(var _i=1;_i<100;_i++){data.push({val:year+_i,text:year+_i+'年'});}return data;},getMonth:function getMonth(){var data=[];for(var i=1;i<13;i++){data.push({val:i,text:(i<10?'0'+i:i)+'月'});}return data;},getDay:function getDay(year,month){var data=[];for(var i=1;i<this.day_arr(year,month)+1;i++){data.push({val:i,text:(i<10?'0'+i:i)+'日'});}return data;},// 如果当前年份能被4整除但是不能被100整除或者能被400整除，即可确定为闰年，返回1，否则返回0\nis_leap:function is_leap(year){return year%100===0?year%400===0?1:0:year%4===0?1:0;},// 各月份的总天数\nday_arr:function day_arr(year,month){var day_str=[];day_str.push(31,28+this.is_leap(year),31,30,31,30,31,31,30,31,30,31);return day_str[month-1];},date:function date(defaultDate){var date=defaultDate.split('-');return[this.getYear(Number(date[0])),this.getMonth(),this.getDay(Number(date[0]),Number(date[1]))];}});\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lightBox_css__ = __webpack_require__(168);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lightBox_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__lightBox_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Lightbox=function(_React$Component){_inherits(Lightbox,_React$Component);function Lightbox(props){_classCallCheck(this,Lightbox);var _this=_possibleConstructorReturn(this,(Lightbox.__proto__||Object.getPrototypeOf(Lightbox)).call(this,props));_this.state={imgWidth:0};return _this;}_createClass(Lightbox,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;var img=new Image();img.src=this.props.imgUrl;img.onload=function(){var winW=window.innerWidth;_this2.setState({imgWidth:img.width>winW?winW:img.width});};img.onerror=function(){};}},{key:'handleHide',value:function handleHide(){this.removeDom();this.props.handleCloseFunc&&this.props.handleCloseFunc();}},{key:'removeDom',value:function removeDom(){if(this.props.element)document.body.removeChild(this.props.element);}},{key:'handleBtn',value:function handleBtn(){this.removeDom();this.props.handleBtnFunc&&this.props.handleBtnFunc();}},{key:'render',value:function render(){var _this3=this;if(!this.props.imgUrl)return null;var dom=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-lightBox'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-lightBox-mask',onClick:function onClick(){return _this3.handleHide();}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-lightBox-body'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{src:this.props.imgUrl,style:{width:this.state.imgWidth},alt:''})),this.props.btnText?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-lightBox-btn',onClick:function onClick(){return _this3.handleBtn();}},this.props.btnText):null);return __WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.createPortal(dom,this.props.element);}}]);return Lightbox;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);Lightbox.propTypes={imgUrl:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.string,btnText:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.string,handleBtnFunc:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.func,handleCloseFunc:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.func};Lightbox.defaultProps={imgUrl:'',btnText:'',handleBtnFunc:function handleBtnFunc(){},handleCloseFunc:function handleCloseFunc(){}};var show=function show(props){var element=document.createElement('div');document.body.appendChild(element);__WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.render(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Lightbox,Object.assign({},props,{element:element})),element);return element;};/* harmony default export */ __webpack_exports__[\"a\"] = (show);\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(169);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(76)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(75)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".m-lightBox,.m-lightBox-mask{position:fixed;left:0;top:0;right:0;bottom:0}.m-lightBox{z-index:999}.m-lightBox-mask{z-index:1;background:rgba(0,0,0,.75)}.m-lightBox-body{position:absolute;z-index:2;left:50%;top:50%;background:#fefefe;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0)}.m-lightBox-body img{display:block}.m-lightBox-btn{position:absolute;left:50%;bottom:2rem;z-index:3;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);font-size:.7rem;color:#ddd;padding:0 .6rem;line-height:1.6rem;border-radius:.8rem;border:.5px solid #ddd}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/components/lightBox/lightBox.css\"],\"names\":[],\"mappings\":\"AAAA,6BAEE,eAAgB,AAChB,OAAQ,AACR,MAAO,AACP,QAAS,AACT,QAAU,CACX,AAED,YACE,WAAa,CACd,AAED,iBACE,UAAW,AACX,0BAA+B,CAChC,AAED,iBACE,kBAAmB,AACnB,UAAW,AACX,SAAU,AACV,QAAS,AACT,mBAAoB,AACpB,2CAA8C,AACtC,kCAAsC,CAC/C,AAED,qBACE,aAAe,CAChB,AAED,gBACE,kBAAmB,AACnB,SAAU,AACV,YAAa,AACb,UAAW,AACX,mCAAoC,AAChC,+BAAgC,AAC5B,2BAA4B,AACpC,gBAAiB,AACjB,WAAY,AACZ,gBAAiB,AACjB,mBAAoB,AACpB,oBAAqB,AACrB,sBAAwB,CACzB\",\"file\":\"lightBox.css\",\"sourcesContent\":[\".m-lightBox,\\r\\n.m-lightBox-mask {\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-lightBox {\\r\\n  z-index: 999;\\r\\n}\\r\\n\\r\\n.m-lightBox-mask {\\r\\n  z-index: 1;\\r\\n  background: rgba(0, 0, 0, .75);\\r\\n}\\r\\n\\r\\n.m-lightBox-body {\\r\\n  position: absolute;\\r\\n  z-index: 2;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  background: #FEFEFE;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0);\\r\\n          transform: translate3d(-50%, -50%, 0);\\r\\n}\\r\\n\\r\\n.m-lightBox-body img {\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.m-lightBox-btn {\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  bottom: 2rem;\\r\\n  z-index: 3;\\r\\n  -webkit-transform: translateX(-50%);\\r\\n      -ms-transform: translateX(-50%);\\r\\n          transform: translateX(-50%);\\r\\n  font-size: .7rem;\\r\\n  color: #ddd;\\r\\n  padding: 0 .6rem;\\r\\n  line-height: 1.6rem;\\r\\n  border-radius: .8rem;\\r\\n  border: .5px solid #ddd;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_Utils__ = __webpack_require__(87);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__updateIcon_css__ = __webpack_require__(171);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__updateIcon_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__updateIcon_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Updateicon=function(_React$Component){_inherits(Updateicon,_React$Component);function Updateicon(props){_classCallCheck(this,Updateicon);var _this=_possibleConstructorReturn(this,(Updateicon.__proto__||Object.getPrototypeOf(Updateicon)).call(this,props));_this.state={};return _this;}_createClass(Updateicon,[{key:'componentDidMount',value:function componentDidMount(){}},{key:'changeSelectImg',value:function changeSelectImg(evt){var _this2=this;this.props.click&&this.props.click();var loading=__WEBPACK_IMPORTED_MODULE_1__common_Utils__[\"a\" /* default */].toast.loading();var file=evt.target.files[0];if(['jpeg','png','jpg'].indexOf(file.type.split(\"/\")[1])<0){__WEBPACK_IMPORTED_MODULE_1__common_Utils__[\"a\" /* default */].toast.info('文件类型仅支持 jpeg/png/jpg');loading.parentNode.removeChild(loading);return;}var img=new Image();var windowURL=window.URL||window.webkitURL;var imgMaxSize=1024*1024*5;var imgMinWidth=400;var imgMinHeight=400;img.src=windowURL.createObjectURL(file);img.onload=function(){loading.parentNode.removeChild(loading);if(imgMinWidth&&img.width<imgMinWidth){__WEBPACK_IMPORTED_MODULE_1__common_Utils__[\"a\" /* default */].toast.info('图片最小宽度'+imgMinWidth+'像素');return;}if(imgMinHeight&&img.height<imgMinHeight){__WEBPACK_IMPORTED_MODULE_1__common_Utils__[\"a\" /* default */].toast.info('图片最小高度'+imgMinHeight+'像素');return;}var canvas=document.createElement('canvas');var ctx=canvas.getContext('2d');canvas.width=img.width;canvas.height=img.height;ctx.drawImage(img,0,0,canvas.width,canvas.height);var imgSrc=canvas.toDataURL(file.type,file.size>imgMaxSize?imgMaxSize/file.size:1);_this2.props.change&&_this2.props.change(imgSrc);};}},{key:'render',value:function render(){var _this3=this;if(!this.props.toggle)return null;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-updateIcon'},'\\u4FEE\\u6539\\u5934\\u50CF',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input',{type:'file',accept:'image/*',onChange:function onChange(e){return _this3.changeSelectImg(e);}}));}}]);return Updateicon;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);/* harmony default export */ __webpack_exports__[\"a\"] = (Updateicon);\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(172);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(76)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(75)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".set-updateIcon{position:fixed;left:50%;bottom:2rem;z-index:9999;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);font-size:.7rem;color:#ddd;padding:0 .6rem;line-height:1.6rem;border-radius:.8rem;border:.5px solid #ddd;overflow:hidden}.set-updateIcon input{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/view/setting/updateIcon/updateIcon.css\"],\"names\":[],\"mappings\":\"AAAA,gBACE,eAAgB,AAChB,SAAU,AACV,YAAa,AACb,aAAc,AACd,mCAAoC,AAChC,+BAAgC,AAC5B,2BAA4B,AACpC,gBAAiB,AACjB,WAAY,AACZ,gBAAiB,AACjB,mBAAoB,AACpB,oBAAqB,AACrB,uBAAwB,AACxB,eAAiB,CAClB,AAED,sBACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,WAAY,AACZ,YAAa,AACb,SAAW,CACZ\",\"file\":\"updateIcon.css\",\"sourcesContent\":[\".set-updateIcon {\\r\\n  position: fixed;\\r\\n  left: 50%;\\r\\n  bottom: 2rem;\\r\\n  z-index: 9999;\\r\\n  -webkit-transform: translateX(-50%);\\r\\n      -ms-transform: translateX(-50%);\\r\\n          transform: translateX(-50%);\\r\\n  font-size: .7rem;\\r\\n  color: #ddd;\\r\\n  padding: 0 .6rem;\\r\\n  line-height: 1.6rem;\\r\\n  border-radius: .8rem;\\r\\n  border: .5px solid #ddd;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.set-updateIcon input {\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  opacity: 0;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 82:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__setting_css__ = __webpack_require__(161);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__setting_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__setting_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_Utils__ = __webpack_require__(87);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_picker_picker__ = __webpack_require__(163);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_lightBox_lightBox__ = __webpack_require__(167);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__updateIcon_updateIcon__ = __webpack_require__(170);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_editImg_editImg__ = __webpack_require__(111);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var slable=[{id:1,name:'简约',select:false},{id:2,name:'暖色',select:false},{id:3,name:'极客范',select:false},{id:4,name:'懒窝',select:false}];var Setting=function(_React$Component){_inherits(Setting,_React$Component);function Setting(props){_classCallCheck(this,Setting);var _this=_possibleConstructorReturn(this,(Setting.__proto__||Object.getPrototypeOf(Setting)).call(this,props));_this.state={info:{icon:'https://avatars1.githubusercontent.com/u/28089159?s=460&v=4',name:'昵称',occupation:'设计师'},lable:[].concat(slable,slable,slable),toggleUpateIconBtn:false,changeIconSrc:''};_this.components=[];return _this;}_createClass(Setting,[{key:'componentDidMount',value:function componentDidMount(){}},{key:'componentWillUnmount',value:function componentWillUnmount(){var _this2=this;this.components.forEach(function(val){return _this2.removeModal(val);});}},{key:'removeModal',value:function removeModal(node){node&&node.parentNode&&node.parentNode.removeChild(node);}},{key:'selectLable',value:function selectLable(idx){var lable=JSON.parse(JSON.stringify(this.state.lable));lable[idx].select=!lable[idx].select;this.setState({lable:lable});}},{key:'addLable',value:function addLable(){var _this3=this;var modal=__WEBPACK_IMPORTED_MODULE_2__common_Utils__[\"a\" /* default */].toast.modal({message:'<input class=\"set-add-lable-input\" id=\"setAddLable\" placeholder=\"标签名称\" />',onOk:function onOk(){var name=document.getElementById('setAddLable').value;if(name===''){__WEBPACK_IMPORTED_MODULE_2__common_Utils__[\"a\" /* default */].toast.info('请输入标签名称');return;}var lable=JSON.parse(JSON.stringify(_this3.state.lable));lable.unshift({id:4,name:name,select:true});_this3.setState({lable:lable});}});this.components.push(modal);setTimeout(function(){document.getElementById('setAddLable').focus();},300);}},{key:'getLable',value:function getLable(){var _this4=this;var arr=[];this.state.lable.forEach(function(val,idx){arr.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{key:idx,className:val.select?'active':'',onClick:function onClick(){return _this4.selectLable(idx);}},val.name));});return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-lable-content'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-lable-box'},arr),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-add-lable',onClick:function onClick(){return _this4.addLable();}},'+\\u81EA\\u5B9A\\u4E49'));}},{key:'render',value:function render(){var _this5=this;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'setting'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-item-box'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-item userIcon borderBottom'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'l'},'\\u5934\\u50CF'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'r',onClick:function onClick(){return _this5.handleIcon();}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img',{src:this.state.info.icon,alt:''}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-item borderBottom'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'l'},'\\u6635\\u79F0'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'r',onClick:function onClick(){return _this5.handleModal('name');}},this.state.info.name)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-item borderBottom'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'l'},'\\u6027\\u522B'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'r',onClick:function onClick(){return _this5.handlePicker('gender');}},'\\u7537')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-item borderBottom'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'l'},'\\u804C\\u4E1A'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'r',onClick:function onClick(){return _this5.handleModal('occupation');}},this.state.info.occupation)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-item borderBottom'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'l'},'\\u751F\\u65E5'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'r',onClick:function onClick(){return _this5.handlePicker('date');}},'1995-02-22'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-title'},'\\u4E2A\\u4EBA\\u7B80\\u4ECB'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-info-box'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('textarea',{placeholder:'~\\u592A\\u61D2\\u4E86\\uFF0C\\u5565\\u4E5F\\u4E0D\\u7559\\uFF0Cemmmm\\uFF01\\uFF01\\uFF01\\uFF01'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-title'},'\\u4E2A\\u6027\\u6807\\u7B7E'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-lable-tips'},'\\u9009\\u62E9\\u5C5E\\u4E8E\\u4F60\\u7684\\u6807\\u7B7E\\uFF0C\\u8BA9\\u66F4\\u591A\\u4EBA\\u6B23\\u8D4F\\u4F60\\u7684\\u5C0F\\u7A9D~'),this.getLable(),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'set-save-btns'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{onClick:function onClick(){return _this5.handleSave();}},'\\u4FDD\\u5B58')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__updateIcon_updateIcon__[\"a\" /* default */],{toggle:this.state.toggleUpateIconBtn,click:function click(){return _this5.handleUpdateIconClick();},change:function change(src){return _this5.handleUpdateIconChange(src);}}),this.state.changeIconSrc?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_6__components_editImg_editImg__[\"a\" /* default */],{imgSrc:this.state.changeIconSrc,proportion:'1:1',emitImgWidth:800,emitImgHeight:800,quality:0.7,emitImg:function emitImg(src){return _this5.updateIconFunc(src);}}):null);}},{key:'updateIconFunc',value:function updateIconFunc(src){this.updateData('icon',src);this.setState({changeIconSrc:''});}},{key:'handleUpdateIconClick',value:function handleUpdateIconClick(){this.lightBox&&this.lightBox.parentNode&&this.lightBox.parentNode.removeChild(this.lightBox);this.setState({toggleUpateIconBtn:false});}},{key:'handleUpdateIconChange',value:function handleUpdateIconChange(src){this.setState({changeIconSrc:src});}},{key:'handleIcon',value:function handleIcon(){var _this6=this;this.lightBox=new __WEBPACK_IMPORTED_MODULE_4__components_lightBox_lightBox__[\"a\" /* default */]({imgUrl:this.state.info.icon,handleCloseFunc:function handleCloseFunc(){_this6.handleUpdateIconClick();}});this.components.push(this.lightBox);this.setState({toggleUpateIconBtn:true});}},{key:'updateData',value:function updateData(key,val){var info=this.state.info;info[key]=val;this.setState({info:info});}},{key:'handleModal',value:function handleModal(key){var _this7=this;var placeholder=key==='name'?'昵称':'职业';var modal=__WEBPACK_IMPORTED_MODULE_2__common_Utils__[\"a\" /* default */].toast.modal({message:'<input class=\"set-info-type-input\" id=\"setInfoType\" placeholder='+placeholder+' value='+this.state.info[key]+' />',onOk:function onOk(){var value=document.getElementById('setInfoType').value;if(value===''){__WEBPACK_IMPORTED_MODULE_2__common_Utils__[\"a\" /* default */].toast.info('请输入'+placeholder);return;}_this7.updateData(key,value);}});this.components.push(modal);setTimeout(function(){var input=document.getElementById('setInfoType');input.focus();__WEBPACK_IMPORTED_MODULE_2__common_Utils__[\"a\" /* default */].focusToLast(input);},300);}},{key:'handlePicker',value:function handlePicker(type){var defaultIndex=[];var defaultDate='';if(type==='gender')defaultIndex=[1];if(type==='date')defaultDate='2019-08-21';var picker=Object(__WEBPACK_IMPORTED_MODULE_3__components_picker_picker__[\"a\" /* default */])({type:type,defaultIndex:defaultIndex,defaultDate:defaultDate,onOk:function onOk(val,indx){console.log(val);console.log(indx);}});this.components.push(picker);}},{key:'handleSave',value:function handleSave(){}}]);return Setting;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);/* harmony default export */ __webpack_exports__[\"default\"] = (Setting);\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_toast_toast__ = __webpack_require__(88);\n/* harmony default export */ __webpack_exports__[\"a\"] = ({toast:__WEBPACK_IMPORTED_MODULE_0__components_toast_toast__[\"a\" /* default */],/**\r\n   * 转换时间格式\r\n   * 用法：format(ms,'yyyy-MM-dd hh:mm:ss')\r\n   * @param time 毫秒数\r\n   * @param fmt 要转换的时间格式\r\n   */format:function format(time,fmt){var d=new Date(time+8*3600*1000);var o={\"M+\":d.getUTCMonth()+1,//月份\n\"d+\":d.getUTCDate(),//日\n\"h+\":d.getUTCHours(),//小时\n\"m+\":d.getUTCMinutes(),//分\n\"s+\":d.getUTCSeconds(),//秒\n\"q+\":Math.floor((d.getUTCMonth()+3)/3),//季度\n\"S\":d.getUTCMilliseconds()//毫秒\n};if(/(y+)/.test(fmt))fmt=fmt.replace(RegExp.$1,(d.getUTCFullYear()+\"\").substr(4-RegExp.$1.length));for(var k in o){if(new RegExp(\"(\"+k+\")\").test(fmt))fmt=fmt.replace(RegExp.$1,RegExp.$1.length===1?o[k]:(\"00\"+o[k]).substr((\"\"+o[k]).length));}return fmt;},/**\r\n   * 判断object是否为空\r\n   *\r\n   * @param {*} object\r\n   * @returns\r\n   */isEmptyObject:function isEmptyObject(object){var t=void 0;for(t in object){return true;}return false;},/**\r\n   * 获取url参数\r\n   * @param param 参数名\r\n   * @returns {*}\r\n   */getUrlParams:function getUrlParams(param){var ps=decodeURI(window.location.href);if(ps==='')return'';var params=ps.substr(ps.lastIndexOf(\"?\")+1).split(\"&\");if(params!==null){for(var i=0;i<params.length;i++){var strs=params[i].split(\"=\");if(strs[0]===param&&strs[1]){return strs[1];}}}return\"\";},/**\r\n   * 数字转中文 1 => 一\r\n   * 100内\r\n   */numberToZh:function numberToZh(num){var arr=['一','二','三','四','五','六','七','八','九','十'];if(num<11)return arr[num-1];var str='';(num+'').split('').forEach(function(val,idx){val=Number(val);if(idx===0){if(val===1){str+=arr[9];}else{str+=arr[val-1];str+=arr[9];}}else{str+=arr[val-1];}});return str;},// 输入框将光标转移到最后\nfocusToLast:function focusToLast(input){var len=input.value.length;if(document.selection){var sel=input.createTextRange();sel.moveStart('character',len);sel.collapse();sel.select();}else if(typeof input.selectionStart==='number'&&typeof input.selectionEnd==='number'){input.selectionStart=input.selectionEnd=len;}}});\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__toast_css__ = __webpack_require__(89);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__toast_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__toast_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Toast=function(_React$Component){_inherits(Toast,_React$Component);function Toast(props){_classCallCheck(this,Toast);var _this=_possibleConstructorReturn(this,(Toast.__proto__||Object.getPrototypeOf(Toast)).call(this,props));_this.state={isOpen:props.isOpen,classStr:''};return _this;}_createClass(Toast,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;setTimeout(function(){_this2.setState({classStr:'m-toast-show'});},20);if(this.props.type==='info'){this.timeout=setTimeout(function(){_this2.close();},this.props.duration);}}},{key:'handleOk',value:function handleOk(props){props.onOk();this.close();}},{key:'handleCancel',value:function handleCancel(props){props.onCancel();this.close();}},{key:'close',value:function close(){var _this3=this;this.setState({isOpen:false,classStr:'m-toast-hide'},function(){setTimeout(function(){_this3.removeDom();},150);});}},{key:'removeDom',value:function removeDom(){if(this.props.element)document.body.removeChild(this.props.element);}},{key:'render',value:function render(){var _this4=this;var _props=this.props,type=_props.type,title=_props.title,message=_props.message,okText=_props.okText,cancelText=_props.cancelText;var dom=null;if(type==='modal'){dom=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:\"m-toast \"+this.state.classStr},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-toast-mask'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-toast-body'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-toast-title'},title),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-toast-message',dangerouslySetInnerHTML:{__html:message}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-toast-footer'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-toast-btn',onClick:function onClick(){return _this4.handleCancel(_this4.props);}},cancelText),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'m-toast-btn',onClick:function onClick(){return _this4.handleOk(_this4.props);}},okText))));}if(type==='info'){dom=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:\"m-toast-info \"+this.state.classStr},message);}if(type==='loading'){dom=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:\"m-toast \"+this.state.classStr},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{className:'iconfont icon-Loading'}));}return __WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.createPortal(dom,this.props.element);}}]);return Toast;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);Toast.propTypes={isOpen:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.bool.isRequired,history:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.object,type:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.string,title:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.string.isRequired,message:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.string.isRequired,onCancel:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.func,onOk:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.func,okText:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.string,cancelText:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.string,duration:__WEBPACK_IMPORTED_MODULE_2_prop_types___default.a.number};Toast.defaultProps={isOpen:true,history:null,type:'',title:'',message:'',onCancel:function onCancel(){},onOk:function onOk(){},okText:'确定',cancelText:'取消',duration:2000};var show=function show(props){var element=document.createElement('div');document.body.appendChild(element);__WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.render(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Toast,Object.assign({},props,{element:element})),element);return element;};var initFnc={modal:function modal(props){return show(Object.assign({},props,{type:'modal'}));},info:function info(message){var duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2000;return show({message:message,duration:duration,type:'info'});},loading:function loading(){return show({type:'loading'});}};/* harmony default export */ __webpack_exports__[\"a\"] = (initFnc);\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(90);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(76)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(75)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".m-toast,.m-toast-mask{position:fixed;left:0;top:0;right:0;bottom:0}.m-toast{z-index:99999}.m-toast-mask{z-index:1;background:#000;opacity:0;-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity}.m-toast-body{width:14rem;padding:.5rem;background:#fff;border-radius:.25rem;position:absolute;left:50%;top:50%;z-index:2;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;-o-transition-property:transform,opacity;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transform:translate3d(-50%,-50%,0) scale(.9);transform:translate3d(-50%,-50%,0) scale(.9);opacity:0}.m-toast-title{color:#343434;font-size:.8rem;line-height:2rem}.m-toast-message{padding-left:.75rem;color:#666;font-size:.7rem;line-height:2rem}.m-toast-footer{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}.m-toast-btn{padding:0 .75rem;font-size:.7rem;color:#2489ed;line-height:2rem}.m-toast.m-toast-show .m-toast-body{-webkit-transform:translate3d(-50%,-50%,0) scale(1);transform:translate3d(-50%,-50%,0) scale(1);opacity:1}.m-toast.m-toast-show .m-toast-body,.m-toast.m-toast-show .m-toast-mask{-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.m-toast.m-toast-show .m-toast-mask{opacity:.5}.m-toast.m-toast-hide .m-toast-body{-webkit-transform:translate3d(-50%,-50%,0) scale(.9);transform:translate3d(-50%,-50%,0) scale(.9)}.m-toast.m-toast-hide .m-toast-body,.m-toast.m-toast-hide .m-toast-mask{-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s;opacity:0}.m-toast-info{padding:.6rem .8rem;background:rgba(0,0,0,.75);border-radius:.4rem;font-size:.7rem;color:#fff;position:fixed;left:50%;top:50%;z-index:9999;-webkit-transform:translate3d(-50%,-50%,0) scale(.8);transform:translate3d(-50%,-50%,0) scale(.8);opacity:0;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;-o-transition-property:transform,opacity;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.m-toast-info.m-toast-show{-webkit-transform:translate3d(-50%,-50%,0) scale(1);transform:translate3d(-50%,-50%,0) scale(1);opacity:1}.m-toast-info.m-toast-hide,.m-toast-info.m-toast-show{-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.m-toast-info.m-toast-hide{-webkit-transform:translate3d(-50%,-50%,0) scale(.8);transform:translate3d(-50%,-50%,0) scale(.8);opacity:0}.m-toast .icon-Loading{font-size:3rem;color:#2489ed;position:absolute;left:50%;top:30%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.m-toast.m-toast-show .icon-Loading{-webkit-animation:loding 1.3s linear infinite;animation:loding 1.3s linear infinite}@-webkit-keyframes loding{to{-webkit-transform:translateX(-50%) rotate(1turn);transform:translateX(-50%) rotate(1turn)}}@keyframes loding{to{-webkit-transform:translateX(-50%) rotate(1turn);transform:translateX(-50%) rotate(1turn)}}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/components/toast/toast.css\"],\"names\":[],\"mappings\":\"AAAA,uBAEE,eAAgB,AAChB,OAAQ,AACR,MAAO,AACP,QAAS,AACT,QAAU,CACX,AAED,SACE,aAAe,CAChB,AAED,cACE,UAAW,AACX,gBAAiB,AACjB,UAAW,AACX,oCAAqC,AACrC,+BAAgC,AAChC,2BAA6B,CAC9B,AAED,cACE,YAAa,AACb,cAAe,AACf,gBAAiB,AACjB,qBAAsB,AACtB,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,UAAW,AACX,sDAAwD,AACxD,8CAAgD,AAChD,yCAA2C,AAC3C,sCAAwC,AACxC,wDAA2D,AAC3D,qDAAwD,AAChD,6CAAgD,AACxD,SAAW,CACZ,AAED,eACE,cAAe,AACf,gBAAiB,AACjB,gBAAkB,CACnB,AAED,iBACE,oBAAqB,AACrB,WAAY,AACZ,gBAAiB,AACjB,gBAAkB,CACnB,AAED,gBACE,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACf,wBAA0B,CAC/B,AAED,aACE,iBAAkB,AAClB,gBAAiB,AACjB,cAAe,AACf,gBAAkB,CACnB,AAED,oCAIE,oDAAuD,AAC/C,4CAA+C,AACvD,SAAW,CACZ,AAED,wEARE,gCAAmC,AAC9B,2BAA8B,AAC3B,uBAA2B,CAWpC,AALD,oCACE,UAAY,CAIb,AAED,oCAIE,qDAAwD,AAChD,4CAAgD,CAEzD,AAED,wEARE,iCAAmC,AAC9B,4BAA8B,AAC3B,yBAA2B,AAGnC,SAAW,CAQZ,AAED,cACE,oBAAqB,AACrB,2BAA+B,AAC/B,oBAAqB,AACrB,gBAAiB,AACjB,WAAY,AACZ,eAAgB,AAChB,SAAU,AACV,QAAS,AACT,aAAc,AACd,qDAAwD,AAChD,6CAAgD,AACxD,UAAW,AACX,sDAAwD,AACxD,8CAAgD,AAChD,yCAA2C,AAC3C,sCAAwC,AACxC,uDAA2D,CAC5D,AAED,2BAIE,oDAAuD,AAC/C,4CAA+C,AACvD,SAAW,CACZ,AAED,sDARE,gCAAmC,AAC9B,2BAA8B,AAC3B,uBAA2B,CAapC,AAPD,2BAIE,qDAAwD,AAChD,6CAAgD,AACxD,SAAW,CACZ,AAED,uBACE,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,mCAAoC,AAChC,+BAAgC,AAC5B,0BAA4B,CACrC,AAED,oCACE,8CAA+C,AACvC,qCAAuC,CAChD,AAED,0BACE,GACE,iDAAmD,AAC3C,wCAA2C,CACpD,CACF,AAED,kBACE,GACE,iDAAmD,AAC3C,wCAA2C,CACpD,CACF\",\"file\":\"toast.css\",\"sourcesContent\":[\".m-toast,\\r\\n.m-toast-mask {\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-toast {\\r\\n  z-index: 99999;\\r\\n}\\r\\n\\r\\n.m-toast-mask {\\r\\n  z-index: 1;\\r\\n  background: #000;\\r\\n  opacity: 0;\\r\\n  -webkit-transition-property: opacity;\\r\\n  -o-transition-property: opacity;\\r\\n  transition-property: opacity;\\r\\n}\\r\\n\\r\\n.m-toast-body {\\r\\n  width: 14rem;\\r\\n  padding: .5rem;\\r\\n  background: #fff;\\r\\n  border-radius: .25rem;\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  z-index: 2;\\r\\n  -webkit-transition-property: opacity, -webkit-transform;\\r\\n  transition-property: opacity, -webkit-transform;\\r\\n  -o-transition-property: transform, opacity;\\r\\n  transition-property: transform, opacity;\\r\\n  transition-property: transform, opacity, -webkit-transform;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(.9);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(.9);\\r\\n  opacity: 0;\\r\\n}\\r\\n\\r\\n.m-toast-title {\\r\\n  color: #343434;\\r\\n  font-size: .8rem;\\r\\n  line-height: 2rem;\\r\\n}\\r\\n\\r\\n.m-toast-message {\\r\\n  padding-left: .75rem;\\r\\n  color: #666;\\r\\n  font-size: .7rem;\\r\\n  line-height: 2rem;\\r\\n}\\r\\n\\r\\n.m-toast-footer {\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-pack: end;\\r\\n      justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.m-toast-btn {\\r\\n  padding: 0 .75rem;\\r\\n  font-size: .7rem;\\r\\n  color: #2489ED;\\r\\n  line-height: 2rem;\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-show .m-toast-body {\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(1);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(1);\\r\\n  opacity: 1;\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-show .m-toast-mask {\\r\\n  opacity: .5;\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-hide .m-toast-body {\\r\\n  -webkit-transition-duration: 150ms;\\r\\n       -o-transition-duration: 150ms;\\r\\n          transition-duration: 150ms;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(.9);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(.9);\\r\\n  opacity: 0;\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-hide .m-toast-mask {\\r\\n  opacity: 0;\\r\\n  -webkit-transition-duration: 150ms;\\r\\n       -o-transition-duration: 150ms;\\r\\n          transition-duration: 150ms;\\r\\n}\\r\\n\\r\\n.m-toast-info {\\r\\n  padding: .6rem .8rem;\\r\\n  background: rgba(0, 0, 0, .75);\\r\\n  border-radius: .4rem;\\r\\n  font-size: .7rem;\\r\\n  color: #fff;\\r\\n  position: fixed;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  z-index: 9999;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(.8);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(.8);\\r\\n  opacity: 0;\\r\\n  -webkit-transition-property: opacity, -webkit-transform;\\r\\n  transition-property: opacity, -webkit-transform;\\r\\n  -o-transition-property: transform, opacity;\\r\\n  transition-property: transform, opacity;\\r\\n  transition-property: transform, opacity, -webkit-transform;\\r\\n}\\r\\n\\r\\n.m-toast-info.m-toast-show {\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(1);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(1);\\r\\n  opacity: 1;\\r\\n}\\r\\n\\r\\n.m-toast-info.m-toast-hide {\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(.8);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(.8);\\r\\n  opacity: 0;\\r\\n}\\r\\n\\r\\n.m-toast .icon-Loading {\\r\\n  font-size: 3rem;\\r\\n  color: #2489ED;\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  top: 30%;\\r\\n  -webkit-transform: translateX(-50%);\\r\\n      -ms-transform: translateX(-50%);\\r\\n          transform: translateX(-50%);\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-show .icon-Loading {\\r\\n  -webkit-animation: loding 1.3s linear infinite;\\r\\n          animation: loding 1.3s linear infinite;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes loding {\\r\\n  to {\\r\\n    -webkit-transform: translateX(-50%) rotate(360deg);\\r\\n            transform: translateX(-50%) rotate(360deg);\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes loding {\\r\\n  to {\\r\\n    -webkit-transform: translateX(-50%) rotate(360deg);\\r\\n            transform: translateX(-50%) rotate(360deg);\\r\\n  }\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*!\n * better-normal-scroll v1.15.2\n * (c) 2016-2019 ustbhuangyi\n * Released under the MIT License.\n */\n// As of V8 6.6, depending on the size of the array, this is anywhere\n// between 1.5-10x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nfunction eventMixin(BScroll) {\n  BScroll.prototype.on = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    if (!this._events[type]) {\n      this._events[type] = [];\n    }\n\n    this._events[type].push([fn, context]);\n  };\n\n  BScroll.prototype.once = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    function magic() {\n      this.off(type, magic);\n\n      fn.apply(context, arguments);\n    }\n    // To expose the corresponding function method in order to execute the off method\n    magic.fn = fn;\n\n    this.on(type, magic);\n  };\n\n  BScroll.prototype.off = function (type, fn) {\n    var _events = this._events[type];\n    if (!_events) {\n      return;\n    }\n\n    var count = _events.length;\n    while (count--) {\n      if (_events[count][0] === fn || _events[count][0] && _events[count][0].fn === fn) {\n        spliceOne(_events, count);\n      }\n    }\n  };\n\n  BScroll.prototype.trigger = function (type) {\n    var events = this._events[type];\n    if (!events) {\n      return;\n    }\n\n    var len = events.length;\n    var eventsCopy = [].concat(toConsumableArray(events));\n    for (var i = 0; i < len; i++) {\n      var event = eventsCopy[i];\n\n      var _event = slicedToArray(event, 2),\n          fn = _event[0],\n          context = _event[1];\n\n      if (fn) {\n        fn.apply(context, [].slice.call(arguments, 1));\n      }\n    }\n  };\n}\n\n// ssr support\nvar inBrowser = typeof window !== 'undefined';\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\nvar isWeChatDevTools = ua && /wechatdevtools/.test(ua);\nvar isAndroid = ua && ua.indexOf('android') > 0;\n\nfunction getNow() {\n  return window.performance && window.performance.now ? window.performance.now() + window.performance.timing.navigationStart : +new Date();\n}\n\nfunction extend(target) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < rest.length; i++) {\n    var source = rest[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nfunction isUndef(v) {\n  return v === undefined || v === null;\n}\n\nfunction getDistance(x, y) {\n  return Math.sqrt(x * x + y * y);\n}\n\nvar elementStyle = inBrowser && document.createElement('div').style;\n\nvar vendor = function () {\n  if (!inBrowser) {\n    return false;\n  }\n  // first pick up standard to fix #743\n  var transformNames = {\n    standard: 'transform',\n    webkit: 'webkitTransform',\n    Moz: 'MozTransform',\n    O: 'OTransform',\n    ms: 'msTransform'\n  };\n\n  for (var key in transformNames) {\n    if (elementStyle[transformNames[key]] !== undefined) {\n      return key;\n    }\n  }\n\n  return false;\n}();\n\nfunction prefixStyle(style) {\n  if (vendor === false) {\n    return false;\n  }\n\n  if (vendor === 'standard') {\n    if (style === 'transitionEnd') {\n      return 'transitionend';\n    }\n    return style;\n  }\n\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1);\n}\n\nfunction addEvent(el, type, fn, capture) {\n  el.addEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction removeEvent(el, type, fn, capture) {\n  el.removeEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction offset(el) {\n  var left = 0;\n  var top = 0;\n\n  while (el) {\n    left -= el.offsetLeft;\n    top -= el.offsetTop;\n    el = el.offsetParent;\n  }\n\n  return {\n    left: left,\n    top: top\n  };\n}\n\nfunction offsetToBody(el) {\n  var rect = el.getBoundingClientRect();\n\n  return {\n    left: -(rect.left + window.pageXOffset),\n    top: -(rect.top + window.pageYOffset)\n  };\n}\n\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\n\nvar transform = prefixStyle('transform');\nvar transition = prefixStyle('transition');\n\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\n// fix issue #361\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\nvar hasTransform = transform !== false;\nvar hasTransition = inBrowser && transition in elementStyle;\n\nvar style = {\n  transform: transform,\n  transition: transition,\n  transitionTimingFunction: prefixStyle('transitionTimingFunction'),\n  transitionDuration: prefixStyle('transitionDuration'),\n  transitionDelay: prefixStyle('transitionDelay'),\n  transformOrigin: prefixStyle('transformOrigin'),\n  transitionEnd: prefixStyle('transitionEnd')\n};\n\nvar TOUCH_EVENT = 1;\nvar MOUSE_EVENT = 2;\n\nvar eventType = {\n  touchstart: TOUCH_EVENT,\n  touchmove: TOUCH_EVENT,\n  touchend: TOUCH_EVENT,\n\n  mousedown: MOUSE_EVENT,\n  mousemove: MOUSE_EVENT,\n  mouseup: MOUSE_EVENT\n};\n\nfunction getRect(el) {\n  if (el instanceof window.SVGElement) {\n    var rect = el.getBoundingClientRect();\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  } else {\n    return {\n      top: el.offsetTop,\n      left: el.offsetLeft,\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    };\n  }\n}\n\nfunction preventDefaultException(el, exceptions) {\n  for (var i in exceptions) {\n    if (exceptions[i].test(el[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction tap(e, eventName) {\n  var ev = document.createEvent('Event');\n  ev.initEvent(eventName, true, true);\n  ev.pageX = e.pageX;\n  ev.pageY = e.pageY;\n  e.target.dispatchEvent(ev);\n}\n\nfunction click(e) {\n  var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'click';\n\n  var eventSource = void 0;\n  if (e.type === 'mouseup' || e.type === 'mousecancel') {\n    eventSource = e;\n  } else if (e.type === 'touchend' || e.type === 'touchcancel') {\n    eventSource = e.changedTouches[0];\n  }\n  var posSrc = {};\n  if (eventSource) {\n    posSrc.screenX = eventSource.screenX || 0;\n    posSrc.screenY = eventSource.screenY || 0;\n    posSrc.clientX = eventSource.clientX || 0;\n    posSrc.clientY = eventSource.clientY || 0;\n  }\n  var ev = void 0;\n  var bubbles = true;\n  var cancelable = true;\n  if (typeof MouseEvent !== 'undefined') {\n    try {\n      ev = new MouseEvent(event, extend({\n        bubbles: bubbles,\n        cancelable: cancelable\n      }, posSrc));\n    } catch (e) {\n      createEvent();\n    }\n  } else {\n    createEvent();\n  }\n\n  function createEvent() {\n    ev = document.createEvent('Event');\n    ev.initEvent(event, bubbles, cancelable);\n    extend(ev, posSrc);\n  }\n\n  // forwardedTouchEvent set to true in case of the conflict with fastclick\n  ev.forwardedTouchEvent = true;\n  ev._constructed = true;\n  e.target.dispatchEvent(ev);\n}\n\nfunction dblclick(e) {\n  click(e, 'dblclick');\n}\n\nfunction prepend(el, target) {\n  if (target.firstChild) {\n    before(el, target.firstChild);\n  } else {\n    target.appendChild(el);\n  }\n}\n\nfunction before(el, target) {\n  target.parentNode.insertBefore(el, target);\n}\n\nfunction removeChild(el, child) {\n  el.removeChild(child);\n}\n\nvar DEFAULT_OPTIONS = {\n  startX: 0,\n  startY: 0,\n  scrollX: false,\n  scrollY: true,\n  freeScroll: false,\n  directionLockThreshold: 5,\n  eventPassthrough: '',\n  click: false,\n  tap: false,\n  /**\n   * support any side\n   * bounce: {\n   *   top: true,\n   *   bottom: true,\n   *   left: true,\n   *   right: true\n   * }\n   */\n  bounce: true,\n  bounceTime: 800,\n  momentum: true,\n  momentumLimitTime: 300,\n  momentumLimitDistance: 15,\n  swipeTime: 2500,\n  swipeBounceTime: 500,\n  deceleration: 0.0015,\n  flickLimitTime: 200,\n  flickLimitDistance: 100,\n  resizePolling: 60,\n  probeType: 0,\n  preventDefault: true,\n  preventDefaultException: {\n    tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/\n  },\n  HWCompositing: true,\n  useTransition: true,\n  useTransform: true,\n  bindToWrapper: false,\n  disableMouse: hasTouch,\n  disableTouch: !hasTouch,\n  observeDOM: true,\n  autoBlur: true,\n  /**\n   * for picker\n   * wheel: {\n   *   selectedIndex: 0,\n   *   rotate: 25,\n   *   adjustTime: 400\n   *   wheelWrapperClass: 'wheel-scroll',\n   *   wheelItemClass: 'wheel-item'\n   * }\n   */\n  wheel: false,\n  /**\n   * for slide\n   * snap: {\n   *   loop: false,\n   *   el: domEl,\n   *   threshold: 0.1,\n   *   stepX: 100,\n   *   stepY: 100,\n   *   speed: 400,\n   *   easing: {\n   *     style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n   *     fn: function (t) {\n   *       return t * (2 - t)\n   *     }\n   *   }\n   *   listenFlick: true\n   * }\n   */\n  snap: false,\n  /**\n   * for scrollbar\n   * scrollbar: {\n   *   fade: true,\n   *   interactive: false\n   * }\n   */\n  scrollbar: false,\n  /**\n   * for pull down and refresh\n   * pullDownRefresh: {\n   *   threshold: 50,\n   *   stop: 20\n   * }\n   */\n  pullDownRefresh: false,\n  /**\n   * for pull up and load\n   * pullUpLoad: {\n   *   threshold: 50\n   * }\n   */\n  pullUpLoad: false,\n  /**\n   * for mouse wheel\n   * mouseWheel: {\n   *   speed: 20,\n   *   invert: false,\n   *   easeTime: 300\n   * }\n   */\n  mouseWheel: false,\n  stopPropagation: false,\n  /**\n   * for zoom\n   * zoom: {\n   *   start: 1,\n   *   min: 1,\n   *   max: 4\n   * }\n   */\n  zoom: false,\n  /**\n   * for infinity\n   * infinity: {\n   *   render(item, div) {\n   *   },\n   *   createTombstone() {\n   *   },\n   *   fetch(count) {\n   *   }\n   * }\n   */\n  infinity: false,\n  /**\n   * for double click\n   * dblclick: {\n   *   delay: 300\n   * }\n   */\n  dblclick: false\n};\n\nfunction initMixin(BScroll) {\n  BScroll.prototype._init = function (options) {\n    this._handleOptions(options);\n\n    // init private custom events\n    this._events = {};\n\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n\n    this.setScale(1);\n\n    this._addDOMEvents();\n\n    this._initExtFeatures();\n\n    this._watchTransition();\n\n    if (this.options.observeDOM) {\n      this._initDOMObserver();\n    }\n\n    if (this.options.autoBlur) {\n      this._handleAutoBlur();\n    }\n\n    this.refresh();\n\n    if (!this.options.snap) {\n      this.scrollTo(this.options.startX, this.options.startY);\n    }\n\n    this.enable();\n  };\n\n  BScroll.prototype.setScale = function (scale) {\n    this.lastScale = isUndef(this.scale) ? scale : this.scale;\n    this.scale = scale;\n  };\n\n  BScroll.prototype._handleOptions = function (options) {\n    this.options = extend({}, DEFAULT_OPTIONS, options);\n\n    this.translateZ = this.options.HWCompositing && hasPerspective ? ' translateZ(0)' : '';\n\n    this.options.useTransition = this.options.useTransition && hasTransition;\n    this.options.useTransform = this.options.useTransform && hasTransform;\n\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n    // If you want eventPassthrough I have to lock one of the axes\n    this.options.scrollX = this.options.eventPassthrough === 'horizontal' ? false : this.options.scrollX;\n    this.options.scrollY = this.options.eventPassthrough === 'vertical' ? false : this.options.scrollY;\n\n    // With eventPassthrough we also need lockDirection mechanism\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n    if (this.options.tap === true) {\n      this.options.tap = 'tap';\n    }\n  };\n\n  BScroll.prototype._addDOMEvents = function () {\n    var eventOperation = addEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._removeDOMEvents = function () {\n    var eventOperation = removeEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._handleDOMEvents = function (eventOperation) {\n    var target = this.options.bindToWrapper ? this.wrapper : window;\n    eventOperation(window, 'orientationchange', this);\n    eventOperation(window, 'resize', this);\n\n    if (this.options.click) {\n      eventOperation(this.wrapper, 'click', this, true);\n    }\n\n    if (!this.options.disableMouse) {\n      eventOperation(this.wrapper, 'mousedown', this);\n      eventOperation(target, 'mousemove', this);\n      eventOperation(target, 'mousecancel', this);\n      eventOperation(target, 'mouseup', this);\n    }\n\n    if (hasTouch && !this.options.disableTouch) {\n      eventOperation(this.wrapper, 'touchstart', this);\n      eventOperation(target, 'touchmove', this);\n      eventOperation(target, 'touchcancel', this);\n      eventOperation(target, 'touchend', this);\n    }\n\n    eventOperation(this.scroller, style.transitionEnd, this);\n  };\n\n  BScroll.prototype._initExtFeatures = function () {\n    if (this.options.snap) {\n      this._initSnap();\n    }\n    if (this.options.scrollbar) {\n      this._initScrollbar();\n    }\n    if (this.options.pullUpLoad) {\n      this._initPullUp();\n    }\n    if (this.options.pullDownRefresh) {\n      this._initPullDown();\n    }\n    if (this.options.wheel) {\n      this._initWheel();\n    }\n    if (this.options.mouseWheel) {\n      this._initMouseWheel();\n    }\n    if (this.options.zoom) {\n      this._initZoom();\n    }\n    if (this.options.infinity) {\n      this._initInfinite();\n    }\n  };\n\n  BScroll.prototype._watchTransition = function () {\n    if (typeof Object.defineProperty !== 'function') {\n      return;\n    }\n    var me = this;\n    var isInTransition = false;\n    var key = this.options.useTransition ? 'isInTransition' : 'isAnimating';\n    Object.defineProperty(this, key, {\n      get: function get() {\n        return isInTransition;\n      },\n      set: function set(newVal) {\n        isInTransition = newVal;\n        // fix issue #359\n        var el = me.scroller.children.length ? me.scroller.children : [me.scroller];\n        var pointerEvents = isInTransition && !me.pulling ? 'none' : 'auto';\n        for (var i = 0; i < el.length; i++) {\n          el[i].style.pointerEvents = pointerEvents;\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._handleAutoBlur = function () {\n    this.on('scrollStart', function () {\n      var activeElement = document.activeElement;\n      if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA')) {\n        activeElement.blur();\n      }\n    });\n  };\n\n  BScroll.prototype._initDOMObserver = function () {\n    var _this = this;\n\n    if (typeof MutationObserver !== 'undefined') {\n      var timer = void 0;\n      var observer = new MutationObserver(function (mutations) {\n        // don't do any refresh during the transition, or outside of the boundaries\n        if (_this._shouldNotRefresh()) {\n          return;\n        }\n        var immediateRefresh = false;\n        var deferredRefresh = false;\n        for (var i = 0; i < mutations.length; i++) {\n          var mutation = mutations[i];\n          if (mutation.type !== 'attributes') {\n            immediateRefresh = true;\n            break;\n          } else {\n            if (mutation.target !== _this.scroller) {\n              deferredRefresh = true;\n              break;\n            }\n          }\n        }\n        if (immediateRefresh) {\n          _this.refresh();\n        } else if (deferredRefresh) {\n          // attributes changes too often\n          clearTimeout(timer);\n          timer = setTimeout(function () {\n            if (!_this._shouldNotRefresh()) {\n              _this.refresh();\n            }\n          }, 60);\n        }\n      });\n      var config = {\n        attributes: true,\n        childList: true,\n        subtree: true\n      };\n      observer.observe(this.scroller, config);\n\n      this.on('destroy', function () {\n        observer.disconnect();\n      });\n    } else {\n      this._checkDOMUpdate();\n    }\n  };\n\n  BScroll.prototype._shouldNotRefresh = function () {\n    var outsideBoundaries = this.x > this.minScrollX || this.x < this.maxScrollX || this.y > this.minScrollY || this.y < this.maxScrollY;\n\n    return this.isInTransition || this.stopFromTransition || outsideBoundaries;\n  };\n\n  BScroll.prototype._checkDOMUpdate = function () {\n    var scrollerRect = getRect(this.scroller);\n    var oldWidth = scrollerRect.width;\n    var oldHeight = scrollerRect.height;\n\n    function check() {\n      if (this.destroyed) {\n        return;\n      }\n      scrollerRect = getRect(this.scroller);\n      var newWidth = scrollerRect.width;\n      var newHeight = scrollerRect.height;\n\n      if (oldWidth !== newWidth || oldHeight !== newHeight) {\n        this.refresh();\n      }\n      oldWidth = newWidth;\n      oldHeight = newHeight;\n\n      next.call(this);\n    }\n\n    function next() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        check.call(_this2);\n      }, 1000);\n    }\n\n    next.call(this);\n  };\n\n  BScroll.prototype.handleEvent = function (e) {\n    switch (e.type) {\n      case 'touchstart':\n      case 'mousedown':\n        this._start(e);\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoomStart(e);\n        }\n        break;\n      case 'touchmove':\n      case 'mousemove':\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoom(e);\n        } else {\n          this._move(e);\n        }\n        break;\n      case 'touchend':\n      case 'mouseup':\n      case 'touchcancel':\n      case 'mousecancel':\n        if (this.scaled) {\n          this._zoomEnd(e);\n        } else {\n          this._end(e);\n        }\n        break;\n      case 'orientationchange':\n      case 'resize':\n        this._resize();\n        break;\n      case 'transitionend':\n      case 'webkitTransitionEnd':\n      case 'oTransitionEnd':\n      case 'MSTransitionEnd':\n        this._transitionEnd(e);\n        break;\n      case 'click':\n        if (this.enabled && !e._constructed) {\n          if (!preventDefaultException(e.target, this.options.preventDefaultException)) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n        }\n        break;\n      case 'wheel':\n      case 'DOMMouseScroll':\n      case 'mousewheel':\n        this._onMouseWheel(e);\n        break;\n    }\n  };\n\n  BScroll.prototype.refresh = function () {\n    var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\n    var wrapperRect = getRect(this.wrapper);\n    this.wrapperWidth = wrapperRect.width;\n    this.wrapperHeight = wrapperRect.height;\n\n    var scrollerRect = getRect(this.scroller);\n    this.scrollerWidth = Math.round(scrollerRect.width * this.scale);\n    this.scrollerHeight = Math.round(scrollerRect.height * this.scale);\n\n    this.relativeX = scrollerRect.left;\n    this.relativeY = scrollerRect.top;\n\n    if (isWrapperStatic) {\n      this.relativeX -= wrapperRect.left;\n      this.relativeY -= wrapperRect.top;\n    }\n\n    this.minScrollX = 0;\n    this.minScrollY = 0;\n\n    var wheel = this.options.wheel;\n    if (wheel) {\n      this.items = this.scroller.children;\n      // check whether there are all disable items or not when refresh\n      this._checkWheelAllDisabled();\n      this.options.itemHeight = this.itemHeight = this.items.length ? this.scrollerHeight / this.items.length : 0;\n      if (this.selectedIndex === undefined) {\n        this.selectedIndex = wheel.selectedIndex || 0;\n      }\n      this.options.startY = -this.selectedIndex * this.itemHeight;\n\n      this.maxScrollX = 0;\n      this.maxScrollY = -this.itemHeight * (this.items.length - 1);\n    } else {\n      this.maxScrollX = this.wrapperWidth - this.scrollerWidth;\n      if (!this.options.infinity) {\n        this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\n      }\n      if (this.maxScrollX < 0) {\n        this.maxScrollX -= this.relativeX;\n        this.minScrollX = -this.relativeX;\n      } else if (this.scale > 1) {\n        this.maxScrollX = this.maxScrollX / 2 - this.relativeX;\n        this.minScrollX = this.maxScrollX;\n      }\n      if (this.maxScrollY < 0) {\n        this.maxScrollY -= this.relativeY;\n        this.minScrollY = -this.relativeY;\n      } else if (this.scale > 1) {\n        this.maxScrollY = this.maxScrollY / 2 - this.relativeY;\n        this.minScrollY = this.maxScrollY;\n      }\n    }\n\n    this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < this.minScrollX;\n    this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < this.minScrollY;\n\n    if (!this.hasHorizontalScroll) {\n      this.maxScrollX = this.minScrollX;\n      this.scrollerWidth = this.wrapperWidth;\n    }\n\n    if (!this.hasVerticalScroll) {\n      this.maxScrollY = this.minScrollY;\n      this.scrollerHeight = this.wrapperHeight;\n    }\n\n    this.endTime = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.wrapperOffset = offset(this.wrapper);\n\n    this.trigger('refresh');\n\n    !this.scaled && this.resetPosition();\n  };\n\n  BScroll.prototype.enable = function () {\n    this.enabled = true;\n  };\n\n  BScroll.prototype.disable = function () {\n    this.enabled = false;\n  };\n}\n\nvar ease = {\n  // easeOutQuint\n  swipe: {\n    style: 'cubic-bezier(0.23, 1, 0.32, 1)',\n    fn: function fn(t) {\n      return 1 + --t * t * t * t * t;\n    }\n  },\n  // easeOutQuard\n  swipeBounce: {\n    style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n    fn: function fn(t) {\n      return t * (2 - t);\n    }\n  },\n  // easeOutQuart\n  bounce: {\n    style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n    fn: function fn(t) {\n      return 1 - --t * t * t * t;\n    }\n  }\n};\n\nfunction momentum(current, start, time, lowerMargin, upperMargin, wrapperSize, options, scroll) {\n  var distance = current - start;\n  var speed = Math.abs(distance) / time;\n\n  var deceleration = options.deceleration,\n      itemHeight = options.itemHeight,\n      swipeBounceTime = options.swipeBounceTime,\n      wheel = options.wheel,\n      swipeTime = options.swipeTime;\n\n  var duration = swipeTime;\n  var rate = wheel ? 4 : 15;\n\n  var destination = current + speed / deceleration * (distance < 0 ? -1 : 1);\n\n  if (wheel && itemHeight) {\n    destination = scroll._findNearestValidWheel(destination).y;\n  }\n\n  if (destination < lowerMargin) {\n    destination = wrapperSize ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - wrapperSize / rate * speed) : lowerMargin;\n    duration = swipeBounceTime;\n  } else if (destination > upperMargin) {\n    destination = wrapperSize ? Math.min(upperMargin + wrapperSize / 4, upperMargin + wrapperSize / rate * speed) : upperMargin;\n    duration = swipeBounceTime;\n  }\n\n  return {\n    destination: Math.round(destination),\n    duration: duration\n  };\n}\n\nvar DEFAULT_INTERVAL = 100 / 60;\n\nfunction noop() {}\n\nvar requestAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||\n  // if all else fails, use setTimeout\n  function (callback) {\n    return window.setTimeout(callback, (callback.interval || DEFAULT_INTERVAL) / 2); // make interval as precise as possible.\n  };\n}();\n\nvar cancelAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || function (id) {\n    window.clearTimeout(id);\n  };\n}();\n\nvar DIRECTION_UP = 1;\nvar DIRECTION_DOWN = -1;\nvar DIRECTION_LEFT = 1;\nvar DIRECTION_RIGHT = -1;\n\nvar PROBE_DEBOUNCE = 1;\n\nvar PROBE_REALTIME = 3;\n\nfunction warn(msg) {\n  console.error('[BScroll warn]: ' + msg);\n}\n\nfunction assert(condition, msg) {\n  if (!condition) {\n    throw new Error('[BScroll] ' + msg);\n  }\n}\n\nfunction coreMixin(BScroll) {\n  BScroll.prototype._start = function (e) {\n    var _eventType = eventType[e.type];\n    if (_eventType !== TOUCH_EVENT) {\n      if (e.button !== 0) {\n        return;\n      }\n    }\n    if (!this.enabled || this.destroyed || this.initiated && this.initiated !== _eventType) {\n      return;\n    }\n    this.initiated = _eventType;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.moved = false;\n    this.distX = 0;\n    this.distY = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.movingDirectionX = 0;\n    this.movingDirectionY = 0;\n    this.directionLocked = 0;\n\n    this._transitionTime();\n    this.startTime = getNow();\n\n    if (this.options.wheel) {\n      this.target = e.target;\n    }\n\n    this.stop();\n\n    var point = e.touches ? e.touches[0] : e;\n\n    this.startX = this.x;\n    this.startY = this.y;\n    this.absStartX = this.x;\n    this.absStartY = this.y;\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.trigger('beforeScrollStart');\n  };\n\n  BScroll.prototype._move = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var point = e.touches ? e.touches[0] : e;\n    var deltaX = point.pageX - this.pointX;\n    var deltaY = point.pageY - this.pointY;\n\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.distX += deltaX;\n    this.distY += deltaY;\n\n    var absDistX = Math.abs(this.distX);\n    var absDistY = Math.abs(this.distY);\n\n    var timestamp = getNow();\n\n    // We need to move at least momentumLimitDistance pixels for the scrolling to initiate\n    if (timestamp - this.endTime > this.options.momentumLimitTime && !this.moved && absDistY < this.options.momentumLimitDistance && absDistX < this.options.momentumLimitDistance) {\n      return;\n    }\n\n    // If you are scrolling in one direction lock the other\n    if (!this.directionLocked && !this.options.freeScroll) {\n      if (absDistX > absDistY + this.options.directionLockThreshold) {\n        this.directionLocked = 'h'; // lock horizontally\n      } else if (absDistY >= absDistX + this.options.directionLockThreshold) {\n        this.directionLocked = 'v'; // lock vertically\n      } else {\n        this.directionLocked = 'n'; // no lock\n      }\n    }\n\n    if (this.directionLocked === 'h') {\n      if (this.options.eventPassthrough === 'vertical') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'horizontal') {\n        this.initiated = false;\n        return;\n      }\n      deltaY = 0;\n    } else if (this.directionLocked === 'v') {\n      if (this.options.eventPassthrough === 'horizontal') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'vertical') {\n        this.initiated = false;\n        return;\n      }\n      deltaX = 0;\n    }\n\n    deltaX = this.hasHorizontalScroll ? deltaX : 0;\n    deltaY = this.hasVerticalScroll ? deltaY : 0;\n    this.movingDirectionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.movingDirectionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    var newX = this.x + deltaX;\n    var newY = this.y + deltaY;\n\n    var top = false;\n    var bottom = false;\n    var left = false;\n    var right = false;\n    // Slow down or stop if outside of the boundaries\n    var bounce = this.options.bounce;\n    if (bounce !== false) {\n      top = bounce.top === undefined ? true : bounce.top;\n      bottom = bounce.bottom === undefined ? true : bounce.bottom;\n      left = bounce.left === undefined ? true : bounce.left;\n      right = bounce.right === undefined ? true : bounce.right;\n    }\n    if (newX > this.minScrollX || newX < this.maxScrollX) {\n      if (newX > this.minScrollX && left || newX < this.maxScrollX && right) {\n        newX = this.x + deltaX / 3;\n      } else {\n        newX = newX > this.minScrollX ? this.minScrollX : this.maxScrollX;\n      }\n    }\n    if (newY > this.minScrollY || newY < this.maxScrollY) {\n      if (newY > this.minScrollY && top || newY < this.maxScrollY && bottom) {\n        newY = this.y + deltaY / 3;\n      } else {\n        newY = newY > this.minScrollY ? this.minScrollY : this.maxScrollY;\n      }\n    }\n\n    if (!this.moved) {\n      this.moved = true;\n      this.trigger('scrollStart');\n    }\n\n    this._translate(newX, newY);\n\n    if (timestamp - this.startTime > this.options.momentumLimitTime) {\n      this.startTime = timestamp;\n      this.startX = this.x;\n      this.startY = this.y;\n\n      if (this.options.probeType === PROBE_DEBOUNCE) {\n        this.trigger('scroll', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n\n    if (this.options.probeType > PROBE_DEBOUNCE) {\n      this.trigger('scroll', {\n        x: this.x,\n        y: this.y\n      });\n    }\n\n    var scrollLeft = document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft;\n    var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n\n    var pX = this.pointX - scrollLeft;\n    var pY = this.pointY - scrollTop;\n\n    if (pX > document.documentElement.clientWidth - this.options.momentumLimitDistance || pX < this.options.momentumLimitDistance || pY < this.options.momentumLimitDistance || pY > document.documentElement.clientHeight - this.options.momentumLimitDistance) {\n      this._end(e);\n    }\n  };\n\n  BScroll.prototype._end = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n    this.initiated = false;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.trigger('touchEnd', {\n      x: this.x,\n      y: this.y\n    });\n\n    this.isInTransition = false;\n\n    // ensures that the last position is rounded\n    var newX = Math.round(this.x);\n    var newY = Math.round(this.y);\n\n    var deltaX = newX - this.absStartX;\n    var deltaY = newY - this.absStartY;\n    this.directionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.directionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    // if configure pull down refresh, check it first\n    if (this.options.pullDownRefresh && this._checkPullDown()) {\n      return;\n    }\n\n    // check if it is a click operation\n    if (this._checkClick(e)) {\n      this.trigger('scrollCancel');\n      return;\n    }\n\n    // reset if we are outside of the boundaries\n    if (this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      return;\n    }\n\n    this._translate(newX, newY);\n\n    this.endTime = getNow();\n    var duration = this.endTime - this.startTime;\n    var absDistX = Math.abs(newX - this.startX);\n    var absDistY = Math.abs(newY - this.startY);\n\n    // flick\n    if (this._events.flick && duration < this.options.flickLimitTime && absDistX < this.options.flickLimitDistance && absDistY < this.options.flickLimitDistance) {\n      this.trigger('flick');\n      return;\n    }\n\n    var time = 0;\n    // start momentum animation if needed\n    if (this.options.momentum && duration < this.options.momentumLimitTime && (absDistY > this.options.momentumLimitDistance || absDistX > this.options.momentumLimitDistance)) {\n      var top = false;\n      var bottom = false;\n      var left = false;\n      var right = false;\n      var bounce = this.options.bounce;\n      if (bounce !== false) {\n        top = bounce.top === undefined ? true : bounce.top;\n        bottom = bounce.bottom === undefined ? true : bounce.bottom;\n        left = bounce.left === undefined ? true : bounce.left;\n        right = bounce.right === undefined ? true : bounce.right;\n      }\n      var wrapperWidth = this.directionX === DIRECTION_RIGHT && left || this.directionX === DIRECTION_LEFT && right ? this.wrapperWidth : 0;\n      var wrapperHeight = this.directionY === DIRECTION_DOWN && top || this.directionY === DIRECTION_UP && bottom ? this.wrapperHeight : 0;\n      var momentumX = this.hasHorizontalScroll ? momentum(this.x, this.startX, duration, this.maxScrollX, this.minScrollX, wrapperWidth, this.options, this) : { destination: newX, duration: 0 };\n      var momentumY = this.hasVerticalScroll ? momentum(this.y, this.startY, duration, this.maxScrollY, this.minScrollY, wrapperHeight, this.options, this) : { destination: newY, duration: 0 };\n      newX = momentumX.destination;\n      newY = momentumY.destination;\n      time = Math.max(momentumX.duration, momentumY.duration);\n      this.isInTransition = true;\n    } else {\n      if (this.options.wheel) {\n        newY = this._findNearestValidWheel(newY).y;\n        time = this.options.wheel.adjustTime || 400;\n      }\n    }\n\n    var easing = ease.swipe;\n    if (this.options.snap) {\n      var snap = this._nearestSnap(newX, newY);\n      this.currentPage = snap;\n      time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(newX - snap.x), 1000), Math.min(Math.abs(newY - snap.y), 1000)), 300);\n      newX = snap.x;\n      newY = snap.y;\n\n      this.directionX = 0;\n      this.directionY = 0;\n      easing = this.options.snap.easing || ease.bounce;\n    }\n\n    if (newX !== this.x || newY !== this.y) {\n      // change easing function when scroller goes out of the boundaries\n      if (newX > this.minScrollX || newX < this.maxScrollX || newY > this.minScrollY || newY < this.maxScrollY) {\n        easing = ease.swipeBounce;\n      }\n      this.scrollTo(newX, newY, time, easing);\n      return;\n    }\n\n    if (this.options.wheel) {\n      this.selectedIndex = this._findNearestValidWheel(this.y).index;\n    }\n\n    this.trigger('scrollEnd', {\n      x: this.x,\n      y: this.y\n    });\n  };\n\n  BScroll.prototype._checkClick = function (e) {\n    // when in the process of pulling down, it should not prevent click\n    var preventClick = this.stopFromTransition && !this.pulling;\n    this.stopFromTransition = false;\n\n    // we scrolled less than 15 pixels\n    if (!this.moved) {\n      if (this.options.wheel) {\n        if (this.target && this.target.className === this.options.wheel.wheelWrapperClass) {\n          var index = this._findNearestValidWheel(this.y).index;\n          var _offset = Math.round((this.pointY + offsetToBody(this.wrapper).top - this.wrapperHeight / 2) / this.itemHeight);\n          this.target = this.items[index + _offset];\n        }\n        var top = offset(this.target).top;\n        var left = offset(this.target).left;\n        top -= this.wrapperOffset.top;\n        top -= Math.round(this.target.offsetHeight / 2 - this.wrapper.offsetHeight / 2) || 0;\n        left -= this.wrapperOffset.left;\n        left -= Math.round(this.target.offsetWidth / 2 - this.wrapper.offsetWidth / 2) || 0;\n\n        top = this._findNearestValidWheel(top).y;\n        this.scrollTo(left, top, this.options.wheel.adjustTime || 400, ease.swipe);\n        return true;\n      } else {\n        if (!preventClick) {\n          var _dblclick = this.options.dblclick;\n          var dblclickTrigged = false;\n          if (_dblclick && this.lastClickTime) {\n            var _dblclick$delay = _dblclick.delay,\n                delay = _dblclick$delay === undefined ? 300 : _dblclick$delay;\n\n            if (getNow() - this.lastClickTime < delay) {\n              dblclickTrigged = true;\n              dblclick(e);\n            }\n          }\n          if (this.options.tap) {\n            tap(e, this.options.tap);\n          }\n\n          if (this.options.click && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n            click(e);\n          }\n          this.lastClickTime = dblclickTrigged ? null : getNow();\n          return true;\n        }\n        return false;\n      }\n    }\n    return false;\n  };\n\n  BScroll.prototype._resize = function () {\n    var _this = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    // fix a scroll problem under Android condition\n    if (isAndroid) {\n      this.wrapper.scrollTop = 0;\n    }\n    clearTimeout(this.resizeTimeout);\n    this.resizeTimeout = setTimeout(function () {\n      _this.refresh();\n    }, this.options.resizePolling);\n  };\n\n  BScroll.prototype._startProbe = function () {\n    cancelAnimationFrame(this.probeTimer);\n    this.probeTimer = requestAnimationFrame(probe);\n\n    var me = this;\n\n    function probe() {\n      var pos = me.getComputedPosition();\n      me.trigger('scroll', pos);\n      if (!me.isInTransition) {\n        me.trigger('scrollEnd', pos);\n        return;\n      }\n      me.probeTimer = requestAnimationFrame(probe);\n    }\n  };\n\n  BScroll.prototype._transitionTime = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    this.scrollerStyle[style.transitionDuration] = time + 'ms';\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionDuration] = time + 'ms';\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i = 0; _i < this.indicators.length; _i++) {\n        this.indicators[_i].transitionTime(time);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionTimingFunction = function (easing) {\n    this.scrollerStyle[style.transitionTimingFunction] = easing;\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionTimingFunction] = easing;\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i2 = 0; _i2 < this.indicators.length; _i2++) {\n        this.indicators[_i2].transitionTimingFunction(easing);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionEnd = function (e) {\n    if (e.target !== this.scroller || !this.isInTransition) {\n      return;\n    }\n\n    this._transitionTime();\n    var needReset = !this.pulling || this.movingDirectionY === DIRECTION_UP;\n    if (needReset && !this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      this.isInTransition = false;\n      if (this.options.probeType !== PROBE_REALTIME) {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n  };\n\n  BScroll.prototype._translate = function (x, y, scale) {\n    assert(!isUndef(x) && !isUndef(y), 'Translate x or y is null or undefined.');\n    if (isUndef(scale)) {\n      scale = this.scale;\n    }\n    if (this.options.useTransform) {\n      this.scrollerStyle[style.transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + scale + ')' + this.translateZ;\n    } else {\n      x = Math.round(x);\n      y = Math.round(y);\n      this.scrollerStyle.left = x + 'px';\n      this.scrollerStyle.top = y + 'px';\n    }\n\n    if (this.options.wheel) {\n      var _options$wheel$rotate = this.options.wheel.rotate,\n          rotate = _options$wheel$rotate === undefined ? 25 : _options$wheel$rotate;\n\n      for (var i = 0; i < this.items.length; i++) {\n        var deg = rotate * (y / this.itemHeight + i);\n        this.items[i].style[style.transform] = 'rotateX(' + deg + 'deg)';\n      }\n    }\n\n    this.x = x;\n    this.y = y;\n    this.setScale(scale);\n\n    if (this.indicators) {\n      for (var _i3 = 0; _i3 < this.indicators.length; _i3++) {\n        this.indicators[_i3].updatePosition();\n      }\n    }\n  };\n\n  BScroll.prototype._animate = function (destX, destY, duration, easingFn) {\n    var me = this;\n    var startX = this.x;\n    var startY = this.y;\n    var startScale = this.lastScale;\n    var destScale = this.scale;\n    var startTime = getNow();\n    var destTime = startTime + duration;\n\n    function step() {\n      var now = getNow();\n\n      if (now >= destTime) {\n        me.isAnimating = false;\n        me._translate(destX, destY, destScale);\n\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n\n        if (!me.pulling && !me.resetPosition(me.options.bounceTime)) {\n          me.trigger('scrollEnd', {\n            x: me.x,\n            y: me.y\n          });\n        }\n        return;\n      }\n      now = (now - startTime) / duration;\n      var easing = easingFn(now);\n      var newX = (destX - startX) * easing + startX;\n      var newY = (destY - startY) * easing + startY;\n      var newScale = (destScale - startScale) * easing + startScale;\n\n      me._translate(newX, newY, newScale);\n\n      if (me.isAnimating) {\n        me.animateTimer = requestAnimationFrame(step);\n      }\n\n      if (me.options.probeType === PROBE_REALTIME) {\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n      }\n    }\n\n    this.isAnimating = true;\n    cancelAnimationFrame(this.animateTimer);\n    step();\n  };\n\n  BScroll.prototype.scrollBy = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n\n    x = this.x + x;\n    y = this.y + y;\n\n    this.scrollTo(x, y, time, easing);\n  };\n\n  BScroll.prototype.scrollTo = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n    var isSilent = arguments[4];\n\n    if (this.options.wheel) {\n      y = this._findNearestValidWheel(y).y;\n    }\n    if (x === this.x && y === this.y) {\n      return;\n    }\n    this.isInTransition = this.options.useTransition && time > 0 && (this.x !== x || this.y !== y);\n\n    if (!time || this.options.useTransition) {\n      this._transitionTimingFunction(easing.style);\n      this._transitionTime(time);\n      this._translate(x, y);\n\n      if (time && this.options.probeType === PROBE_REALTIME) {\n        this._startProbe();\n      }\n      if (!time && !isSilent) {\n        // don't trigger resetPosition when zoom feature is open, fix #748\n        if (this.options.zoom) return;\n        this.trigger('scroll', {\n          x: x,\n          y: y\n        });\n        // force reflow to put everything in position\n        this._reflow = document.body.offsetHeight;\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\n          this.trigger('scrollEnd', {\n            x: x,\n            y: y\n          });\n        }\n      }\n\n      if (this.options.wheel) {\n        this.selectedIndex = this._findNearestValidWheel(y).index;\n      }\n    } else {\n      this._animate(x, y, time, easing.fn);\n    }\n  };\n\n  BScroll.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\n    if (!el) {\n      return;\n    }\n    el = el.nodeType ? el : this.scroller.querySelector(el);\n\n    if (this.options.wheel && !el.classList.contains(this.options.wheel.wheelItemClass)) {\n      return;\n    }\n\n    var pos = offset(el);\n    pos.left -= this.wrapperOffset.left;\n    pos.top -= this.wrapperOffset.top;\n\n    // if offsetX/Y are true we center the element to the screen\n    if (offsetX === true) {\n      offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n    }\n    if (offsetY === true) {\n      offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n    }\n\n    pos.left -= offsetX || 0;\n    pos.top -= offsetY || 0;\n    pos.left = pos.left > this.minScrollX ? this.minScrollX : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n    pos.top = pos.top > this.minScrollY ? this.minScrollY : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;\n\n    if (this.options.wheel) {\n      pos.top = this._findNearestValidWheel(pos.top).y;\n    }\n\n    this.scrollTo(pos.left, pos.top, time, easing);\n  };\n\n  BScroll.prototype.resetPosition = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var easeing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ease.bounce;\n\n    var x = this.x;\n    var roundX = Math.round(x);\n    if (!this.hasHorizontalScroll || roundX > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (roundX < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    var y = this.y;\n    var roundY = Math.round(y);\n    if (!this.hasVerticalScroll || roundY > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (roundY < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    if (x === this.x && y === this.y) {\n      return false;\n    }\n\n    this.scrollTo(x, y, time, easeing);\n\n    return true;\n  };\n\n  BScroll.prototype.getComputedPosition = function () {\n    var matrix = window.getComputedStyle(this.scroller, null);\n    var x = void 0;\n    var y = void 0;\n\n    if (this.options.useTransform) {\n      matrix = matrix[style.transform].split(')')[0].split(', ');\n      x = +(matrix[12] || matrix[4]);\n      y = +(matrix[13] || matrix[5]);\n    } else {\n      x = +matrix.left.replace(/[^-\\d.]/g, '');\n      y = +matrix.top.replace(/[^-\\d.]/g, '');\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  BScroll.prototype.stop = function () {\n    if (this.options.useTransition && this.isInTransition) {\n      this.isInTransition = false;\n      cancelAnimationFrame(this.probeTimer);\n      var pos = this.getComputedPosition();\n      this._translate(pos.x, pos.y);\n      if (this.options.wheel) {\n        this.target = this.items[this._findNearestValidWheel(pos.y).index];\n      } else {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n      this.stopFromTransition = true;\n    } else if (!this.options.useTransition && this.isAnimating) {\n      this.isAnimating = false;\n      cancelAnimationFrame(this.animateTimer);\n      this.trigger('scrollEnd', {\n        x: this.x,\n        y: this.y\n      });\n      this.stopFromTransition = true;\n    }\n  };\n\n  BScroll.prototype.destroy = function () {\n    this.destroyed = true;\n    this.trigger('destroy');\n    if (this.options.useTransition) {\n      cancelAnimationFrame(this.probeTimer);\n    } else {\n      cancelAnimationFrame(this.animateTimer);\n    }\n    this._removeDOMEvents();\n    // remove custom events\n    this._events = {};\n  };\n}\n\nfunction snapMixin(BScroll) {\n  BScroll.prototype._initSnap = function () {\n    var _this = this;\n\n    this.currentPage = {};\n    var snap = this.options.snap;\n\n    if (snap.loop) {\n      var children = this.scroller.children;\n      if (children.length > 1) {\n        prepend(children[children.length - 1].cloneNode(true), this.scroller);\n        this.scroller.appendChild(children[1].cloneNode(true));\n      } else {\n        // Loop does not make any sense if there is only one child.\n        snap.loop = false;\n      }\n    }\n\n    var el = snap.el;\n    if (typeof el === 'string') {\n      el = this.scroller.querySelectorAll(el);\n    }\n\n    this.on('refresh', function () {\n      _this.pages = [];\n\n      if (!_this.wrapperWidth || !_this.wrapperHeight || !_this.scrollerWidth || !_this.scrollerHeight) {\n        return;\n      }\n\n      var stepX = snap.stepX || _this.wrapperWidth;\n      var stepY = snap.stepY || _this.wrapperHeight;\n\n      var x = 0;\n      var y = void 0;\n      var cx = void 0;\n      var cy = void 0;\n      var i = 0;\n      var l = void 0;\n      var m = 0;\n      var n = void 0;\n      var rect = void 0;\n      if (!el) {\n        cx = Math.round(stepX / 2);\n        cy = Math.round(stepY / 2);\n\n        while (x > -_this.scrollerWidth) {\n          _this.pages[i] = [];\n          l = 0;\n          y = 0;\n\n          while (y > -_this.scrollerHeight) {\n            _this.pages[i][l] = {\n              x: Math.max(x, _this.maxScrollX),\n              y: Math.max(y, _this.maxScrollY),\n              width: stepX,\n              height: stepY,\n              cx: x - cx,\n              cy: y - cy\n            };\n\n            y -= stepY;\n            l++;\n          }\n\n          x -= stepX;\n          i++;\n        }\n      } else {\n        l = el.length;\n        n = -1;\n\n        for (; i < l; i++) {\n          rect = getRect(el[i]);\n          if (i === 0 || rect.left <= getRect(el[i - 1]).left) {\n            m = 0;\n            n++;\n          }\n\n          if (!_this.pages[m]) {\n            _this.pages[m] = [];\n          }\n\n          x = Math.max(-rect.left, _this.maxScrollX);\n          y = Math.max(-rect.top, _this.maxScrollY);\n          cx = x - Math.round(rect.width / 2);\n          cy = y - Math.round(rect.height / 2);\n\n          _this.pages[m][n] = {\n            x: x,\n            y: y,\n            width: rect.width,\n            height: rect.height,\n            cx: cx,\n            cy: cy\n          };\n\n          if (x > _this.maxScrollX) {\n            m++;\n          }\n        }\n      }\n\n      _this._checkSnapLoop();\n\n      var initPageX = snap._loopX ? 1 : 0;\n      var initPageY = snap._loopY ? 1 : 0;\n      _this._goToPage(_this.currentPage.pageX || initPageX, _this.currentPage.pageY || initPageY, 0, undefined, true);\n\n      // Update snap threshold if needed.\n      var snapThreshold = snap.threshold;\n      if (snapThreshold % 1 === 0) {\n        _this.snapThresholdX = snapThreshold;\n        _this.snapThresholdY = snapThreshold;\n      } else {\n        _this.snapThresholdX = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].width * snapThreshold);\n        _this.snapThresholdY = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].height * snapThreshold);\n      }\n    });\n\n    this.on('scrollEnd', function () {\n      if (snap.loop) {\n        if (snap._loopX) {\n          if (_this.currentPage.pageX === 0) {\n            _this._goToPage(_this.pages.length - 2, _this.currentPage.pageY, 0, undefined, true);\n          }\n          if (_this.currentPage.pageX === _this.pages.length - 1) {\n            _this._goToPage(1, _this.currentPage.pageY, 0, undefined, true);\n          }\n        } else {\n          if (_this.currentPage.pageY === 0) {\n            _this._goToPage(_this.currentPage.pageX, _this.pages[0].length - 2, 0, undefined, true);\n          }\n          if (_this.currentPage.pageY === _this.pages[0].length - 1) {\n            _this._goToPage(_this.currentPage.pageX, 1, 0, undefined, true);\n          }\n        }\n      }\n    });\n\n    if (snap.listenFlick !== false) {\n      this.on('flick', function () {\n        var time = snap.speed || Math.max(Math.max(Math.min(Math.abs(_this.x - _this.startX), 1000), Math.min(Math.abs(_this.y - _this.startY), 1000)), 300);\n\n        _this._goToPage(_this.currentPage.pageX + _this.directionX, _this.currentPage.pageY + _this.directionY, time);\n      });\n    }\n\n    this.on('destroy', function () {\n      if (snap.loop) {\n        var _children = _this.scroller.children;\n        if (_children.length > 2) {\n          removeChild(_this.scroller, _children[_children.length - 1]);\n          removeChild(_this.scroller, _children[0]);\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._checkSnapLoop = function () {\n    var snap = this.options.snap;\n\n    if (!snap.loop || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (this.pages.length > 1) {\n      snap._loopX = true;\n    }\n    if (this.pages[0] && this.pages[0].length > 1) {\n      snap._loopY = true;\n    }\n    if (snap._loopX && snap._loopY) {\n      warn('Loop does not support two direction at the same time.');\n    }\n  };\n\n  BScroll.prototype._nearestSnap = function (x, y) {\n    if (!this.pages.length) {\n      return { x: 0, y: 0, pageX: 0, pageY: 0 };\n    }\n\n    var i = 0;\n    // Check if we exceeded the snap threshold\n    if (Math.abs(x - this.absStartX) <= this.snapThresholdX && Math.abs(y - this.absStartY) <= this.snapThresholdY) {\n      return this.currentPage;\n    }\n\n    if (x > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (x < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    if (y > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (y < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    var l = this.pages.length;\n    for (; i < l; i++) {\n      if (x >= this.pages[i][0].cx) {\n        x = this.pages[i][0].x;\n        break;\n      }\n    }\n\n    l = this.pages[i].length;\n\n    var m = 0;\n    for (; m < l; m++) {\n      if (y >= this.pages[0][m].cy) {\n        y = this.pages[0][m].y;\n        break;\n      }\n    }\n\n    if (i === this.currentPage.pageX) {\n      i += this.directionX;\n\n      if (i < 0) {\n        i = 0;\n      } else if (i >= this.pages.length) {\n        i = this.pages.length - 1;\n      }\n\n      x = this.pages[i][0].x;\n    }\n\n    if (m === this.currentPage.pageY) {\n      m += this.directionY;\n\n      if (m < 0) {\n        m = 0;\n      } else if (m >= this.pages[0].length) {\n        m = this.pages[0].length - 1;\n      }\n\n      y = this.pages[0][m].y;\n    }\n\n    return {\n      x: x,\n      y: y,\n      pageX: i,\n      pageY: m\n    };\n  };\n\n  BScroll.prototype._goToPage = function (x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var time = arguments[2];\n    var easing = arguments[3];\n    var isSilent = arguments[4];\n\n    var snap = this.options.snap;\n\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    easing = easing || snap.easing || ease.bounce;\n\n    if (x >= this.pages.length) {\n      x = this.pages.length - 1;\n    } else if (x < 0) {\n      x = 0;\n    }\n\n    if (!this.pages[x]) {\n      return;\n    }\n\n    if (y >= this.pages[x].length) {\n      y = this.pages[x].length - 1;\n    } else if (y < 0) {\n      y = 0;\n    }\n\n    var posX = this.pages[x][y].x;\n    var posY = this.pages[x][y].y;\n\n    time = time === undefined ? snap.speed || Math.max(Math.max(Math.min(Math.abs(posX - this.x), 1000), Math.min(Math.abs(posY - this.y), 1000)), 300) : time;\n\n    this.currentPage = {\n      x: posX,\n      y: posY,\n      pageX: x,\n      pageY: y\n    };\n    this.scrollTo(posX, posY, time, easing, isSilent);\n  };\n\n  BScroll.prototype.goToPage = function (x, y, time, easing) {\n    var snap = this.options.snap;\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (snap.loop) {\n      var len = void 0;\n      if (snap._loopX) {\n        len = this.pages.length - 2;\n        if (x >= len) {\n          x = len - 1;\n        } else if (x < 0) {\n          x = 0;\n        }\n        x += 1;\n      } else {\n        len = this.pages[0].length - 2;\n        if (y >= len) {\n          y = len - 1;\n        } else if (y < 0) {\n          y = 0;\n        }\n        y += 1;\n      }\n    }\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.next = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x++;\n    if (x >= this.pages.length && this.hasVerticalScroll) {\n      x = 0;\n      y++;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.prev = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x--;\n    if (x < 0 && this.hasVerticalScroll) {\n      x = 0;\n      y--;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.getCurrentPage = function () {\n    var snap = this.options.snap;\n    if (!snap) {\n      return null;\n    }\n\n    if (snap.loop) {\n      var currentPage = void 0;\n      if (snap._loopX) {\n        currentPage = extend({}, this.currentPage, {\n          pageX: this.currentPage.pageX - 1\n        });\n      } else {\n        currentPage = extend({}, this.currentPage, {\n          pageY: this.currentPage.pageY - 1\n        });\n      }\n      return currentPage;\n    }\n    return this.currentPage;\n  };\n}\n\nfunction wheelMixin(BScroll) {\n  BScroll.prototype.wheelTo = function () {\n    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    if (this.options.wheel) {\n      var y = -index * this.itemHeight;\n      this.scrollTo(0, y);\n    }\n  };\n\n  BScroll.prototype.getSelectedIndex = function () {\n    return this.options.wheel && this.selectedIndex;\n  };\n\n  BScroll.prototype._initWheel = function () {\n    var wheel = this.options.wheel;\n    if (!wheel.wheelWrapperClass) {\n      wheel.wheelWrapperClass = 'wheel-scroll';\n    }\n    if (!wheel.wheelItemClass) {\n      wheel.wheelItemClass = 'wheel-item';\n    }\n    if (!wheel.wheelDisabledItemClass) {\n      wheel.wheelDisabledItemClass = 'wheel-disabled-item';\n    }\n    if (wheel.selectedIndex === undefined) {\n      wheel.selectedIndex = 0;\n    }\n  };\n\n  BScroll.prototype._findNearestValidWheel = function (y) {\n    y = y > 0 ? 0 : y < this.maxScrollY ? this.maxScrollY : y;\n    var wheel = this.options.wheel;\n    var currentIndex = Math.abs(Math.round(-y / this.itemHeight));\n    var cacheIndex = currentIndex;\n    var items = this.items;\n    // Impersonation web native select\n    // first, check whether there is a enable item whose index is smaller than currentIndex\n    // then, check whether there is a enable item whose index is bigger than currentIndex\n    // otherwise, there are all disabled items, just keep currentIndex unchange\n    while (currentIndex >= 0) {\n      if (items[currentIndex].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n        break;\n      }\n      currentIndex--;\n    }\n\n    if (currentIndex < 0) {\n      currentIndex = cacheIndex;\n      while (currentIndex <= items.length - 1) {\n        if (items[currentIndex].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n          break;\n        }\n        currentIndex++;\n      }\n    }\n\n    // keep it unchange when all the items are disabled\n    if (currentIndex === items.length) {\n      currentIndex = cacheIndex;\n    }\n    // when all the items are disabled, this.selectedIndex should always be -1\n    return {\n      index: this.wheelItemsAllDisabled ? -1 : currentIndex,\n      y: -currentIndex * this.itemHeight\n    };\n  };\n\n  BScroll.prototype._checkWheelAllDisabled = function () {\n    var wheel = this.options.wheel;\n    var items = this.items;\n    this.wheelItemsAllDisabled = true;\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n        this.wheelItemsAllDisabled = false;\n        break;\n      }\n    }\n  };\n}\n\nvar INDICATOR_MIN_LEN = 8;\n\nfunction scrollbarMixin(BScroll) {\n  BScroll.prototype._initScrollbar = function () {\n    var _this = this;\n\n    var _options$scrollbar = this.options.scrollbar,\n        _options$scrollbar$fa = _options$scrollbar.fade,\n        fade = _options$scrollbar$fa === undefined ? true : _options$scrollbar$fa,\n        _options$scrollbar$in = _options$scrollbar.interactive,\n        interactive = _options$scrollbar$in === undefined ? false : _options$scrollbar$in;\n\n    this.indicators = [];\n    var indicator = void 0;\n\n    if (this.options.scrollX) {\n      indicator = {\n        el: createScrollbar('horizontal'),\n        direction: 'horizontal',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    if (this.options.scrollY) {\n      indicator = {\n        el: createScrollbar('vertical'),\n        direction: 'vertical',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    this.on('refresh', function () {\n      for (var i = 0; i < _this.indicators.length; i++) {\n        _this.indicators[i].refresh();\n      }\n    });\n\n    if (fade) {\n      this.on('scrollEnd', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollCancel', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true);\n        }\n      });\n\n      this.on('beforeScrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true, true);\n        }\n      });\n    }\n\n    this.on('destroy', function () {\n      _this._removeScrollBars();\n    });\n  };\n\n  BScroll.prototype._insertScrollBar = function (scrollbar) {\n    this.wrapper.appendChild(scrollbar);\n  };\n\n  BScroll.prototype._removeScrollBars = function () {\n    for (var i = 0; i < this.indicators.length; i++) {\n      this.indicators[i].destroy();\n    }\n  };\n}\n\nfunction createScrollbar(direction) {\n  var scrollbar = document.createElement('div');\n  var indicator = document.createElement('div');\n\n  scrollbar.style.cssText = 'position:absolute;z-index:9999;pointerEvents:none';\n  indicator.style.cssText = 'box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;';\n\n  indicator.className = 'bscroll-indicator';\n\n  if (direction === 'horizontal') {\n    scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n    indicator.style.height = '100%';\n    scrollbar.className = 'bscroll-horizontal-scrollbar';\n  } else {\n    scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n    indicator.style.width = '100%';\n    scrollbar.className = 'bscroll-vertical-scrollbar';\n  }\n\n  scrollbar.style.cssText += ';overflow:hidden';\n  scrollbar.appendChild(indicator);\n\n  return scrollbar;\n}\n\nfunction Indicator(scroller, options) {\n  this.wrapper = options.el;\n  this.wrapperStyle = this.wrapper.style;\n  this.indicator = this.wrapper.children[0];\n  this.indicatorStyle = this.indicator.style;\n  this.scroller = scroller;\n  this.direction = options.direction;\n  if (options.fade) {\n    this.visible = 0;\n    this.wrapperStyle.opacity = '0';\n  } else {\n    this.visible = 1;\n  }\n\n  this.sizeRatioX = 1;\n  this.sizeRatioY = 1;\n  this.maxPosX = 0;\n  this.maxPosY = 0;\n  this.x = 0;\n  this.y = 0;\n\n  if (options.interactive) {\n    this._addDOMEvents();\n  }\n}\n\nIndicator.prototype.handleEvent = function (e) {\n  switch (e.type) {\n    case 'touchstart':\n    case 'mousedown':\n      this._start(e);\n      break;\n    case 'touchmove':\n    case 'mousemove':\n      this._move(e);\n      break;\n    case 'touchend':\n    case 'mouseup':\n    case 'touchcancel':\n    case 'mousecancel':\n      this._end(e);\n      break;\n  }\n};\n\nIndicator.prototype.refresh = function () {\n  if (this._shouldShow()) {\n    this.transitionTime();\n    this._calculate();\n    this.updatePosition();\n  }\n};\n\nIndicator.prototype.fade = function (visible, hold) {\n  var _this2 = this;\n\n  if (hold && !this.visible) {\n    return;\n  }\n\n  var time = visible ? 250 : 500;\n\n  visible = visible ? '1' : '0';\n\n  this.wrapperStyle[style.transitionDuration] = time + 'ms';\n\n  clearTimeout(this.fadeTimeout);\n  this.fadeTimeout = setTimeout(function () {\n    _this2.wrapperStyle.opacity = visible;\n    _this2.visible = +visible;\n  }, 0);\n};\n\nIndicator.prototype.updatePosition = function () {\n  if (this.direction === 'vertical') {\n    var y = Math.round(this.sizeRatioY * this.scroller.y);\n\n    if (y < 0) {\n      this.transitionTime(500);\n      var height = Math.max(this.indicatorHeight + y * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = height + 'px';\n      y = 0;\n    } else if (y > this.maxPosY) {\n      this.transitionTime(500);\n      var _height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = _height + 'px';\n      y = this.maxPosY + this.indicatorHeight - _height;\n    } else {\n      this.indicatorStyle.height = this.indicatorHeight + 'px';\n    }\n    this.y = y;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateY(' + y + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.top = y + 'px';\n    }\n  } else {\n    var x = Math.round(this.sizeRatioX * this.scroller.x);\n\n    if (x < 0) {\n      this.transitionTime(500);\n      var width = Math.max(this.indicatorWidth + x * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = width + 'px';\n      x = 0;\n    } else if (x > this.maxPosX) {\n      this.transitionTime(500);\n      var _width = Math.max(this.indicatorWidth - (x - this.maxPosX) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = _width + 'px';\n      x = this.maxPosX + this.indicatorWidth - _width;\n    } else {\n      this.indicatorStyle.width = this.indicatorWidth + 'px';\n    }\n\n    this.x = x;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateX(' + x + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.left = x + 'px';\n    }\n  }\n};\n\nIndicator.prototype.transitionTime = function () {\n  var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  this.indicatorStyle[style.transitionDuration] = time + 'ms';\n};\n\nIndicator.prototype.transitionTimingFunction = function (easing) {\n  this.indicatorStyle[style.transitionTimingFunction] = easing;\n};\n\nIndicator.prototype.destroy = function () {\n  this._removeDOMEvents();\n  this.wrapper.parentNode.removeChild(this.wrapper);\n};\n\nIndicator.prototype._start = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this.transitionTime();\n\n  this.initiated = true;\n  this.moved = false;\n  this.lastPointX = point.pageX;\n  this.lastPointY = point.pageY;\n\n  this.startTime = getNow();\n\n  this._handleMoveEvents(addEvent);\n  this.scroller.trigger('beforeScrollStart');\n};\n\nIndicator.prototype._move = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  if (!this.moved) {\n    this.scroller.trigger('scrollStart');\n  }\n\n  this.moved = true;\n\n  var deltaX = point.pageX - this.lastPointX;\n  this.lastPointX = point.pageX;\n\n  var deltaY = point.pageY - this.lastPointY;\n  this.lastPointY = point.pageY;\n\n  var newX = this.x + deltaX;\n  var newY = this.y + deltaY;\n\n  this._pos(newX, newY);\n};\n\nIndicator.prototype._end = function (e) {\n  if (!this.initiated) {\n    return;\n  }\n  this.initiated = false;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this._handleMoveEvents(removeEvent);\n\n  var snapOption = this.scroller.options.snap;\n  if (snapOption) {\n    var speed = snapOption.speed,\n        _snapOption$easing = snapOption.easing,\n        easing = _snapOption$easing === undefined ? ease.bounce : _snapOption$easing;\n\n    var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n    var time = speed || Math.max(Math.max(Math.min(Math.abs(this.scroller.x - snap.x), 1000), Math.min(Math.abs(this.scroller.y - snap.y), 1000)), 300);\n\n    if (this.scroller.x !== snap.x || this.scroller.y !== snap.y) {\n      this.scroller.directionX = 0;\n      this.scroller.directionY = 0;\n      this.scroller.currentPage = snap;\n      this.scroller.scrollTo(snap.x, snap.y, time, easing);\n    }\n  }\n\n  if (this.moved) {\n    this.scroller.trigger('scrollEnd', {\n      x: this.scroller.x,\n      y: this.scroller.y\n    });\n  }\n};\n\nIndicator.prototype._pos = function (x, y) {\n  if (x < 0) {\n    x = 0;\n  } else if (x > this.maxPosX) {\n    x = this.maxPosX;\n  }\n\n  if (y < 0) {\n    y = 0;\n  } else if (y > this.maxPosY) {\n    y = this.maxPosY;\n  }\n\n  x = Math.round(x / this.sizeRatioX);\n  y = Math.round(y / this.sizeRatioY);\n\n  this.scroller.scrollTo(x, y);\n  this.scroller.trigger('scroll', {\n    x: this.scroller.x,\n    y: this.scroller.y\n  });\n};\n\nIndicator.prototype._shouldShow = function () {\n  if (this.direction === 'vertical' && this.scroller.hasVerticalScroll || this.direction === 'horizontal' && this.scroller.hasHorizontalScroll) {\n    this.wrapper.style.display = '';\n    return true;\n  }\n  this.wrapper.style.display = 'none';\n  return false;\n};\n\nIndicator.prototype._calculate = function () {\n  if (this.direction === 'vertical') {\n    var wrapperHeight = this.wrapper.clientHeight;\n    this.indicatorHeight = Math.max(Math.round(wrapperHeight * wrapperHeight / (this.scroller.scrollerHeight || wrapperHeight || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.height = this.indicatorHeight + 'px';\n\n    this.maxPosY = wrapperHeight - this.indicatorHeight;\n\n    this.sizeRatioY = this.maxPosY / this.scroller.maxScrollY;\n  } else {\n    var wrapperWidth = this.wrapper.clientWidth;\n    this.indicatorWidth = Math.max(Math.round(wrapperWidth * wrapperWidth / (this.scroller.scrollerWidth || wrapperWidth || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.width = this.indicatorWidth + 'px';\n\n    this.maxPosX = wrapperWidth - this.indicatorWidth;\n\n    this.sizeRatioX = this.maxPosX / this.scroller.maxScrollX;\n  }\n};\n\nIndicator.prototype._addDOMEvents = function () {\n  var eventOperation = addEvent;\n  this._handleDOMEvents(eventOperation);\n};\n\nIndicator.prototype._removeDOMEvents = function () {\n  var eventOperation = removeEvent;\n  this._handleDOMEvents(eventOperation);\n  this._handleMoveEvents(eventOperation);\n};\n\nIndicator.prototype._handleMoveEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(window, 'touchmove', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(window, 'mousemove', this);\n  }\n};\n\nIndicator.prototype._handleDOMEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(this.indicator, 'touchstart', this);\n    eventOperation(window, 'touchend', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(this.indicator, 'mousedown', this);\n    eventOperation(window, 'mouseup', this);\n  }\n};\n\nfunction pullDownMixin(BScroll) {\n  BScroll.prototype._initPullDown = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n  };\n\n  BScroll.prototype._checkPullDown = function () {\n    var _options$pullDownRefr = this.options.pullDownRefresh,\n        _options$pullDownRefr2 = _options$pullDownRefr.threshold,\n        threshold = _options$pullDownRefr2 === undefined ? 90 : _options$pullDownRefr2,\n        _options$pullDownRefr3 = _options$pullDownRefr.stop,\n        stop = _options$pullDownRefr3 === undefined ? 40 : _options$pullDownRefr3;\n\n    // check if a real pull down action\n\n    if (this.directionY !== DIRECTION_DOWN || this.y < threshold) {\n      return false;\n    }\n\n    if (!this.pulling) {\n      this.pulling = true;\n      this.trigger('pullingDown');\n    }\n    this.scrollTo(this.x, stop, this.options.bounceTime, ease.bounce);\n\n    return this.pulling;\n  };\n\n  BScroll.prototype.finishPullDown = function () {\n    this.pulling = false;\n    this.resetPosition(this.options.bounceTime, ease.bounce);\n  };\n\n  BScroll.prototype.openPullDown = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullDownRefresh = config;\n    this._initPullDown();\n  };\n\n  BScroll.prototype.closePullDown = function () {\n    this.options.pullDownRefresh = false;\n  };\n\n  BScroll.prototype.autoPullDownRefresh = function () {\n    var _options$pullDownRefr4 = this.options.pullDownRefresh,\n        _options$pullDownRefr5 = _options$pullDownRefr4.threshold,\n        threshold = _options$pullDownRefr5 === undefined ? 90 : _options$pullDownRefr5,\n        _options$pullDownRefr6 = _options$pullDownRefr4.stop,\n        stop = _options$pullDownRefr6 === undefined ? 40 : _options$pullDownRefr6;\n\n\n    if (this.pulling) {\n      return;\n    }\n    this.pulling = true;\n\n    this.scrollTo(this.x, threshold);\n    this.trigger('pullingDown');\n    this.scrollTo(this.x, stop, this.options.bounceTime, ease.bounce);\n  };\n}\n\nfunction pullUpMixin(BScroll) {\n  BScroll.prototype._initPullUp = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n\n    this.pullupWatching = false;\n    this._watchPullUp();\n  };\n\n  BScroll.prototype._watchPullUp = function () {\n    if (this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = true;\n    this.on('scroll', this._checkToEnd);\n  };\n\n  BScroll.prototype._checkToEnd = function (pos) {\n    var _this = this;\n\n    var _options$pullUpLoad$t = this.options.pullUpLoad.threshold,\n        threshold = _options$pullUpLoad$t === undefined ? 0 : _options$pullUpLoad$t;\n\n    if (this.movingDirectionY === DIRECTION_UP && pos.y <= this.maxScrollY + threshold) {\n      // reset pullupWatching status after scroll end.\n      this.once('scrollEnd', function () {\n        _this.pullupWatching = false;\n      });\n      this.trigger('pullingUp');\n      this.off('scroll', this._checkToEnd);\n    }\n  };\n\n  BScroll.prototype.finishPullUp = function () {\n    var _this2 = this;\n\n    if (this.pullupWatching) {\n      this.once('scrollEnd', function () {\n        _this2._watchPullUp();\n      });\n    } else {\n      this._watchPullUp();\n    }\n  };\n\n  BScroll.prototype.openPullUp = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullUpLoad = config;\n    this._initPullUp();\n  };\n\n  BScroll.prototype.closePullUp = function () {\n    this.options.pullUpLoad = false;\n    if (!this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = false;\n    this.off('scroll', this._checkToEnd);\n  };\n}\n\nfunction mouseWheelMixin(BScroll) {\n  BScroll.prototype._initMouseWheel = function () {\n    var _this = this;\n\n    this._handleMouseWheelEvent(addEvent);\n\n    this.on('destroy', function () {\n      clearTimeout(_this.mouseWheelTimer);\n      clearTimeout(_this.mouseWheelEndTimer);\n      _this._handleMouseWheelEvent(removeEvent);\n    });\n\n    this.firstWheelOpreation = true;\n  };\n\n  BScroll.prototype._handleMouseWheelEvent = function (eventOperation) {\n    eventOperation(this.wrapper, 'wheel', this);\n    eventOperation(this.wrapper, 'mousewheel', this);\n    eventOperation(this.wrapper, 'DOMMouseScroll', this);\n  };\n\n  BScroll.prototype._onMouseWheel = function (e) {\n    var _this2 = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    e.preventDefault();\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    if (this.firstWheelOpreation) {\n      this.trigger('scrollStart');\n    }\n    this.firstWheelOpreation = false;\n\n    var _options$mouseWheel = this.options.mouseWheel,\n        _options$mouseWheel$s = _options$mouseWheel.speed,\n        speed = _options$mouseWheel$s === undefined ? 20 : _options$mouseWheel$s,\n        _options$mouseWheel$i = _options$mouseWheel.invert,\n        invert = _options$mouseWheel$i === undefined ? false : _options$mouseWheel$i,\n        _options$mouseWheel$e = _options$mouseWheel.easeTime,\n        easeTime = _options$mouseWheel$e === undefined ? 300 : _options$mouseWheel$e;\n\n\n    clearTimeout(this.mouseWheelTimer);\n    this.mouseWheelTimer = setTimeout(function () {\n      if (!_this2.options.snap && !easeTime) {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }\n      _this2.firstWheelOpreation = true;\n    }, 400);\n\n    var wheelDeltaX = void 0;\n    var wheelDeltaY = void 0;\n\n    switch (true) {\n      case 'deltaX' in e:\n        if (e.deltaMode === 1) {\n          wheelDeltaX = -e.deltaX * speed;\n          wheelDeltaY = -e.deltaY * speed;\n        } else {\n          wheelDeltaX = -e.deltaX;\n          wheelDeltaY = -e.deltaY;\n        }\n        break;\n      case 'wheelDeltaX' in e:\n        wheelDeltaX = e.wheelDeltaX / 120 * speed;\n        wheelDeltaY = e.wheelDeltaY / 120 * speed;\n        break;\n      case 'wheelDelta' in e:\n        wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * speed;\n        break;\n      case 'detail' in e:\n        wheelDeltaX = wheelDeltaY = -e.detail / 3 * speed;\n        break;\n      default:\n        return;\n    }\n\n    var direction = invert ? -1 : 1;\n    wheelDeltaX *= direction;\n    wheelDeltaY *= direction;\n\n    if (!this.hasVerticalScroll) {\n      wheelDeltaX = wheelDeltaY;\n      wheelDeltaY = 0;\n    }\n\n    var newX = void 0;\n    var newY = void 0;\n    if (this.options.snap) {\n      newX = this.currentPage.pageX;\n      newY = this.currentPage.pageY;\n\n      if (wheelDeltaX > 0) {\n        newX--;\n      } else if (wheelDeltaX < 0) {\n        newX++;\n      }\n\n      if (wheelDeltaY > 0) {\n        newY--;\n      } else if (wheelDeltaY < 0) {\n        newY++;\n      }\n\n      this._goToPage(newX, newY);\n      return;\n    }\n\n    newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n    newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n    this.movingDirectionX = this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n    this.movingDirectionY = this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    var needTriggerEnd = this.y === newY;\n    this.scrollTo(newX, newY, easeTime, ease.swipe);\n    this.trigger('scroll', {\n      x: this.x,\n      y: this.y\n    });\n    clearTimeout(this.mouseWheelEndTimer);\n    if (needTriggerEnd) {\n      this.mouseWheelEndTimer = setTimeout(function () {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }, easeTime);\n    }\n  };\n}\n\nfunction zoomMixin(BScroll) {\n  BScroll.prototype._initZoom = function () {\n    var _options$zoom = this.options.zoom,\n        _options$zoom$start = _options$zoom.start,\n        start = _options$zoom$start === undefined ? 1 : _options$zoom$start,\n        _options$zoom$min = _options$zoom.min,\n        min = _options$zoom$min === undefined ? 1 : _options$zoom$min,\n        _options$zoom$max = _options$zoom.max,\n        max = _options$zoom$max === undefined ? 4 : _options$zoom$max;\n\n    this.scale = Math.min(Math.max(start, min), max);\n    this.setScale(this.scale);\n    this.scrollerStyle[style.transformOrigin] = '0 0';\n  };\n\n  BScroll.prototype._zoomTo = function (scale, originX, originY, startScale) {\n    this.scaled = true;\n\n    var lastScale = scale / (startScale || this.scale);\n    this.setScale(scale);\n\n    this.refresh();\n\n    var newX = Math.round(this.startX - (originX - this.relativeX) * (lastScale - 1));\n    var newY = Math.round(this.startY - (originY - this.relativeY) * (lastScale - 1));\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    if (this.x !== newX || this.y !== newY) {\n      this.scrollTo(newX, newY, this.options.bounceTime);\n    }\n\n    this.scaled = false;\n  };\n\n  BScroll.prototype.zoomTo = function (scale, x, y) {\n    var _offsetToBody = offsetToBody(this.wrapper),\n        left = _offsetToBody.left,\n        top = _offsetToBody.top;\n\n    var originX = x + left - this.x;\n    var originY = y + top - this.y;\n    this._zoomTo(scale, originX, originY);\n  };\n\n  BScroll.prototype._zoomStart = function (e) {\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n\n    this.startDistance = getDistance(deltaX, deltaY);\n    this.startScale = this.scale;\n\n    var _offsetToBody2 = offsetToBody(this.wrapper),\n        left = _offsetToBody2.left,\n        top = _offsetToBody2.top;\n\n    this.originX = Math.abs(firstFinger.pageX + secondFinger.pageX) / 2 + left - this.x;\n    this.originY = Math.abs(firstFinger.pageY + secondFinger.pageY) / 2 + top - this.y;\n\n    this.trigger('zoomStart');\n  };\n\n  BScroll.prototype._zoom = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n    var distance = getDistance(deltaX, deltaY);\n    var scale = distance / this.startDistance * this.startScale;\n\n    this.scaled = true;\n\n    var _options$zoom2 = this.options.zoom,\n        _options$zoom2$min = _options$zoom2.min,\n        min = _options$zoom2$min === undefined ? 1 : _options$zoom2$min,\n        _options$zoom2$max = _options$zoom2.max,\n        max = _options$zoom2$max === undefined ? 4 : _options$zoom2$max;\n\n\n    if (scale < min) {\n      scale = 0.5 * min * Math.pow(2.0, scale / min);\n    } else if (scale > max) {\n      scale = 2.0 * max * Math.pow(0.5, max / scale);\n    }\n\n    var lastScale = scale / this.startScale;\n\n    var x = this.startX - (this.originX - this.relativeX) * (lastScale - 1);\n    var y = this.startY - (this.originY - this.relativeY) * (lastScale - 1);\n\n    this.setScale(scale);\n\n    this.scrollTo(x, y, 0);\n  };\n\n  BScroll.prototype._zoomEnd = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.isInTransition = false;\n    this.isAnimating = false;\n    this.initiated = 0;\n\n    var _options$zoom3 = this.options.zoom,\n        _options$zoom3$min = _options$zoom3.min,\n        min = _options$zoom3$min === undefined ? 1 : _options$zoom3$min,\n        _options$zoom3$max = _options$zoom3.max,\n        max = _options$zoom3$max === undefined ? 4 : _options$zoom3$max;\n\n\n    var scale = this.scale > max ? max : this.scale < min ? min : this.scale;\n\n    this._zoomTo(scale, this.originX, this.originY, this.startScale);\n\n    this.trigger('zoomEnd');\n  };\n}\n\n// import { ease } from '../util/ease'\n\n// Number of items to instantiate beyond current view in the scroll direction.\nvar RUNWAY_ITEMS = 30;\n\n// Number of items to instantiate beyond current view in the opposite direction.\nvar RUNWAY_ITEMS_OPPOSITE = 10;\n\n// The animation interval (in ms) for fading in content from tombstones.\nvar ANIMATION_DURATION_MS = 200;\n\n// The number of pixels of default additional length to allow scrolling to.\nvar DEFAULT_SCROLL_RUNWAY = 2000;\n\nfunction infiniteMixin(BScroll) {\n  BScroll.prototype._initInfinite = function () {\n    this.options.probeType = 3;\n    this.maxScrollY = -DEFAULT_SCROLL_RUNWAY;\n    this.infiniteScroller = new InfiniteScroller(this, this.options.infinity);\n  };\n}\n\nfunction isTombstoneNode(node) {\n  if (node && node.classList) {\n    return node.classList.contains('tombstone');\n  }\n}\n\nfunction InfiniteScroller(scroller, options) {\n  var _this = this;\n\n  this.options = options;\n  assert(typeof this.options.createTombstone === 'function', 'Infinite scroll need createTombstone Function to create tombstone');\n\n  assert(typeof this.options.fetch === 'function', 'Infinite scroll need fetch Function to fetch new data.');\n\n  assert(typeof this.options.render === 'function', 'Infinite scroll need render Function to render each item.');\n\n  this.firstAttachedItem = 0;\n  this.lastAttachedItem = 0;\n\n  this.anchorScrollTop = 0;\n  this.anchorItem = {\n    index: 0,\n    offset: 0\n  };\n  this.tombstoneHeight = 0;\n  this.tombstoneWidth = 0;\n  this.tombstones = [];\n  this.tombstonesAnimationHandlers = [];\n\n  this.items = [];\n  this.loadedItems = 0;\n  this.requestInProgress = false;\n  this.hasMore = true;\n\n  this.scroller = scroller;\n  this.wrapperEl = this.scroller.wrapper;\n  this.scrollerEl = this.scroller.scroller;\n\n  this.scroller.on('resize', function () {\n    _this.onResize();\n  });\n  this.scroller.on('destroy', function () {\n    _this.destroy();\n  });\n\n  // wait scroll core init\n  this._onResizeHandler = setTimeout(function () {\n    _this.onResize();\n\n    // must wait tombstoneHeight has size\n    _this.scroller.on('scroll', function () {\n      _this.onScroll();\n    });\n  });\n}\n\nInfiniteScroller.prototype.destroy = function () {\n  var _this2 = this;\n\n  // In extreme scene, destroy is triggered before _onResizeHandler\n  clearTimeout(this._onResizeHandler);\n  this.tombstonesAnimationHandlers.forEach(function (handler) {\n    clearTimeout(handler);\n  });\n  this.tombstonesAnimationHandlers = null;\n  this.items.forEach(function (item) {\n    if (item.node) {\n      _this2.scrollerEl.removeChild(item.node);\n      item.node = null;\n    }\n  });\n  this.scroller.infiniteScroller = null;\n  this.scroller = null;\n  this.wrapperEl = null;\n  this.scrollerEl = null;\n  this.items = null;\n  this.tombstones = null;\n};\n\nInfiniteScroller.prototype.onScroll = function () {\n  var scrollTop = -this.scroller.y;\n  var delta = scrollTop - this.anchorScrollTop;\n  if (scrollTop === 0) {\n    this.anchorItem = {\n      index: 0,\n      offset: 0\n    };\n  } else {\n    this.anchorItem = this._calculateAnchoredItem(this.anchorItem, delta);\n  }\n\n  this.anchorScrollTop = scrollTop;\n  var lastScreenItem = this._calculateAnchoredItem(this.anchorItem, this.scroller.wrapperHeight);\n\n  var start = this.anchorItem.index;\n  var end = lastScreenItem.index;\n  if (delta < 0) {\n    start -= RUNWAY_ITEMS;\n    end += RUNWAY_ITEMS_OPPOSITE;\n  } else {\n    start -= RUNWAY_ITEMS_OPPOSITE;\n    end += RUNWAY_ITEMS;\n  }\n  this.fill(start, end);\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.onResize = function () {\n  var tombstone = this.options.createTombstone();\n  tombstone.style.position = 'absolute';\n  this.scrollerEl.appendChild(tombstone);\n  tombstone.style.display = '';\n  this.tombstoneHeight = tombstone.offsetHeight;\n  this.tombstoneWidth = tombstone.offsetWidth;\n  this.scrollerEl.removeChild(tombstone);\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.items[i].height = this.items[i].width = 0;\n  }\n\n  this.onScroll();\n};\n\nInfiniteScroller.prototype.fill = function (start, end) {\n  this.firstAttachedItem = Math.max(0, start);\n  if (!this.hasMore) {\n    end = Math.min(end, this.items.length);\n  }\n  this.lastAttachedItem = end;\n  this.attachContent();\n};\n\nInfiniteScroller.prototype.maybeRequestContent = function () {\n  var _this3 = this;\n\n  if (this.requestInProgress || !this.hasMore) {\n    return;\n  }\n  var itemsNeeded = this.lastAttachedItem - this.loadedItems;\n  if (itemsNeeded <= 0) {\n    return;\n  }\n  this.requestInProgress = true;\n  this.options.fetch(itemsNeeded).then(function (items) {\n    _this3.requestInProgress = false;\n    if (items) {\n      _this3.addContent(items);\n    } else {\n      _this3.hasMore = false;\n      var tombstoneLen = _this3._removeTombstones();\n      var curPos = 0;\n      if (_this3.anchorItem.index <= _this3.items.length) {\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.resetPosition(_this3.scroller.options.bounceTime);\n      } else {\n        _this3.anchorItem.index -= tombstoneLen;\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.stop();\n        _this3.scroller.resetPosition();\n        _this3.onScroll();\n      }\n    }\n  });\n};\n\nInfiniteScroller.prototype.addContent = function (items) {\n  for (var i = 0; i < items.length; i++) {\n    if (this.items.length <= this.loadedItems) {\n      this._addItem();\n    }\n    this.items[this.loadedItems++].data = items[i];\n  }\n  this.attachContent();\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.attachContent = function () {\n  var unusedNodes = this._collectUnusedNodes();\n  var tombstoneAnimations = this._createDOMNodes(unusedNodes);\n  this._cleanupUnusedNodes(unusedNodes);\n  this._cacheNodeSize();\n  var curPos = this._fixScrollPosition();\n  this._setupAnimations(tombstoneAnimations, curPos);\n};\n\nInfiniteScroller.prototype.resetMore = function () {\n  this.hasMore = true;\n};\n\nInfiniteScroller.prototype._removeTombstones = function () {\n  var markIndex = void 0;\n  var tombstoneLen = 0;\n  var itemLen = this.items.length;\n  for (var i = 0; i < itemLen; i++) {\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if ((!currentNode || isTombstoneNode(currentNode)) && !currentData) {\n      // 0 should be excluded\n      if (markIndex === void 0) {\n        markIndex = i;\n      }\n      if (currentNode) {\n        this.scrollerEl.removeChild(currentNode);\n      }\n    }\n  }\n  tombstoneLen = itemLen - markIndex;\n  this.items.splice(markIndex);\n  this.lastAttachedItem = Math.min(this.lastAttachedItem, this.items.length);\n  return tombstoneLen;\n};\n\nInfiniteScroller.prototype._collectUnusedNodes = function () {\n  var unusedNodes = [];\n  for (var i = 0; i < this.items.length; i++) {\n    // Skip the items which should be visible.\n    if (i === this.firstAttachedItem) {\n      i = this.lastAttachedItem - 1;\n      continue;\n    }\n    var currentNode = this.items[i].node;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode)) {\n        // Cache tombstones for reuse\n        this.tombstones.push(currentNode);\n        this.tombstones[this.tombstones.length - 1].style.display = 'none';\n      } else {\n        unusedNodes.push(currentNode);\n      }\n    }\n    this.items[i].node = null;\n  }\n  return unusedNodes;\n};\n\nInfiniteScroller.prototype._createDOMNodes = function (unusedNodes) {\n  var tombstoneAnimations = {};\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    while (this.items.length <= i) {\n      this._addItem();\n    }\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode) && currentData) {\n        currentNode.style.zIndex = 1;\n        tombstoneAnimations[i] = [currentNode, this.items[i].top - this.anchorScrollTop];\n        this.items[i].node = null;\n      } else {\n        continue;\n      }\n    }\n    var node = currentData ? this.options.render(currentData, unusedNodes.pop()) : this._getTombStone();\n    node.style.position = 'absolute';\n    this.items[i].top = -1;\n    this.scrollerEl.appendChild(node);\n    this.items[i].node = node;\n  }\n  return tombstoneAnimations;\n};\n\nInfiniteScroller.prototype._cleanupUnusedNodes = function (unusedNodes) {\n  while (unusedNodes.length) {\n    this.scrollerEl.removeChild(unusedNodes.pop());\n  }\n};\n\nInfiniteScroller.prototype._cacheNodeSize = function () {\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    var item = this.items[i];\n    // Only cache the height if we have the real contents, not a placeholder.\n    if (item.data && !item.height) {\n      var isTombstone = isTombstoneNode(item.node);\n      item.height = isTombstone ? this.tombstoneHeight : item.node.offsetHeight;\n      item.width = isTombstone ? this.tombstoneWidth : item.node.offsetWidth;\n    }\n  }\n};\n\nInfiniteScroller.prototype._fixScrollPosition = function () {\n  this.anchorScrollTop = 0;\n  for (var _i = 0; _i < this.anchorItem.index; _i++) {\n    this.anchorScrollTop += this.items[_i].height || this.tombstoneHeight;\n  }\n  this.anchorScrollTop += this.anchorItem.offset;\n\n  // Position all nodes.\n  var curPos = this.anchorScrollTop - this.anchorItem.offset;\n  var i = this.anchorItem.index;\n  while (i > this.firstAttachedItem) {\n    curPos -= this.items[i - 1].height || this.tombstoneHeight;\n    i--;\n  }\n\n  return curPos;\n};\n\nInfiniteScroller.prototype._setupAnimations = function (tombstoneAnimations, curPos) {\n  var _this4 = this;\n\n  for (var i in tombstoneAnimations) {\n    var animation = tombstoneAnimations[i];\n    this.items[i].node.style[style.transform] = 'translateY(' + (this.anchorScrollTop + animation[1]) + 'px) scale(' + this.tombstoneWidth / this.items[i].width + ', ' + this.tombstoneHeight / this.items[i].height + ')';\n    // Call offsetTop on the nodes to be animated to force them to apply current transforms.\n    /* eslint-disable no-unused-expressions */\n    this.items[i].node.offsetTop;\n    animation[0].offsetTop;\n    this.items[i].node.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms';\n  }\n\n  for (var _i2 = this.firstAttachedItem; _i2 < this.lastAttachedItem; _i2++) {\n    var _animation = tombstoneAnimations[_i2];\n    if (_animation) {\n      var tombstoneNode = _animation[0];\n      tombstoneNode.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms, opacity ' + ANIMATION_DURATION_MS + 'ms';\n      tombstoneNode.style[style.transform] = 'translateY(' + curPos + 'px) scale(' + this.items[_i2].width / this.tombstoneWidth + ', ' + this.items[_i2].height / this.tombstoneHeight + ')';\n      tombstoneNode.style.opacity = 0;\n    }\n    if (curPos !== this.items[_i2].top) {\n      if (!_animation) {\n        this.items[_i2].node.style[style.transition] = '';\n      }\n      this.items[_i2].node.style[style.transform] = 'translateY(' + curPos + 'px)';\n    }\n    this.items[_i2].top = curPos;\n    curPos += this.items[_i2].height || this.tombstoneHeight;\n  }\n\n  this.scroller.maxScrollY = -(curPos - this.scroller.wrapperHeight + (this.hasMore ? DEFAULT_SCROLL_RUNWAY : 0));\n\n  var tombstoneAnimationsHandler = setTimeout(function () {\n    for (var _i3 in tombstoneAnimations) {\n      var _animation2 = tombstoneAnimations[_i3];\n      _animation2[0].style.display = 'none';\n      // Tombstone can be recycled now.\n      _this4.tombstones.push(_animation2[0]);\n    }\n  }, ANIMATION_DURATION_MS);\n\n  this.tombstonesAnimationHandlers.push(tombstoneAnimationsHandler);\n};\n\nInfiniteScroller.prototype._getTombStone = function () {\n  var tombstone = this.tombstones.pop();\n  if (tombstone) {\n    tombstone.style.display = '';\n    tombstone.style.opacity = 1;\n    tombstone.style[style.transform] = '';\n    tombstone.style[style.transition] = '';\n    return tombstone;\n  }\n  return this.options.createTombstone();\n};\n\nInfiniteScroller.prototype._addItem = function () {\n  this.items.push({\n    data: null,\n    node: null,\n    height: 0,\n    width: 0,\n    top: 0\n  });\n};\n\nInfiniteScroller.prototype._calculateAnchoredItem = function (initialAnchor, delta) {\n  if (delta === 0) {\n    return initialAnchor;\n  }\n  var i = initialAnchor.index;\n  var tombstones = 0;\n\n  delta += initialAnchor.offset;\n  if (delta < 0) {\n    while (delta < 0 && i > 0 && this.items[i - 1].height) {\n      delta += this.items[i - 1].height;\n      i--;\n    }\n    tombstones = Math.max(-i, Math.ceil(Math.min(delta, 0) / this.tombstoneHeight));\n  } else {\n    while (delta > 0 && i < this.items.length && this.items[i].height && this.items[i].height < delta) {\n      delta -= this.items[i].height;\n      i++;\n    }\n    if (i >= this.items.length || !this.items[i].height) {\n      tombstones = Math.floor(Math.max(delta, 0) / this.tombstoneHeight);\n    }\n  }\n  i += tombstones;\n  delta -= tombstones * this.tombstoneHeight;\n\n  return {\n    index: i,\n    offset: delta\n  };\n};\n\nfunction BScroll(el, options) {\n  this.wrapper = typeof el === 'string' ? document.querySelector(el) : el;\n  if (!this.wrapper) {\n    warn('Can not resolve the wrapper DOM.');\n  }\n  this.scroller = this.wrapper.children[0];\n  if (!this.scroller) {\n    warn('The wrapper need at least one child element to be scroller.');\n  }\n  // cache style for better performance\n  this.scrollerStyle = this.scroller.style;\n\n  this._init(options);\n}\n\ninitMixin(BScroll);\ncoreMixin(BScroll);\neventMixin(BScroll);\nsnapMixin(BScroll);\nwheelMixin(BScroll);\nscrollbarMixin(BScroll);\npullDownMixin(BScroll);\npullUpMixin(BScroll);\nmouseWheelMixin(BScroll);\nzoomMixin(BScroll);\ninfiniteMixin(BScroll);\n\nBScroll.Version = '1.15.2';\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (BScroll);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.e337721d.chunk.js","import React from 'react';\nimport './editImg.css';\nimport Hammer from 'hammerjs';\nimport Utils from '../../common/Utils';\n\nclass Editimg extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imgSrc: props.imgSrc,\n      proportion: props.proportion,\n      winWidth: 0,\n      winHeight: 0,\n      imgWidth: 0,\n      imgHeight: 0,\n      trackerWidth: 0,\n      trackerHeight: 0,\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.imgSrc) this.initData();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.imgSrc !== this.state.imgSrc) {\n      this.setState({\n        imgSrc: nextProps.imgSrc,\n        proportion: nextProps.proportion,\n      }, () => {\n        this.initData();\n      });\n    }\n  }\n\n  initData() {\n    let winWidth = window.innerWidth;\n    let winHeight = window.innerHeight;\n    let imgWidth = 0;\n    let imgHeight = 0;\n    let trackerWidth = 0;\n    let trackerHeight = 0;\n    let proportion_1 = this.state.proportion.split(':')[0];\n    let proportion_2 = this.state.proportion.split(':')[1];\n\n    if (!proportion_1 || !proportion_2) return Utils.toast.info('缺少参数');\n\n    let img = new window.Image();\n    img.src = this.state.imgSrc;\n    img.onload = () => {\n      let width = img.width;\n      let height = img.height;\n\n      imgWidth = winWidth;\n      imgHeight = winWidth / width * height;\n\n      // 正方形\n      if (proportion_1 === proportion_2) {\n        trackerWidth = winWidth / 1.2 > imgHeight ? imgHeight : winWidth / 1.2;\n        trackerHeight = trackerWidth;\n      }\n\n      // 横向\n      if (proportion_1 > proportion_2) {\n        trackerWidth = winWidth * 0.96;\n        trackerHeight = trackerWidth / proportion_1 * proportion_2;\n      }\n\n      this.setState({\n        winWidth,\n        winHeight,\n        imgWidth,\n        imgHeight,\n        trackerWidth,\n        trackerHeight,\n      }, () => {\n        this.initHammer();\n      });\n    }\n  }\n\n  initHammer() {\n    let tracker = document.getElementById('editImg-tracker');\n    let img = document.getElementById('editImg-img');\n    if (!tracker || !img) return;\n\n    this.hammertime = new Hammer(tracker, { domEvents: true });\n    this.hammertime.get('pan').set({ direction: Hammer.DIRECTION_ALL });\n\n    let starX = 0;\n    let starY = 0;\n    let imgWidth = 0;\n    let imgHeight = 0;\n    let trackerLeft = tracker.offsetLeft;\n    let trackerTop = tracker.offsetTop;\n    let trackerWidth = this.state.trackerWidth;\n    let trackerHeight = this.state.trackerHeight;\n\n    // 平移\n    this.hammertime.on(\"panstart\", () => {\n      starX = img.offsetLeft;\n      starY = img.offsetTop;\n      imgWidth = img.width;\n      imgHeight = img.height;\n    });\n\n    this.hammertime.on(\"panmove\", e => {\n      img.style.left = starX + e.deltaX + 'px';\n      img.style.top = starY + e.deltaY + 'px';\n    });\n\n    this.hammertime.on(\"panend\", e => {\n      let imgLeft = img.offsetLeft;\n      let imgTop = img.offsetTop;\n      \n      if (imgLeft > trackerLeft) {\n        img.style.left = trackerLeft + 'px';\n      }\n      if (imgTop > trackerTop) {\n        img.style.top = trackerTop + 'px';\n      }\n      if (this.state.winWidth - imgWidth - imgLeft > trackerLeft) {\n        img.style.left = -(trackerLeft - (this.state.winWidth - imgWidth)) + 'px';\n      }\n      if (this.state.winHeight - imgHeight - imgTop > trackerTop) {\n        img.style.top = - (trackerTop - (this.state.winHeight - imgHeight)) + 'px';\n      }  \n    });\n\n    // 缩放\n    this.hammertime.get('pinch').set({ enable: true });\n\n    this.hammertime.on(\"pinchstart\",  e => {\n      imgWidth = img.width;\n      imgHeight = img.height;\n    });\n\n    let setImgStyle = (w, h) => {\n      img.style.width = w + 'px';\n      img.style.height = h + 'px';\n      img.style.left = (this.state.winWidth - w) / 2 + 'px';\n      img.style.top = (this.state.winHeight - h) / 2 + 'px';\n    }\n\n    this.hammertime.on(\"pinchmove\", e => {\n      let w = imgWidth * e.scale;\n      let h = imgHeight * e.scale;\n      setImgStyle(w, h);\n    });\n\n    this.hammertime.on(\"pinchend\", e => {\n      imgWidth = imgWidth * e.scale;\n      imgHeight = imgHeight * e.scale;\n      let scale = imgWidth / imgHeight;\n      if (imgWidth < trackerWidth) {\n        imgWidth = trackerWidth;\n        imgHeight = imgWidth / scale;\n        setImgStyle(imgWidth, imgHeight);\n      }\n      if (imgHeight < trackerHeight) {\n        imgHeight = trackerHeight;\n        imgWidth = imgWidth * scale;\n        setImgStyle(imgWidth, imgHeight);\n      }  \n    });\n  }\n\n  // 裁剪图片\n  handleImg() {\n    let tracker = document.getElementById('editImg-tracker');\n    let img = document.getElementById('editImg-img');\n    let naturalWidth = img.naturalWidth;\n    let naturalHeight = img.naturalHeight;\n    let imgWidth = img.clientWidth;\n    let scale = naturalWidth / imgWidth;\n\n    let canvas = document.createElement('canvas');\n    let ctx = canvas.getContext('2d');\n    canvas.width = tracker.clientWidth * scale;\n    canvas.height = tracker.clientHeight * scale;\n\n    let x = (tracker.offsetLeft - img.offsetLeft) * scale;\n    let y = (tracker.offsetTop - img.offsetTop) * scale;\n\n    let newImg = new Image();\n    newImg.src = this.state.imgSrc;\n    newImg.onload = () => {\n      ctx.drawImage(newImg, x, y, naturalWidth, naturalHeight, 0, 0, naturalWidth, naturalHeight);\n      if (this.props.emitImgWidth && this.props.emitImgHeight) {\n        this.cropImg(canvas.toDataURL(\"image/jpeg\"), naturalWidth, naturalHeight);\n      } else {\n        this.props.emitImg && this.props.emitImg(canvas.toDataURL(\"image/jpeg\"), this.props.quality || 1);\n      }\n    }\n  }\n\n  cropImg(src) {\n    let canvas = document.createElement('canvas');\n    let ctx = canvas.getContext('2d');\n    \n    canvas.width = this.props.emitImgWidth;\n    canvas.height = this.props.emitImgHeight;\n\n    let img = new Image();\n    img.src = src;\n    img.onload = () => {\n      ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, this.props.emitImgWidth, this.props.emitImgHeight);\n      this.props.emitImg && this.props.emitImg(canvas.toDataURL(\"image/jpeg\"), this.props.quality || 1);\n    }\n  }\n\n  render() {\n    if (!this.props.imgSrc && !this.state.imgWidth) return null;\n\n    return (\n      <div className=\"editImg\">\n        <div className=\"editImg-mask\"></div>\n        <img src={this.state.imgSrc} className=\"editImg-img\" id=\"editImg-img\" style={{ width: this.state.imgWidth + 'px', height: + this.state.imgHeight + 'px', left: 0, top: (this.state.winHeight - this.state.imgHeight) / 2 + 'px'}} alt=\"图片\" />\n        <div className=\"editImg-tracker\" id=\"editImg-tracker\" style={{ width: this.state.trackerWidth + 'px', height: + this.state.trackerHeight + 'px', left: (this.state.winWidth - this.state.trackerWidth) / 2 + 'px', top: (this.state.winHeight - this.state.trackerHeight) / 2 + 'px'}}></div>\n        <div className=\"editImg-btn\" onClick={() => this.handleImg()}>确定</div>\n      </div>\n    );\n  }\n}\n\nexport default Editimg; \n\n\n// WEBPACK FOOTER //\n// ./src/components/editImg/editImg.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./editImg.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/editImg/editImg.css\n// module id = 112\n// module chunks = 3 5","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".editImg{position:fixed;z-index:999;overflow:hidden}.editImg,.editImg-mask{left:0;top:0;right:0;bottom:0}.editImg-mask{background:rgba(0,0,0,.7);position:absolute;z-index:1}.editImg-img,.editImg-tracker{position:absolute;z-index:2}.editImg-tracker{-webkit-box-shadow:0 0 0 2000px #000;box-shadow:0 0 0 2000px #000;opacity:.5;border:.5px solid #fff}.editImg-btn{width:5rem;line-height:2rem;color:#fff;font-size:.8rem;text-align:center;background:#2489ed;border-radius:.4rem;position:absolute;bottom:2rem;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);z-index:3}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/components/editImg/editImg.css\"],\"names\":[],\"mappings\":\"AAAA,SACE,eAAgB,AAKhB,YAAa,AACb,eAAiB,CAClB,AAED,uBARE,OAAQ,AACR,MAAO,AACP,QAAS,AACT,QAAU,CAaX,AARD,cACE,0BAA8B,AAC9B,kBAAmB,AAKnB,SAAW,CACZ,AAOD,8BAJE,kBAAmB,AACnB,SAAW,CAUZ,AAPD,iBAEE,qCAAsC,AAC9B,6BAA8B,AACtC,WAAY,AAEZ,sBAAwB,CACzB,AAED,aACE,WAAY,AACZ,iBAAkB,AAClB,WAAY,AACZ,gBAAiB,AACjB,kBAAmB,AACnB,mBAAoB,AACpB,oBAAqB,AACrB,kBAAmB,AACnB,YAAa,AACb,SAAU,AACV,mCAAoC,AAChC,+BAAgC,AAC5B,2BAA4B,AACpC,SAAW,CACZ\",\"file\":\"editImg.css\",\"sourcesContent\":[\".editImg {\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  z-index: 999;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.editImg-mask {\\r\\n  background: rgba(0, 0, 0, .7);\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  z-index: 1;\\r\\n}\\r\\n\\r\\n.editImg-img {\\r\\n  position: absolute;\\r\\n  z-index: 2;\\r\\n}\\r\\n\\r\\n.editImg-tracker {\\r\\n  position: absolute;\\r\\n  -webkit-box-shadow: 0 0 0 2000px #000;\\r\\n          box-shadow: 0 0 0 2000px #000;\\r\\n  opacity: .5;\\r\\n  z-index: 2;\\r\\n  border: .5px solid #fff;\\r\\n}\\r\\n\\r\\n.editImg-btn {\\r\\n  width: 5rem;\\r\\n  line-height: 2rem;\\r\\n  color: #fff;\\r\\n  font-size: .8rem;\\r\\n  text-align: center;\\r\\n  background: #2489ED;\\r\\n  border-radius: .4rem;\\r\\n  position: absolute;\\r\\n  bottom: 2rem;\\r\\n  left: 50%;\\r\\n  -webkit-transform: translateX(-50%);\\r\\n      -ms-transform: translateX(-50%);\\r\\n          transform: translateX(-50%);\\r\\n  z-index: 3;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/editImg/editImg.css\n// module id = 113\n// module chunks = 3 5","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/hammerjs/hammer.js\n// module id = 114\n// module chunks = 3 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./setting.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/setting/setting.css\n// module id = 161\n// module chunks = 5","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".set-item-box{padding-left:.6rem;background:#fff;margin-bottom:1rem}.set-item-box .set-item:last-child:after{display:none}.set-item{height:2.5rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.set-item .l{width:2.5rem;font-size:.7rem;color:#434343}.set-item .r{-ms-flex:1 1;flex:1 1;display:-ms-flexbox;display:flex;height:100%;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;padding-right:.6rem;color:#888;font-size:.7rem}.set-item .r input{width:100%;height:2.4rem;line-height:100%;color:#888;font-size:.7rem;text-align:right}.set-item.userIcon{height:3.4rem}.set-item.userIcon .r img{width:2.6rem;height:2.6rem;border-radius:50%}.set-title{line-height:1.6rem;padding-left:.6rem;font-size:.7rem}.set-info-box{background:#fff;padding:.6rem;margin-bottom:1rem}.set-info-box textarea{width:100%;height:3.2rem;line-height:1rem;color:#434343;font-size:.7rem;resize:none;font-family:sans-serif}.set-lable-tips{font-size:.6rem;color:#aaa;line-height:.8rem;margin:0 0 1rem .6rem}.set-lable-content{margin:.6rem}.set-lable-box{margin-bottom:.6rem;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.set-lable-box div{line-height:1.4rem;color:#333;font-size:.6rem;padding:0 .8rem;margin:0 .4rem .4rem 0;background:#d7d7d7;border-radius:.7rem}.set-add-lable,.set-lable-box div.active{background:#2489ed;color:#fff}.set-add-lable{width:3.2rem;line-height:1.4rem;text-align:center;font-size:.6rem;border-radius:.7rem}.set-add-lable-input,.set-info-type-input{width:100%;line-height:2rem;border-bottom:.5px solid #eee;color:#434343}.set-save-btns{height:2rem;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;margin:2rem 0}.set-save-btns div{width:4.4rem;text-align:center;margin:0 .9rem;line-height:2rem;background:#2489ed;color:#fff;font-size:.7rem;border-radius:.3rem}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/view/setting/setting.css\"],\"names\":[],\"mappings\":\"AAAA,cACE,mBAAoB,AACpB,gBAAiB,AACjB,kBAAoB,CACrB,AAED,yCACE,YAAc,CACf,AAED,UACE,cAAe,AACf,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,kBAAoB,CACzB,AAED,aACE,aAAc,AACd,gBAAiB,AACjB,aAAe,CAChB,AAED,aACE,aAAc,AACV,SAAU,AACd,oBAAqB,AACrB,aAAc,AACd,YAAa,AACb,kBAAmB,AACf,yBAA0B,AAC9B,sBAAuB,AACnB,mBAAoB,AACxB,oBAAqB,AACrB,WAAY,AACZ,eAAiB,CAClB,AAED,mBACE,WAAY,AACZ,cAAe,AACf,iBAAkB,AAClB,WAAY,AACZ,gBAAiB,AACjB,gBAAkB,CACnB,AAED,mBACE,aAAe,CAChB,AAED,0BACE,aAAc,AACd,cAAe,AACf,iBAAmB,CACpB,AAED,WACE,mBAAoB,AACpB,mBAAoB,AACpB,eAAiB,CAClB,AAED,cACE,gBAAiB,AACjB,cAAe,AACf,kBAAoB,CACrB,AAED,uBACE,WAAY,AACZ,cAAe,AACf,iBAAkB,AAClB,cAAe,AACf,gBAAiB,AACjB,YAAa,AACb,sBAAiD,CAClD,AAED,gBACE,gBAAiB,AACjB,WAAY,AACZ,kBAAmB,AACnB,qBAAuB,CACxB,AAED,mBACE,YAAc,CACf,AAED,eACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,cAAgB,CACrB,AAED,mBACE,mBAAoB,AACpB,WAAY,AACZ,gBAAiB,AACjB,gBAAiB,AACjB,uBAAwB,AACxB,mBAAoB,AACpB,mBAAqB,CACtB,AAOD,yCAJE,mBAAoB,AACpB,UAAY,CAWb,AARD,eACE,aAAc,AACd,mBAAoB,AACpB,kBAAmB,AAEnB,gBAAiB,AAEjB,mBAAqB,CACtB,AAED,0CAEE,WAAY,AACZ,iBAAkB,AAClB,8BAA+B,AAC/B,aAAe,CAChB,AAED,eACE,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,aAAe,CAChB,AAED,mBACE,aAAc,AACd,kBAAmB,AACnB,eAAgB,AAChB,iBAAkB,AAClB,mBAAoB,AACpB,WAAY,AACZ,gBAAiB,AACjB,mBAAqB,CACtB\",\"file\":\"setting.css\",\"sourcesContent\":[\".set-item-box {\\r\\n  padding-left: .6rem;\\r\\n  background: #fff;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.set-item-box .set-item:last-child::after {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.set-item {\\r\\n  height: 2.5rem;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-align: center;\\r\\n      align-items: center;\\r\\n}\\r\\n\\r\\n.set-item .l {\\r\\n  width: 2.5rem;\\r\\n  font-size: .7rem;\\r\\n  color: #434343;\\r\\n}\\r\\n\\r\\n.set-item .r {\\r\\n  -ms-flex: 1 1;\\r\\n      flex: 1 1;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  height: 100%;\\r\\n  -ms-flex-pack: end;\\r\\n      justify-content: flex-end;\\r\\n  -ms-flex-align: center;\\r\\n      align-items: center;\\r\\n  padding-right: .6rem;\\r\\n  color: #888;\\r\\n  font-size: .7rem;\\r\\n}\\r\\n\\r\\n.set-item .r input {\\r\\n  width: 100%;\\r\\n  height: 2.4rem;\\r\\n  line-height: 100%;\\r\\n  color: #888;\\r\\n  font-size: .7rem;\\r\\n  text-align: right;\\r\\n}\\r\\n\\r\\n.set-item.userIcon {\\r\\n  height: 3.4rem;\\r\\n}\\r\\n\\r\\n.set-item.userIcon .r img {\\r\\n  width: 2.6rem;\\r\\n  height: 2.6rem;\\r\\n  border-radius: 50%;\\r\\n}\\r\\n\\r\\n.set-title {\\r\\n  line-height: 1.6rem;\\r\\n  padding-left: .6rem;\\r\\n  font-size: .7rem;\\r\\n}\\r\\n\\r\\n.set-info-box {\\r\\n  background: #fff;\\r\\n  padding: .6rem;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.set-info-box textarea {\\r\\n  width: 100%;\\r\\n  height: 3.2rem;\\r\\n  line-height: 1rem;\\r\\n  color: #434343;\\r\\n  font-size: .7rem;\\r\\n  resize: none;\\r\\n  font-family: sans-serif, \\\"Microsoft YaHei\\\", 微软雅黑;\\r\\n}\\r\\n\\r\\n.set-lable-tips {\\r\\n  font-size: .6rem;\\r\\n  color: #aaa;\\r\\n  line-height: .8rem;\\r\\n  margin: 0 0 1rem .6rem;\\r\\n}\\r\\n\\r\\n.set-lable-content {\\r\\n  margin: .6rem;\\r\\n}\\r\\n\\r\\n.set-lable-box {\\r\\n  margin-bottom: .6rem;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-wrap: wrap;\\r\\n      flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.set-lable-box div {\\r\\n  line-height: 1.4rem;\\r\\n  color: #333;\\r\\n  font-size: .6rem;\\r\\n  padding: 0 .8rem;\\r\\n  margin: 0 .4rem .4rem 0;\\r\\n  background: #D7D7D7;\\r\\n  border-radius: .7rem;\\r\\n}\\r\\n\\r\\n.set-lable-box div.active {\\r\\n  background: #2489ED;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.set-add-lable {\\r\\n  width: 3.2rem;\\r\\n  line-height: 1.4rem;\\r\\n  text-align: center;\\r\\n  color: #fff;\\r\\n  font-size: .6rem;\\r\\n  background: #2489ED;\\r\\n  border-radius: .7rem;\\r\\n}\\r\\n\\r\\n.set-add-lable-input,\\r\\n.set-info-type-input {\\r\\n  width: 100%;\\r\\n  line-height: 2rem;\\r\\n  border-bottom: .5px solid #eee;\\r\\n  color: #434343;\\r\\n}\\r\\n\\r\\n.set-save-btns {\\r\\n  height: 2rem;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-pack: center;\\r\\n      justify-content: center;\\r\\n  margin: 2rem 0;\\r\\n}\\r\\n\\r\\n.set-save-btns div {\\r\\n  width: 4.4rem;\\r\\n  text-align: center;\\r\\n  margin: 0 .9rem;\\r\\n  line-height: 2rem;\\r\\n  background: #2489ED;\\r\\n  color: #fff;\\r\\n  font-size: .7rem;\\r\\n  border-radius: .3rem;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/view/setting/setting.css\n// module id = 162\n// module chunks = 5","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport BScroll from 'better-scroll';\nimport './picker.css';\nimport Data from './data';\n\nclass Picker extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      classStr: '',\n      selectedIndex: [],\n      itemData: [],\n    }\n\n    this.wheels = [];\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  init() {\n    let itemData = [];\n    let selectedIndex = [];\n    if (this.props.type === 'gender') itemData = Data.gender();\n    if (this.props.type === 'date') itemData = Data.date(this.props.defaultDate);\n    if (this.props.defaultData.length > 0) itemData = this.props.defaultData;\n\n    if (this.props.defaultIndex.length > 0) {\n      selectedIndex = this.props.defaultIndex;\n    } else {\n      selectedIndex = this.getSelectedIndex(itemData);\n    }\n\n    this.setState({ \n      itemData, \n      selectedIndex \n    }, () => {\n      setTimeout(() => {\n        this.setState({\n          classStr: 'm-picker-show',\n        }, () => {\n          this.initWheel();\n        });\n      }, 20);\n    });\n  }\n\n  getSelectedIndex(itemData) {\n    let selectedIndex = [];\n\n    if (this.props.type === 'date') {\n      selectedIndex.push(99);\n      let date = this.props.defaultDate.split('-');\n      selectedIndex.push(Number(date[1]) - 1);\n      selectedIndex.push(Number(date[2]) - 1);\n    } else {\n      itemData.forEach(val => selectedIndex.push(0));\n    }\n    \n    return selectedIndex;\n  }\n\n  initWheel() {\n    const list = document.getElementsByClassName('m-picker-list');\n\n    for (let i = 0; i < list.length; i++) {\n      if (!this.wheels[i]) {\n        this.wheels[i] = new BScroll(list[i], {\n          probeType: 3,\n          wheel: {\n            selectedIndex: this.state.selectedIndex[i],\n            rotate: 25,\n            adjustTime: 100,\n            wheelWrapperClass: 'm-picker-ul',\n            wheelItemClass: 'm-picker-item',\n            wheelDisabledItemClass: 'wheel-disabled-item',\n          }\n        });\n      } else {\n        this.wheels[i].refresh();\n      }\n\n      this.wheels[i].on('scrollEnd', () => {\n        let selectedIndex = this.state.selectedIndex;\n        let itemData = this.state.itemData;\n        selectedIndex[i] = this.wheels[i].getSelectedIndex();\n        if (this.props.type === 'date' && i === 0) {\n          selectedIndex[0] = 99;\n          itemData[0] = Data.getYear(this.state.itemData[0][selectedIndex[0]].val);\n        }\n        this.setState({ itemData, selectedIndex });\n      });\n    }\n  }\n\n  getItem() {\n    let arr1 = [];\n\n    this.state.itemData.forEach((val1, i) => {\n      let arr2 = [];\n      val1.forEach((val2, j) => {\n        arr2.push(<div className=\"m-picker-item\" key={j}>{val2.text}</div>);\n      });\n      arr1.push(\n        <div className=\"m-picker-list\" key={i}>\n          <ul className=\"m-picker-ul\">{arr2}</ul>\n          <div className=\"m-picker-line m-picker-line-top\"></div>\n          <div className=\"m-picker-line m-picker-line-bot\"></div>\n        </div>\n      );\n    });\n\n    return arr1;\n  }\n\n  handleFunc() {\n    let arr = [];\n    this.state.itemData.forEach((val, i) => {\n      arr.push(val[this.state.selectedIndex[i]]);\n    });\n    this.props.onOk && this.props.onOk(arr, this.state.selectedIndex);\n    this.handleHide();\n  }\n\n  handleHide() {\n    this.setState({\n      classStr: 'm-picker-hide',\n    }, () => {\n      setTimeout(() => {\n        this.removeDom();\n      }, 100);\n    });\n  }\n\n  removeDom() {\n    if (this.props.element) document.body.removeChild(this.props.element);\n  }\n\n  render() {\n    if (this.state.itemData.length === 0) return null;\n\n    let dom = <div className={\"m-picker \" + this.state.classStr}>\n      <div className=\"m-picker-mask\" onClick={() => this.handleHide()}></div>\n      <div className=\"m-picker-body\">\n        <div className=\"m-picker-header\"><p onClick={() => this.handleFunc()}>确定</p></div>\n        <div className=\"m-picker-content\">\n          {this.getItem()}\n        </div>\n      </div>\n    </div>;\n\n    return ReactDOM.createPortal(dom, this.props.element);\n  }\n}\n\nPicker.propTypes = {\n  type: PropTypes.string,\n  defaultData: PropTypes.array,\n  defaultIndex: PropTypes.array,\n  defaultDate: PropTypes.string,\n  onOk: PropTypes.func,\n};\n\nPicker.defaultProps = {\n  type: '',\n  defaultData: [],\n  defaultIndex: [],\n  defaultDate: '1995-01-01',\n  onOk: () => { },\n};\n\nconst types = ['gender', 'date'];\n\nconst show = props => {\n  if (!props.type && !props.defaultData) return ;\n  if (props.type && !types.includes(props.type)) return;\n  if (!props.type && props.defaultData && (!Array.isArray(props.defaultData) || props.defaultData.length === 0)) return;\n\n  props.defaultDate = !props.defaultDate ? '1995-01-01' : props.defaultDate;\n\n  let element = document.createElement('div');\n  document.body.appendChild(element);\n  ReactDOM.render(\n    React.createElement(Picker, { ...props, element: element }),\n    element\n  );\n\n  return element;\n}\n\nexport default show;\n\n\n// WEBPACK FOOTER //\n// ./src/components/picker/picker.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./picker.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/picker/picker.css\n// module id = 164\n// module chunks = 5","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".m-picker,.m-picker-mask{position:fixed;left:0;top:0;right:0;bottom:0}.m-picker{z-index:99999}.m-picker-mask{z-index:1;background:#000;opacity:0;-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity}.m-picker-body{position:absolute;z-index:2;left:0;right:0;bottom:0;height:12.4rem;background:#fefefe;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;-o-transition-property:transform;transition-property:transform;transition-property:transform,-webkit-transform;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.m-picker.m-picker-show .m-picker-body{-webkit-transform:translateZ(0);transform:translateZ(0)}.m-picker.m-picker-show .m-picker-body,.m-picker.m-picker-show .m-picker-mask{-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.m-picker.m-picker-show .m-picker-mask{opacity:.5}.m-picker.m-picker-hide .m-picker-body{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.m-picker.m-picker-hide .m-picker-body,.m-picker.m-picker-hide .m-picker-mask{-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s}.m-picker.m-picker-hide .m-picker-mask{opacity:0}.m-picker-header{height:2.4rem;background:#eee}.m-picker-header p{float:right;padding:0 1rem;line-height:2.4rem;color:#2489ed}.m-picker-content{-ms-flex:1 1;flex:1 1;display:-ms-flexbox;display:flex;position:relative;overflow:hidden}.m-picker-line{height:4rem;position:absolute;left:0;right:0;z-index:1;background:-webkit-gradient(linear,left bottom,left top,from(hsla(0,0%,100%,.4)),to(hsla(0,0%,100%,.8)));background:-webkit-linear-gradient(bottom,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));background:-o-linear-gradient(bottom,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8));background:linear-gradient(0deg,hsla(0,0%,100%,.4),hsla(0,0%,100%,.8))}.m-picker-line-top{top:0}.m-picker-line-bot{bottom:0}.m-picker-line:after{content:\\\"\\\";height:1px;background:#ebebeb;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);position:absolute;left:0;right:0}.m-picker-line-top:after{bottom:0}.m-picker-line-bot:before{top:0}.m-picker-list{-ms-flex:1 1;flex:1 1;position:relative}.m-picker-ul{width:100%;position:absolute;left:0;top:0;margin-top:4rem}.m-picker-item{height:2rem;line-height:2rem;text-align:center;font-size:.8rem;color:#333}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/components/picker/picker.css\"],\"names\":[],\"mappings\":\"AAAA,yBAEE,eAAgB,AAChB,OAAQ,AACR,MAAO,AACP,QAAS,AACT,QAAU,CACX,AAED,UACE,aAAe,CAChB,AAED,eACE,UAAW,AACX,gBAAiB,AACjB,UAAW,AACX,oCAAqC,AACrC,+BAAgC,AAChC,2BAA6B,CAC9B,AAED,eACE,kBAAmB,AACnB,UAAW,AACX,OAAQ,AACR,QAAS,AACT,SAAU,AACV,eAAgB,AAChB,mBAAoB,AACpB,wCAA2C,AACnC,gCAAmC,AAC3C,8CAA+C,AAC/C,sCAAuC,AACvC,iCAAkC,AAClC,8BAA+B,AAC/B,gDAAkD,AAClD,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AACvB,qBAAuB,CAC5B,AAED,uCAIE,gCAAwC,AAChC,uBAAgC,CACzC,AAED,8EAPE,gCAAmC,AAC9B,2BAA8B,AAC3B,uBAA2B,CAUpC,AALD,uCACE,UAAY,CAIb,AAED,uCAIE,wCAA2C,AACnC,+BAAmC,CAC5C,AAED,8EAPE,iCAAmC,AAC9B,4BAA8B,AAC3B,wBAA2B,CAUpC,AALD,uCACE,SAAW,CAIZ,AAED,iBACE,cAAe,AACf,eAAiB,CAClB,AAED,mBACE,YAAa,AACb,eAAgB,AAChB,mBAAoB,AACpB,aAAe,CAChB,AAED,kBACE,aAAc,AACV,SAAU,AACd,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACnB,eAAiB,CAClB,AAED,eACE,YAAa,AACb,kBAAmB,AACnB,OAAQ,AACR,QAAS,AACT,UAAW,AACX,yGAAoH,AACpH,iFAA0F,AAC1F,4EAAqF,AACrF,sEAAgF,CACjF,AAED,mBACE,KAAO,CACR,AAED,mBACE,QAAU,CACX,AAED,qBACE,WAAY,AACZ,WAAY,AACZ,mBAAoB,AACpB,6BAA8B,AAC1B,yBAA0B,AACtB,qBAAsB,AAC9B,kBAAmB,AACnB,OAAQ,AACR,OAAS,CACV,AAED,yBACE,QAAU,CACX,AAED,0BACE,KAAO,CACR,AAED,eACE,aAAc,AACV,SAAU,AACd,iBAAmB,CACpB,AAED,aACE,WAAY,AACZ,kBAAmB,AACnB,OAAQ,AACR,MAAU,AACV,eAAiB,CAClB,AAED,eACE,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,gBAAiB,AACjB,UAAY,CACb\",\"file\":\"picker.css\",\"sourcesContent\":[\".m-picker,\\r\\n.m-picker-mask {\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-picker {\\r\\n  z-index: 99999;\\r\\n}\\r\\n\\r\\n.m-picker-mask {\\r\\n  z-index: 1;\\r\\n  background: #000;\\r\\n  opacity: 0;\\r\\n  -webkit-transition-property: opacity;\\r\\n  -o-transition-property: opacity;\\r\\n  transition-property: opacity;\\r\\n}\\r\\n\\r\\n.m-picker-body {\\r\\n  position: absolute;\\r\\n  z-index: 2;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n  height: 12.4rem;\\r\\n  background: #FEFEFE;\\r\\n  -webkit-transform: translate3d(0, 100%, 0);\\r\\n          transform: translate3d(0, 100%, 0);\\r\\n  -webkit-transition-property: -webkit-transform;\\r\\n  transition-property: -webkit-transform;\\r\\n  -o-transition-property: transform;\\r\\n  transition-property: transform;\\r\\n  transition-property: transform, -webkit-transform;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-direction: column;\\r\\n      flex-direction: column;\\r\\n}\\r\\n\\r\\n.m-picker.m-picker-show .m-picker-body {\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n  -webkit-transform: translate3d(0, 0, 0);\\r\\n          transform: translate3d(0, 0, 0);\\r\\n}\\r\\n\\r\\n.m-picker.m-picker-show .m-picker-mask {\\r\\n  opacity: .5;\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n}\\r\\n\\r\\n.m-picker.m-picker-hide .m-picker-body {\\r\\n  -webkit-transition-duration: 150ms;\\r\\n       -o-transition-duration: 150ms;\\r\\n          transition-duration: 150ms;\\r\\n  -webkit-transform: translate3d(0, 100%, 0);\\r\\n          transform: translate3d(0, 100%, 0);\\r\\n}\\r\\n\\r\\n.m-picker.m-picker-hide .m-picker-mask {\\r\\n  opacity: 0;\\r\\n  -webkit-transition-duration: 150ms;\\r\\n       -o-transition-duration: 150ms;\\r\\n          transition-duration: 150ms;\\r\\n}\\r\\n\\r\\n.m-picker-header {\\r\\n  height: 2.4rem;\\r\\n  background: #eee;\\r\\n}\\r\\n\\r\\n.m-picker-header p {\\r\\n  float: right;\\r\\n  padding: 0 1rem;\\r\\n  line-height: 2.4rem;\\r\\n  color: #2489ED;\\r\\n}\\r\\n\\r\\n.m-picker-content {\\r\\n  -ms-flex: 1 1;\\r\\n      flex: 1 1;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  position: relative;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.m-picker-line {\\r\\n  height: 4rem;\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  z-index: 1;\\r\\n  background: -webkit-gradient(linear, left bottom, left top, from(hsla(0, 0%, 100%, .4)), to(hsla(0, 0%, 100%, .8)));\\r\\n  background: -webkit-linear-gradient(bottom, hsla(0, 0%, 100%, .4), hsla(0, 0%, 100%, .8));\\r\\n  background: -o-linear-gradient(bottom, hsla(0, 0%, 100%, .4), hsla(0, 0%, 100%, .8));\\r\\n  background: linear-gradient(0deg, hsla(0, 0%, 100%, .4), hsla(0, 0%, 100%, .8));\\r\\n}\\r\\n\\r\\n.m-picker-line-top {\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n.m-picker-line-bot {\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-picker-line::after {\\r\\n  content: '';\\r\\n  height: 1px;\\r\\n  background: #ebebeb;\\r\\n  -webkit-transform: scaleY(.5);\\r\\n      -ms-transform: scaleY(.5);\\r\\n          transform: scaleY(.5);\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n}\\r\\n\\r\\n.m-picker-line-top::after {\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-picker-line-bot::before {\\r\\n  top: 0;\\r\\n}\\r\\n\\r\\n.m-picker-list {\\r\\n  -ms-flex: 1 1;\\r\\n      flex: 1 1;\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.m-picker-ul {\\r\\n  width: 100%;\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  top: 0rem;\\r\\n  margin-top: 4rem;\\r\\n}\\r\\n\\r\\n.m-picker-item {\\r\\n  height: 2rem;\\r\\n  line-height: 2rem;\\r\\n  text-align: center;\\r\\n  font-size: .8rem;\\r\\n  color: #333;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/picker/picker.css\n// module id = 165\n// module chunks = 5","/**\r\n * picker组件获取基础数据\r\n * 性别 日期\r\n * @export\r\n * @class data\r\n */\r\nexport default {\r\n  gender() {\r\n    return [[{\r\n      val: 1,\r\n      text: '男'\r\n    }, {\r\n      val: 2,\r\n      text: '女'\r\n    }]];\r\n  },\r\n  getYear(year) {\r\n    let data = [];\r\n\r\n    for (let i = 0; i < 100; i++) {\r\n      if (year - i >= 1790) {\r\n        data.unshift({\r\n          val: year - i,\r\n          text: (year - i) + '年'\r\n        });\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    for (let i = 1; i < 100; i++) {\r\n      data.push({\r\n        val: year + i,\r\n        text: (year + i) + '年'\r\n      });\r\n    }\r\n\r\n    return data;\r\n  },\r\n  getMonth() {\r\n    let data = [];\r\n    for (let i = 1; i < 13; i++) {\r\n      data.push({\r\n        val: i,\r\n        text: (i < 10 ? '0' + i : i) + '月'\r\n      });\r\n    }\r\n    return data;\r\n  },\r\n  getDay(year, month) {\r\n    let data = [];\r\n    for (let i = 1; i < this.day_arr(year, month) + 1; i++) {\r\n      data.push({\r\n        val: i,\r\n        text: (i < 10 ? '0' + i : i) + '日'\r\n      });\r\n    }\r\n    return data;\r\n  },\r\n  // 如果当前年份能被4整除但是不能被100整除或者能被400整除，即可确定为闰年，返回1，否则返回0\r\n  is_leap(year) {\r\n    return (year % 100 === 0 ? (year % 400 === 0 ? 1 : 0) : (year % 4 === 0 ? 1 : 0));\r\n  },\r\n  // 各月份的总天数\r\n  day_arr(year, month) {\r\n    let day_str = [];\r\n    day_str.push(31, 28 + this.is_leap(year), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);\r\n    return day_str[month - 1];\r\n  },\r\n  date(defaultDate) {\r\n    let date = defaultDate.split('-');\r\n    return [this.getYear(Number(date[0])), this.getMonth(), this.getDay(Number(date[0]), Number(date[1]))];\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/picker/data.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './lightBox.css';\n\nclass Lightbox extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      imgWidth: 0,\n    }\n  }\n\n  componentDidMount() {\n    let img = new Image();\n    img.src = this.props.imgUrl;\n    \n    img.onload = () => {\n      let winW = window.innerWidth;\n      this.setState({\n        imgWidth: img.width > winW ? winW : img.width,\n      });\n    }\n\n    img.onerror = () => {\n\n    }\n  }\n\n  handleHide() {\n    this.removeDom();\n    this.props.handleCloseFunc && this.props.handleCloseFunc();\n  }\n\n  removeDom() {\n    if (this.props.element) document.body.removeChild(this.props.element);\n  }\n\n  handleBtn() {\n    this.removeDom();\n    this.props.handleBtnFunc && this.props.handleBtnFunc();\n  }\n\n  render() {\n    if (!this.props.imgUrl) return null;\n\n    let dom = <div className=\"m-lightBox\">\n      <div className=\"m-lightBox-mask\" onClick={() => this.handleHide()}></div>\n      <div className=\"m-lightBox-body\">\n        <img src={this.props.imgUrl} style={{ width: this.state.imgWidth }} alt=\"\" />\n      </div>\n      {\n        this.props.btnText\n        ?\n          <div className=\"m-lightBox-btn\" onClick={() => this.handleBtn()}>{this.props.btnText}</div>\n        :\n        null\n      }\n    </div>;\n\n    return ReactDOM.createPortal(dom, this.props.element);\n  }\n}\n\nLightbox.propTypes = {\n  imgUrl: PropTypes.string,\n  btnText: PropTypes.string,\n  handleBtnFunc: PropTypes.func,\n  handleCloseFunc: PropTypes.func,\n};\n\nLightbox.defaultProps = {\n  imgUrl: '',\n  btnText: '',\n  handleBtnFunc: () => { },\n  handleCloseFunc: () => { },\n};\n\nconst show = props => {\n  let element = document.createElement('div');\n  document.body.appendChild(element);\n  ReactDOM.render(\n    React.createElement(Lightbox, { ...props, element: element }),\n    element\n  );\n\n  return element;\n}\n\nexport default show;\n\n\n// WEBPACK FOOTER //\n// ./src/components/lightBox/lightBox.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./lightBox.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/lightBox/lightBox.css\n// module id = 168\n// module chunks = 5","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".m-lightBox,.m-lightBox-mask{position:fixed;left:0;top:0;right:0;bottom:0}.m-lightBox{z-index:999}.m-lightBox-mask{z-index:1;background:rgba(0,0,0,.75)}.m-lightBox-body{position:absolute;z-index:2;left:50%;top:50%;background:#fefefe;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0)}.m-lightBox-body img{display:block}.m-lightBox-btn{position:absolute;left:50%;bottom:2rem;z-index:3;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);font-size:.7rem;color:#ddd;padding:0 .6rem;line-height:1.6rem;border-radius:.8rem;border:.5px solid #ddd}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/components/lightBox/lightBox.css\"],\"names\":[],\"mappings\":\"AAAA,6BAEE,eAAgB,AAChB,OAAQ,AACR,MAAO,AACP,QAAS,AACT,QAAU,CACX,AAED,YACE,WAAa,CACd,AAED,iBACE,UAAW,AACX,0BAA+B,CAChC,AAED,iBACE,kBAAmB,AACnB,UAAW,AACX,SAAU,AACV,QAAS,AACT,mBAAoB,AACpB,2CAA8C,AACtC,kCAAsC,CAC/C,AAED,qBACE,aAAe,CAChB,AAED,gBACE,kBAAmB,AACnB,SAAU,AACV,YAAa,AACb,UAAW,AACX,mCAAoC,AAChC,+BAAgC,AAC5B,2BAA4B,AACpC,gBAAiB,AACjB,WAAY,AACZ,gBAAiB,AACjB,mBAAoB,AACpB,oBAAqB,AACrB,sBAAwB,CACzB\",\"file\":\"lightBox.css\",\"sourcesContent\":[\".m-lightBox,\\r\\n.m-lightBox-mask {\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-lightBox {\\r\\n  z-index: 999;\\r\\n}\\r\\n\\r\\n.m-lightBox-mask {\\r\\n  z-index: 1;\\r\\n  background: rgba(0, 0, 0, .75);\\r\\n}\\r\\n\\r\\n.m-lightBox-body {\\r\\n  position: absolute;\\r\\n  z-index: 2;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  background: #FEFEFE;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0);\\r\\n          transform: translate3d(-50%, -50%, 0);\\r\\n}\\r\\n\\r\\n.m-lightBox-body img {\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.m-lightBox-btn {\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  bottom: 2rem;\\r\\n  z-index: 3;\\r\\n  -webkit-transform: translateX(-50%);\\r\\n      -ms-transform: translateX(-50%);\\r\\n          transform: translateX(-50%);\\r\\n  font-size: .7rem;\\r\\n  color: #ddd;\\r\\n  padding: 0 .6rem;\\r\\n  line-height: 1.6rem;\\r\\n  border-radius: .8rem;\\r\\n  border: .5px solid #ddd;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/lightBox/lightBox.css\n// module id = 169\n// module chunks = 5","import React from 'react';\nimport Utils from '../../../common/Utils';\nimport './updateIcon.css';\n\nclass Updateicon extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    }\n  }\n\n  componentDidMount() {\n\n  }\n\n\n  changeSelectImg(evt) {\n    this.props.click && this.props.click();\n\n    let loading = Utils.toast.loading();\n    let file = evt.target.files[0];\n\n    if (['jpeg', 'png', 'jpg'].indexOf(file.type.split(\"/\")[1]) < 0) {\n      Utils.toast.info('文件类型仅支持 jpeg/png/jpg');\n      loading.parentNode.removeChild(loading);\n      return;\n    }\n\n    let img = new Image();\n    let windowURL = window.URL || window.webkitURL;\n    let imgMaxSize = 1024 * 1024 * 5;\n    let imgMinWidth = 400;\n    let imgMinHeight = 400;\n\n    img.src = windowURL.createObjectURL(file);\n\n    img.onload = () => {\n      loading.parentNode.removeChild(loading);\n\n      if (imgMinWidth && img.width < imgMinWidth) {\n        Utils.toast.info('图片最小宽度' + imgMinWidth + '像素');\n        return;\n      }\n\n      if (imgMinHeight && img.height < imgMinHeight) {\n        Utils.toast.info('图片最小高度' + imgMinHeight + '像素');\n        return;\n      }\n\n      let canvas = document.createElement('canvas');\n      let ctx = canvas.getContext('2d');\n      canvas.width = img.width;\n      canvas.height = img.height;\n      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n      let imgSrc = canvas.toDataURL(file.type, file.size > imgMaxSize ? imgMaxSize / file.size : 1);\n      this.props.change && this.props.change(imgSrc);\n    }\n  }\n\n  render() {\n    if (!this.props.toggle) return null;\n\n    return (\n      <div className=\"set-updateIcon\">\n        修改头像\n        <input type=\"file\" accept=\"image/*\" onChange={e => this.changeSelectImg(e)} />\n      </div>\n    );\n  }\n}\n\nexport default Updateicon; \n\n\n// WEBPACK FOOTER //\n// ./src/view/setting/updateIcon/updateIcon.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../../node_modules/postcss-loader/lib/index.js??postcss!./updateIcon.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/setting/updateIcon/updateIcon.css\n// module id = 171\n// module chunks = 5","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".set-updateIcon{position:fixed;left:50%;bottom:2rem;z-index:9999;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);font-size:.7rem;color:#ddd;padding:0 .6rem;line-height:1.6rem;border-radius:.8rem;border:.5px solid #ddd;overflow:hidden}.set-updateIcon input{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/view/setting/updateIcon/updateIcon.css\"],\"names\":[],\"mappings\":\"AAAA,gBACE,eAAgB,AAChB,SAAU,AACV,YAAa,AACb,aAAc,AACd,mCAAoC,AAChC,+BAAgC,AAC5B,2BAA4B,AACpC,gBAAiB,AACjB,WAAY,AACZ,gBAAiB,AACjB,mBAAoB,AACpB,oBAAqB,AACrB,uBAAwB,AACxB,eAAiB,CAClB,AAED,sBACE,kBAAmB,AACnB,OAAQ,AACR,MAAO,AACP,WAAY,AACZ,YAAa,AACb,SAAW,CACZ\",\"file\":\"updateIcon.css\",\"sourcesContent\":[\".set-updateIcon {\\r\\n  position: fixed;\\r\\n  left: 50%;\\r\\n  bottom: 2rem;\\r\\n  z-index: 9999;\\r\\n  -webkit-transform: translateX(-50%);\\r\\n      -ms-transform: translateX(-50%);\\r\\n          transform: translateX(-50%);\\r\\n  font-size: .7rem;\\r\\n  color: #ddd;\\r\\n  padding: 0 .6rem;\\r\\n  line-height: 1.6rem;\\r\\n  border-radius: .8rem;\\r\\n  border: .5px solid #ddd;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.set-updateIcon input {\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  opacity: 0;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/view/setting/updateIcon/updateIcon.css\n// module id = 172\n// module chunks = 5","import React from 'react';\nimport './setting.css';\nimport Utils from '../../common/Utils';\nimport Picker from '../../components/picker/picker';\nimport LightBox from '../../components/lightBox/lightBox';\nimport UpdateIcon from './updateIcon/updateIcon';\nimport EditImg from '../../components/editImg/editImg';\n\nconst slable = [{\n  id: 1,\n  name: '简约',\n  select: false,\n}, {\n  id: 2,\n  name: '暖色',\n  select: false,\n}, {\n  id: 3,\n  name: '极客范',\n  select: false,\n}, {\n  id: 4,\n  name: '懒窝',\n  select: false,\n}];\n\nclass Setting extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      info: {\n        icon: 'https://avatars1.githubusercontent.com/u/28089159?s=460&v=4',\n        name: '昵称',\n        occupation: '设计师',\n      },\n      lable: [...slable, ...slable, ...slable],\n      toggleUpateIconBtn: false,\n      changeIconSrc: '',\n    }\n\n    this.components = [];\n  }\n\n  componentDidMount() {\n\n  }\n\n  componentWillUnmount() {\n    this.components.forEach(val => this.removeModal(val));\n  }\n\n  removeModal(node) {\n    node && node.parentNode && node.parentNode.removeChild(node);\n  }\n\n  selectLable(idx) {\n    let lable = JSON.parse(JSON.stringify(this.state.lable));\n    lable[idx].select = !lable[idx].select;\n    this.setState({ lable });\n  }\n\n  addLable() {\n    let modal = Utils.toast.modal({\n      message: '<input class=\"set-add-lable-input\" id=\"setAddLable\" placeholder=\"标签名称\" />',\n      onOk: () => {\n        let name = document.getElementById('setAddLable').value;\n        if (name === '') {\n          Utils.toast.info('请输入标签名称');\n          return;\n        }\n        let lable = JSON.parse(JSON.stringify(this.state.lable));\n\n        lable.unshift({\n          id: 4,\n          name: name,\n          select: true,\n        });\n\n        this.setState({ lable });\n      },\n    });\n    this.components.push(modal);\n    setTimeout(() => {\n      document.getElementById('setAddLable').focus();\n    }, 300);\n  }\n  \n  getLable() {\n    let arr = [];\n\n    this.state.lable.forEach((val, idx) => {\n      arr.push(<div key={idx} className={val.select ? 'active' : ''} onClick={() => this.selectLable(idx)}>{val.name}</div>);\n    });\n\n    return (\n      <div className=\"set-lable-content\">\n        <div className=\"set-lable-box\">{arr}</div>\n        <div className=\"set-add-lable\" onClick={() => this.addLable()}>+自定义</div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"setting\">\n        <div className=\"set-item-box\">\n          <div className=\"set-item userIcon borderBottom\">\n            <div className=\"l\">头像</div>\n            <div className=\"r\" onClick={() => this.handleIcon()}><img src={this.state.info.icon} alt=\"\" /></div>\n          </div>\n          <div className=\"set-item borderBottom\">\n            <div className=\"l\">昵称</div>\n            <div className=\"r\" onClick={() => this.handleModal('name')}>\n              {this.state.info.name}\n            </div>\n          </div>\n          <div className=\"set-item borderBottom\">\n            <div className=\"l\">性别</div>\n            <div className=\"r\" onClick={() => this.handlePicker('gender')}>男</div>\n          </div>\n          <div className=\"set-item borderBottom\">\n            <div className=\"l\">职业</div>\n            <div className=\"r\" onClick={() => this.handleModal('occupation')}>\n              {this.state.info.occupation}\n            </div>\n          </div>\n          <div className=\"set-item borderBottom\">\n            <div className=\"l\">生日</div>\n            <div className=\"r\" onClick={() => this.handlePicker('date')}>1995-02-22</div>\n          </div>\n        </div>\n        <div className=\"set-title\">个人简介</div>\n        <div className=\"set-info-box\">\n          <textarea placeholder=\"~太懒了，啥也不留，emmmm！！！！\"></textarea>\n        </div>\n        <div className=\"set-title\">个性标签</div>\n        <div className=\"set-lable-tips\">选择属于你的标签，让更多人欣赏你的小窝~</div>\n        {this.getLable()}\n        <div className=\"set-save-btns\">\n          <div onClick={() => this.handleSave()}>保存</div>\n        </div>\n        <UpdateIcon toggle={this.state.toggleUpateIconBtn} click={() => this.handleUpdateIconClick()} change={src => this.handleUpdateIconChange(src)} />\n        {\n          this.state.changeIconSrc\n          ?\n            <EditImg imgSrc={this.state.changeIconSrc} proportion={'1:1'} emitImgWidth={800} emitImgHeight={800} quality={0.7} emitImg={src => this.updateIconFunc(src)} />\n            :\n            null\n        }\n      </div>\n    );\n  }\n\n  updateIconFunc(src) {\n    this.updateData('icon', src);\n    this.setState({ changeIconSrc: '' });\n  }\n\n  handleUpdateIconClick() {\n    this.lightBox && this.lightBox.parentNode && this.lightBox.parentNode.removeChild(this.lightBox);\n    this.setState({\n      toggleUpateIconBtn: false,\n    });\n  }\n\n  handleUpdateIconChange(src) {\n    this.setState({ changeIconSrc: src });\n  }\n\n  handleIcon() {\n    this.lightBox = new LightBox({\n      imgUrl: this.state.info.icon,\n      handleCloseFunc: () => {\n        this.handleUpdateIconClick();\n      }\n    });\n\n    this.components.push(this.lightBox);\n\n    this.setState({ toggleUpateIconBtn: true });\n  }\n\n  updateData(key, val) {\n    let info = this.state.info;\n    info[key] = val;\n    this.setState({ info });\n  }\n\n  handleModal(key) {\n    let placeholder = key === 'name' ? '昵称' : '职业';\n    let modal = Utils.toast.modal({\n      message: '<input class=\"set-info-type-input\" id=\"setInfoType\" placeholder=' + placeholder + ' value=' + this.state.info[key] + ' />',\n      onOk: () => {\n        let value = document.getElementById('setInfoType').value;\n        if (value === '') {\n          Utils.toast.info('请输入' + placeholder);\n          return;\n        }\n\n        this.updateData(key, value);\n      },\n    });\n    this.components.push(modal);\n    setTimeout(() => {\n      let input = document.getElementById('setInfoType');\n      input.focus();\n      Utils.focusToLast(input);\n    }, 300);\n  }\n\n  handlePicker(type) {\n    let defaultIndex = [];\n    let defaultDate = '';\n\n    if (type === 'gender') defaultIndex = [1];\n    if (type === 'date') defaultDate = '2019-08-21';\n    \n    let picker = Picker({\n      type: type,\n      defaultIndex: defaultIndex,\n      defaultDate: defaultDate,\n      onOk: (val, indx) => {\n        console.log(val)\n        console.log(indx)\n      }\n    });\n\n    this.components.push(picker);\n  }\n\n  handleSave() {\n\n  }\n\n}\n\nexport default Setting; \n\n\n// WEBPACK FOOTER //\n// ./src/view/setting/setting.js","import Toast from '../components/toast/toast';\r\n\r\nexport default {\r\n  toast: Toast,\r\n  /**\r\n   * 转换时间格式\r\n   * 用法：format(ms,'yyyy-MM-dd hh:mm:ss')\r\n   * @param time 毫秒数\r\n   * @param fmt 要转换的时间格式\r\n   */\r\n  format(time, fmt) {\r\n    let d = new Date(time + 8 * 3600 * 1000);\r\n    let o = {\r\n      \"M+\": d.getUTCMonth() + 1,                 //月份\r\n      \"d+\": d.getUTCDate(),                    //日\r\n      \"h+\": d.getUTCHours(),                   //小时\r\n      \"m+\": d.getUTCMinutes(),                 //分\r\n      \"s+\": d.getUTCSeconds(),                 //秒\r\n      \"q+\": Math.floor((d.getUTCMonth() + 3) / 3), //季度\r\n      \"S\": d.getUTCMilliseconds()             //毫秒\r\n    };\r\n    if (/(y+)/.test(fmt))\r\n      fmt = fmt.replace(RegExp.$1, (d.getUTCFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n    for (let k in o)\r\n      if (new RegExp(\"(\" + k + \")\").test(fmt))\r\n        fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n    return fmt;\r\n  }, \r\n  /**\r\n   * 判断object是否为空\r\n   *\r\n   * @param {*} object\r\n   * @returns\r\n   */\r\n  isEmptyObject(object) {\r\n    let t;\r\n    for (t in object)\r\n      return true;\r\n    return false;\r\n  },\r\n  /**\r\n   * 获取url参数\r\n   * @param param 参数名\r\n   * @returns {*}\r\n   */\r\n  getUrlParams(param) {\r\n    let ps = decodeURI(window.location.href);\r\n    if (ps === '') return '';\r\n    let params = (ps.substr(ps.lastIndexOf(\"?\") + 1)).split(\"&\");\r\n    if (params !== null) {\r\n      for (let i = 0; i < params.length; i++) {\r\n        let strs = params[i].split(\"=\");\r\n        if (strs[0] === param && strs[1]) {\r\n          return strs[1];\r\n        }\r\n      }\r\n    }\r\n    return \"\";\r\n  },\r\n  /**\r\n   * 数字转中文 1 => 一\r\n   * 100内\r\n   */\r\n  numberToZh(num) {\r\n    let arr = ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十'];\r\n    if (num < 11) return arr[num - 1];\r\n    let str = '';\r\n    (num + '').split('').forEach((val, idx) => {\r\n      val = Number(val);\r\n      if (idx === 0) {\r\n        if (val === 1) {\r\n          str += arr[9];\r\n        } else {\r\n          str += arr[val - 1];\r\n          str += arr[9];\r\n        }\r\n      } else {\r\n        str += arr[val - 1];\r\n      }\r\n    });\r\n    return str;\r\n  },\r\n  // 输入框将光标转移到最后\r\n  focusToLast(input) {\r\n    let len = input.value.length;\r\n    if (document.selection) {\r\n      let sel = input.createTextRange();\r\n      sel.moveStart('character', len);\r\n      sel.collapse();\r\n      sel.select();\r\n    } else if (typeof input.selectionStart === 'number' && typeof input.selectionEnd === 'number') {\r\n      input.selectionStart = input.selectionEnd = len;\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/Utils.js","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './toast.css';\n\nclass Toast extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: props.isOpen,\n      classStr: '',\n    }\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        classStr: 'm-toast-show',\n      });\n    }, 20);\n\n    if (this.props.type === 'info') {\n      this.timeout = setTimeout(() => {\n        this.close();\n      }, this.props.duration);\n    }\n  }\n\n  handleOk(props) {\n    props.onOk();\n    this.close();\n  }\n\n  handleCancel(props) {\n    props.onCancel();\n    this.close();\n  }\n\n  close() {\n    this.setState({\n      isOpen: false,\n      classStr: 'm-toast-hide',\n    }, () => {\n      setTimeout(() => {\n        this.removeDom();\n      }, 150);\n    });\n  }\n\n  removeDom() {\n    if (this.props.element) document.body.removeChild(this.props.element);\n  }\n\n  render() {\n    const { type, title, message, okText, cancelText } = this.props;\n\n    let dom = null;\n\n    if (type === 'modal') {\n      dom = (\n        <div className={\"m-toast \" + this.state.classStr}>\n          <div className=\"m-toast-mask\"></div>\n          <div className=\"m-toast-body\">\n            <div className=\"m-toast-title\">{title}</div>\n            <div className=\"m-toast-message\" dangerouslySetInnerHTML={{ __html: message }}></div>\n            <div className=\"m-toast-footer\">\n              <div className=\"m-toast-btn\" onClick={() => this.handleCancel(this.props)}>{cancelText}</div>\n              <div className=\"m-toast-btn\" onClick={() => this.handleOk(this.props)}>{okText}</div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    if (type === 'info') {\n      dom = <div className={\"m-toast-info \" + this.state.classStr}>{message}</div>;\n    }\n\n    if (type === 'loading') {\n      dom = (\n        <div className={\"m-toast \" + this.state.classStr}>\n          <span className=\"iconfont icon-Loading\"></span>\n        </div>\n      );\n    }\n\n    return ReactDOM.createPortal(dom, this.props.element);\n  }\n}\n\nToast.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  history: PropTypes.object,\n  type: PropTypes.string,\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  onCancel: PropTypes.func,\n  onOk: PropTypes.func,\n  okText: PropTypes.string,\n  cancelText: PropTypes.string,\n  duration: PropTypes.number,\n};\n\nToast.defaultProps = {\n  isOpen: true,\n  history: null,\n  type: '',\n  title: '',\n  message: '',\n  onCancel: () => { },\n  onOk: () => { },\n  okText: '确定',\n  cancelText: '取消',\n  duration: 2000,\n};\n\nconst show = props => {\n  let element = document.createElement('div');\n  document.body.appendChild(element);\n  ReactDOM.render(\n    React.createElement(Toast, { ...props, element: element }),\n    element\n  );\n  return element;\n}\n\nconst initFnc = {\n  modal(props) {\n    return show({ ...props, type: 'modal'});\n  },\n  info(message, duration = 2000) {\n    return show({message: message, duration: duration, type: 'info'});\n  },\n  loading() {\n    return show({type: 'loading'});\n  },\n}\n\nexport default initFnc;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toast/toast.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./toast.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/toast/toast.css\n// module id = 89\n// module chunks = 0 1 2 3 4 5 6 7","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".m-toast,.m-toast-mask{position:fixed;left:0;top:0;right:0;bottom:0}.m-toast{z-index:99999}.m-toast-mask{z-index:1;background:#000;opacity:0;-webkit-transition-property:opacity;-o-transition-property:opacity;transition-property:opacity}.m-toast-body{width:14rem;padding:.5rem;background:#fff;border-radius:.25rem;position:absolute;left:50%;top:50%;z-index:2;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;-o-transition-property:transform,opacity;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transform:translate3d(-50%,-50%,0) scale(.9);transform:translate3d(-50%,-50%,0) scale(.9);opacity:0}.m-toast-title{color:#343434;font-size:.8rem;line-height:2rem}.m-toast-message{padding-left:.75rem;color:#666;font-size:.7rem;line-height:2rem}.m-toast-footer{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end}.m-toast-btn{padding:0 .75rem;font-size:.7rem;color:#2489ed;line-height:2rem}.m-toast.m-toast-show .m-toast-body{-webkit-transform:translate3d(-50%,-50%,0) scale(1);transform:translate3d(-50%,-50%,0) scale(1);opacity:1}.m-toast.m-toast-show .m-toast-body,.m-toast.m-toast-show .m-toast-mask{-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.m-toast.m-toast-show .m-toast-mask{opacity:.5}.m-toast.m-toast-hide .m-toast-body{-webkit-transform:translate3d(-50%,-50%,0) scale(.9);transform:translate3d(-50%,-50%,0) scale(.9)}.m-toast.m-toast-hide .m-toast-body,.m-toast.m-toast-hide .m-toast-mask{-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s;opacity:0}.m-toast-info{padding:.6rem .8rem;background:rgba(0,0,0,.75);border-radius:.4rem;font-size:.7rem;color:#fff;position:fixed;left:50%;top:50%;z-index:9999;-webkit-transform:translate3d(-50%,-50%,0) scale(.8);transform:translate3d(-50%,-50%,0) scale(.8);opacity:0;-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;-o-transition-property:transform,opacity;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.m-toast-info.m-toast-show{-webkit-transform:translate3d(-50%,-50%,0) scale(1);transform:translate3d(-50%,-50%,0) scale(1);opacity:1}.m-toast-info.m-toast-hide,.m-toast-info.m-toast-show{-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s}.m-toast-info.m-toast-hide{-webkit-transform:translate3d(-50%,-50%,0) scale(.8);transform:translate3d(-50%,-50%,0) scale(.8);opacity:0}.m-toast .icon-Loading{font-size:3rem;color:#2489ed;position:absolute;left:50%;top:30%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.m-toast.m-toast-show .icon-Loading{-webkit-animation:loding 1.3s linear infinite;animation:loding 1.3s linear infinite}@-webkit-keyframes loding{to{-webkit-transform:translateX(-50%) rotate(1turn);transform:translateX(-50%) rotate(1turn)}}@keyframes loding{to{-webkit-transform:translateX(-50%) rotate(1turn);transform:translateX(-50%) rotate(1turn)}}\", \"\", {\"version\":3,\"sources\":[\"E:/littleNest/little-nest/src/components/toast/toast.css\"],\"names\":[],\"mappings\":\"AAAA,uBAEE,eAAgB,AAChB,OAAQ,AACR,MAAO,AACP,QAAS,AACT,QAAU,CACX,AAED,SACE,aAAe,CAChB,AAED,cACE,UAAW,AACX,gBAAiB,AACjB,UAAW,AACX,oCAAqC,AACrC,+BAAgC,AAChC,2BAA6B,CAC9B,AAED,cACE,YAAa,AACb,cAAe,AACf,gBAAiB,AACjB,qBAAsB,AACtB,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,UAAW,AACX,sDAAwD,AACxD,8CAAgD,AAChD,yCAA2C,AAC3C,sCAAwC,AACxC,wDAA2D,AAC3D,qDAAwD,AAChD,6CAAgD,AACxD,SAAW,CACZ,AAED,eACE,cAAe,AACf,gBAAiB,AACjB,gBAAkB,CACnB,AAED,iBACE,oBAAqB,AACrB,WAAY,AACZ,gBAAiB,AACjB,gBAAkB,CACnB,AAED,gBACE,oBAAqB,AACrB,aAAc,AACd,kBAAmB,AACf,wBAA0B,CAC/B,AAED,aACE,iBAAkB,AAClB,gBAAiB,AACjB,cAAe,AACf,gBAAkB,CACnB,AAED,oCAIE,oDAAuD,AAC/C,4CAA+C,AACvD,SAAW,CACZ,AAED,wEARE,gCAAmC,AAC9B,2BAA8B,AAC3B,uBAA2B,CAWpC,AALD,oCACE,UAAY,CAIb,AAED,oCAIE,qDAAwD,AAChD,4CAAgD,CAEzD,AAED,wEARE,iCAAmC,AAC9B,4BAA8B,AAC3B,yBAA2B,AAGnC,SAAW,CAQZ,AAED,cACE,oBAAqB,AACrB,2BAA+B,AAC/B,oBAAqB,AACrB,gBAAiB,AACjB,WAAY,AACZ,eAAgB,AAChB,SAAU,AACV,QAAS,AACT,aAAc,AACd,qDAAwD,AAChD,6CAAgD,AACxD,UAAW,AACX,sDAAwD,AACxD,8CAAgD,AAChD,yCAA2C,AAC3C,sCAAwC,AACxC,uDAA2D,CAC5D,AAED,2BAIE,oDAAuD,AAC/C,4CAA+C,AACvD,SAAW,CACZ,AAED,sDARE,gCAAmC,AAC9B,2BAA8B,AAC3B,uBAA2B,CAapC,AAPD,2BAIE,qDAAwD,AAChD,6CAAgD,AACxD,SAAW,CACZ,AAED,uBACE,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,SAAU,AACV,QAAS,AACT,mCAAoC,AAChC,+BAAgC,AAC5B,0BAA4B,CACrC,AAED,oCACE,8CAA+C,AACvC,qCAAuC,CAChD,AAED,0BACE,GACE,iDAAmD,AAC3C,wCAA2C,CACpD,CACF,AAED,kBACE,GACE,iDAAmD,AAC3C,wCAA2C,CACpD,CACF\",\"file\":\"toast.css\",\"sourcesContent\":[\".m-toast,\\r\\n.m-toast-mask {\\r\\n  position: fixed;\\r\\n  left: 0;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n.m-toast {\\r\\n  z-index: 99999;\\r\\n}\\r\\n\\r\\n.m-toast-mask {\\r\\n  z-index: 1;\\r\\n  background: #000;\\r\\n  opacity: 0;\\r\\n  -webkit-transition-property: opacity;\\r\\n  -o-transition-property: opacity;\\r\\n  transition-property: opacity;\\r\\n}\\r\\n\\r\\n.m-toast-body {\\r\\n  width: 14rem;\\r\\n  padding: .5rem;\\r\\n  background: #fff;\\r\\n  border-radius: .25rem;\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  z-index: 2;\\r\\n  -webkit-transition-property: opacity, -webkit-transform;\\r\\n  transition-property: opacity, -webkit-transform;\\r\\n  -o-transition-property: transform, opacity;\\r\\n  transition-property: transform, opacity;\\r\\n  transition-property: transform, opacity, -webkit-transform;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(.9);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(.9);\\r\\n  opacity: 0;\\r\\n}\\r\\n\\r\\n.m-toast-title {\\r\\n  color: #343434;\\r\\n  font-size: .8rem;\\r\\n  line-height: 2rem;\\r\\n}\\r\\n\\r\\n.m-toast-message {\\r\\n  padding-left: .75rem;\\r\\n  color: #666;\\r\\n  font-size: .7rem;\\r\\n  line-height: 2rem;\\r\\n}\\r\\n\\r\\n.m-toast-footer {\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  -ms-flex-pack: end;\\r\\n      justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.m-toast-btn {\\r\\n  padding: 0 .75rem;\\r\\n  font-size: .7rem;\\r\\n  color: #2489ED;\\r\\n  line-height: 2rem;\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-show .m-toast-body {\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(1);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(1);\\r\\n  opacity: 1;\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-show .m-toast-mask {\\r\\n  opacity: .5;\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-hide .m-toast-body {\\r\\n  -webkit-transition-duration: 150ms;\\r\\n       -o-transition-duration: 150ms;\\r\\n          transition-duration: 150ms;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(.9);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(.9);\\r\\n  opacity: 0;\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-hide .m-toast-mask {\\r\\n  opacity: 0;\\r\\n  -webkit-transition-duration: 150ms;\\r\\n       -o-transition-duration: 150ms;\\r\\n          transition-duration: 150ms;\\r\\n}\\r\\n\\r\\n.m-toast-info {\\r\\n  padding: .6rem .8rem;\\r\\n  background: rgba(0, 0, 0, .75);\\r\\n  border-radius: .4rem;\\r\\n  font-size: .7rem;\\r\\n  color: #fff;\\r\\n  position: fixed;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  z-index: 9999;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(.8);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(.8);\\r\\n  opacity: 0;\\r\\n  -webkit-transition-property: opacity, -webkit-transform;\\r\\n  transition-property: opacity, -webkit-transform;\\r\\n  -o-transition-property: transform, opacity;\\r\\n  transition-property: transform, opacity;\\r\\n  transition-property: transform, opacity, -webkit-transform;\\r\\n}\\r\\n\\r\\n.m-toast-info.m-toast-show {\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(1);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(1);\\r\\n  opacity: 1;\\r\\n}\\r\\n\\r\\n.m-toast-info.m-toast-hide {\\r\\n  -webkit-transition-duration: 300ms;\\r\\n       -o-transition-duration: 300ms;\\r\\n          transition-duration: 300ms;\\r\\n  -webkit-transform: translate3d(-50%, -50%, 0) scale(.8);\\r\\n          transform: translate3d(-50%, -50%, 0) scale(.8);\\r\\n  opacity: 0;\\r\\n}\\r\\n\\r\\n.m-toast .icon-Loading {\\r\\n  font-size: 3rem;\\r\\n  color: #2489ED;\\r\\n  position: absolute;\\r\\n  left: 50%;\\r\\n  top: 30%;\\r\\n  -webkit-transform: translateX(-50%);\\r\\n      -ms-transform: translateX(-50%);\\r\\n          transform: translateX(-50%);\\r\\n}\\r\\n\\r\\n.m-toast.m-toast-show .icon-Loading {\\r\\n  -webkit-animation: loding 1.3s linear infinite;\\r\\n          animation: loding 1.3s linear infinite;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes loding {\\r\\n  to {\\r\\n    -webkit-transform: translateX(-50%) rotate(360deg);\\r\\n            transform: translateX(-50%) rotate(360deg);\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes loding {\\r\\n  to {\\r\\n    -webkit-transform: translateX(-50%) rotate(360deg);\\r\\n            transform: translateX(-50%) rotate(360deg);\\r\\n  }\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/toast/toast.css\n// module id = 90\n// module chunks = 0 1 2 3 4 5 6 7","/*!\n * better-normal-scroll v1.15.2\n * (c) 2016-2019 ustbhuangyi\n * Released under the MIT License.\n */\n// As of V8 6.6, depending on the size of the array, this is anywhere\n// between 1.5-10x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nfunction eventMixin(BScroll) {\n  BScroll.prototype.on = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    if (!this._events[type]) {\n      this._events[type] = [];\n    }\n\n    this._events[type].push([fn, context]);\n  };\n\n  BScroll.prototype.once = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    function magic() {\n      this.off(type, magic);\n\n      fn.apply(context, arguments);\n    }\n    // To expose the corresponding function method in order to execute the off method\n    magic.fn = fn;\n\n    this.on(type, magic);\n  };\n\n  BScroll.prototype.off = function (type, fn) {\n    var _events = this._events[type];\n    if (!_events) {\n      return;\n    }\n\n    var count = _events.length;\n    while (count--) {\n      if (_events[count][0] === fn || _events[count][0] && _events[count][0].fn === fn) {\n        spliceOne(_events, count);\n      }\n    }\n  };\n\n  BScroll.prototype.trigger = function (type) {\n    var events = this._events[type];\n    if (!events) {\n      return;\n    }\n\n    var len = events.length;\n    var eventsCopy = [].concat(toConsumableArray(events));\n    for (var i = 0; i < len; i++) {\n      var event = eventsCopy[i];\n\n      var _event = slicedToArray(event, 2),\n          fn = _event[0],\n          context = _event[1];\n\n      if (fn) {\n        fn.apply(context, [].slice.call(arguments, 1));\n      }\n    }\n  };\n}\n\n// ssr support\nvar inBrowser = typeof window !== 'undefined';\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\nvar isWeChatDevTools = ua && /wechatdevtools/.test(ua);\nvar isAndroid = ua && ua.indexOf('android') > 0;\n\nfunction getNow() {\n  return window.performance && window.performance.now ? window.performance.now() + window.performance.timing.navigationStart : +new Date();\n}\n\nfunction extend(target) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < rest.length; i++) {\n    var source = rest[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nfunction isUndef(v) {\n  return v === undefined || v === null;\n}\n\nfunction getDistance(x, y) {\n  return Math.sqrt(x * x + y * y);\n}\n\nvar elementStyle = inBrowser && document.createElement('div').style;\n\nvar vendor = function () {\n  if (!inBrowser) {\n    return false;\n  }\n  // first pick up standard to fix #743\n  var transformNames = {\n    standard: 'transform',\n    webkit: 'webkitTransform',\n    Moz: 'MozTransform',\n    O: 'OTransform',\n    ms: 'msTransform'\n  };\n\n  for (var key in transformNames) {\n    if (elementStyle[transformNames[key]] !== undefined) {\n      return key;\n    }\n  }\n\n  return false;\n}();\n\nfunction prefixStyle(style) {\n  if (vendor === false) {\n    return false;\n  }\n\n  if (vendor === 'standard') {\n    if (style === 'transitionEnd') {\n      return 'transitionend';\n    }\n    return style;\n  }\n\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1);\n}\n\nfunction addEvent(el, type, fn, capture) {\n  el.addEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction removeEvent(el, type, fn, capture) {\n  el.removeEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction offset(el) {\n  var left = 0;\n  var top = 0;\n\n  while (el) {\n    left -= el.offsetLeft;\n    top -= el.offsetTop;\n    el = el.offsetParent;\n  }\n\n  return {\n    left: left,\n    top: top\n  };\n}\n\nfunction offsetToBody(el) {\n  var rect = el.getBoundingClientRect();\n\n  return {\n    left: -(rect.left + window.pageXOffset),\n    top: -(rect.top + window.pageYOffset)\n  };\n}\n\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\n\nvar transform = prefixStyle('transform');\nvar transition = prefixStyle('transition');\n\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\n// fix issue #361\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\nvar hasTransform = transform !== false;\nvar hasTransition = inBrowser && transition in elementStyle;\n\nvar style = {\n  transform: transform,\n  transition: transition,\n  transitionTimingFunction: prefixStyle('transitionTimingFunction'),\n  transitionDuration: prefixStyle('transitionDuration'),\n  transitionDelay: prefixStyle('transitionDelay'),\n  transformOrigin: prefixStyle('transformOrigin'),\n  transitionEnd: prefixStyle('transitionEnd')\n};\n\nvar TOUCH_EVENT = 1;\nvar MOUSE_EVENT = 2;\n\nvar eventType = {\n  touchstart: TOUCH_EVENT,\n  touchmove: TOUCH_EVENT,\n  touchend: TOUCH_EVENT,\n\n  mousedown: MOUSE_EVENT,\n  mousemove: MOUSE_EVENT,\n  mouseup: MOUSE_EVENT\n};\n\nfunction getRect(el) {\n  if (el instanceof window.SVGElement) {\n    var rect = el.getBoundingClientRect();\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  } else {\n    return {\n      top: el.offsetTop,\n      left: el.offsetLeft,\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    };\n  }\n}\n\nfunction preventDefaultException(el, exceptions) {\n  for (var i in exceptions) {\n    if (exceptions[i].test(el[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction tap(e, eventName) {\n  var ev = document.createEvent('Event');\n  ev.initEvent(eventName, true, true);\n  ev.pageX = e.pageX;\n  ev.pageY = e.pageY;\n  e.target.dispatchEvent(ev);\n}\n\nfunction click(e) {\n  var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'click';\n\n  var eventSource = void 0;\n  if (e.type === 'mouseup' || e.type === 'mousecancel') {\n    eventSource = e;\n  } else if (e.type === 'touchend' || e.type === 'touchcancel') {\n    eventSource = e.changedTouches[0];\n  }\n  var posSrc = {};\n  if (eventSource) {\n    posSrc.screenX = eventSource.screenX || 0;\n    posSrc.screenY = eventSource.screenY || 0;\n    posSrc.clientX = eventSource.clientX || 0;\n    posSrc.clientY = eventSource.clientY || 0;\n  }\n  var ev = void 0;\n  var bubbles = true;\n  var cancelable = true;\n  if (typeof MouseEvent !== 'undefined') {\n    try {\n      ev = new MouseEvent(event, extend({\n        bubbles: bubbles,\n        cancelable: cancelable\n      }, posSrc));\n    } catch (e) {\n      createEvent();\n    }\n  } else {\n    createEvent();\n  }\n\n  function createEvent() {\n    ev = document.createEvent('Event');\n    ev.initEvent(event, bubbles, cancelable);\n    extend(ev, posSrc);\n  }\n\n  // forwardedTouchEvent set to true in case of the conflict with fastclick\n  ev.forwardedTouchEvent = true;\n  ev._constructed = true;\n  e.target.dispatchEvent(ev);\n}\n\nfunction dblclick(e) {\n  click(e, 'dblclick');\n}\n\nfunction prepend(el, target) {\n  if (target.firstChild) {\n    before(el, target.firstChild);\n  } else {\n    target.appendChild(el);\n  }\n}\n\nfunction before(el, target) {\n  target.parentNode.insertBefore(el, target);\n}\n\nfunction removeChild(el, child) {\n  el.removeChild(child);\n}\n\nvar DEFAULT_OPTIONS = {\n  startX: 0,\n  startY: 0,\n  scrollX: false,\n  scrollY: true,\n  freeScroll: false,\n  directionLockThreshold: 5,\n  eventPassthrough: '',\n  click: false,\n  tap: false,\n  /**\n   * support any side\n   * bounce: {\n   *   top: true,\n   *   bottom: true,\n   *   left: true,\n   *   right: true\n   * }\n   */\n  bounce: true,\n  bounceTime: 800,\n  momentum: true,\n  momentumLimitTime: 300,\n  momentumLimitDistance: 15,\n  swipeTime: 2500,\n  swipeBounceTime: 500,\n  deceleration: 0.0015,\n  flickLimitTime: 200,\n  flickLimitDistance: 100,\n  resizePolling: 60,\n  probeType: 0,\n  preventDefault: true,\n  preventDefaultException: {\n    tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/\n  },\n  HWCompositing: true,\n  useTransition: true,\n  useTransform: true,\n  bindToWrapper: false,\n  disableMouse: hasTouch,\n  disableTouch: !hasTouch,\n  observeDOM: true,\n  autoBlur: true,\n  /**\n   * for picker\n   * wheel: {\n   *   selectedIndex: 0,\n   *   rotate: 25,\n   *   adjustTime: 400\n   *   wheelWrapperClass: 'wheel-scroll',\n   *   wheelItemClass: 'wheel-item'\n   * }\n   */\n  wheel: false,\n  /**\n   * for slide\n   * snap: {\n   *   loop: false,\n   *   el: domEl,\n   *   threshold: 0.1,\n   *   stepX: 100,\n   *   stepY: 100,\n   *   speed: 400,\n   *   easing: {\n   *     style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n   *     fn: function (t) {\n   *       return t * (2 - t)\n   *     }\n   *   }\n   *   listenFlick: true\n   * }\n   */\n  snap: false,\n  /**\n   * for scrollbar\n   * scrollbar: {\n   *   fade: true,\n   *   interactive: false\n   * }\n   */\n  scrollbar: false,\n  /**\n   * for pull down and refresh\n   * pullDownRefresh: {\n   *   threshold: 50,\n   *   stop: 20\n   * }\n   */\n  pullDownRefresh: false,\n  /**\n   * for pull up and load\n   * pullUpLoad: {\n   *   threshold: 50\n   * }\n   */\n  pullUpLoad: false,\n  /**\n   * for mouse wheel\n   * mouseWheel: {\n   *   speed: 20,\n   *   invert: false,\n   *   easeTime: 300\n   * }\n   */\n  mouseWheel: false,\n  stopPropagation: false,\n  /**\n   * for zoom\n   * zoom: {\n   *   start: 1,\n   *   min: 1,\n   *   max: 4\n   * }\n   */\n  zoom: false,\n  /**\n   * for infinity\n   * infinity: {\n   *   render(item, div) {\n   *   },\n   *   createTombstone() {\n   *   },\n   *   fetch(count) {\n   *   }\n   * }\n   */\n  infinity: false,\n  /**\n   * for double click\n   * dblclick: {\n   *   delay: 300\n   * }\n   */\n  dblclick: false\n};\n\nfunction initMixin(BScroll) {\n  BScroll.prototype._init = function (options) {\n    this._handleOptions(options);\n\n    // init private custom events\n    this._events = {};\n\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n\n    this.setScale(1);\n\n    this._addDOMEvents();\n\n    this._initExtFeatures();\n\n    this._watchTransition();\n\n    if (this.options.observeDOM) {\n      this._initDOMObserver();\n    }\n\n    if (this.options.autoBlur) {\n      this._handleAutoBlur();\n    }\n\n    this.refresh();\n\n    if (!this.options.snap) {\n      this.scrollTo(this.options.startX, this.options.startY);\n    }\n\n    this.enable();\n  };\n\n  BScroll.prototype.setScale = function (scale) {\n    this.lastScale = isUndef(this.scale) ? scale : this.scale;\n    this.scale = scale;\n  };\n\n  BScroll.prototype._handleOptions = function (options) {\n    this.options = extend({}, DEFAULT_OPTIONS, options);\n\n    this.translateZ = this.options.HWCompositing && hasPerspective ? ' translateZ(0)' : '';\n\n    this.options.useTransition = this.options.useTransition && hasTransition;\n    this.options.useTransform = this.options.useTransform && hasTransform;\n\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n    // If you want eventPassthrough I have to lock one of the axes\n    this.options.scrollX = this.options.eventPassthrough === 'horizontal' ? false : this.options.scrollX;\n    this.options.scrollY = this.options.eventPassthrough === 'vertical' ? false : this.options.scrollY;\n\n    // With eventPassthrough we also need lockDirection mechanism\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n    if (this.options.tap === true) {\n      this.options.tap = 'tap';\n    }\n  };\n\n  BScroll.prototype._addDOMEvents = function () {\n    var eventOperation = addEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._removeDOMEvents = function () {\n    var eventOperation = removeEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._handleDOMEvents = function (eventOperation) {\n    var target = this.options.bindToWrapper ? this.wrapper : window;\n    eventOperation(window, 'orientationchange', this);\n    eventOperation(window, 'resize', this);\n\n    if (this.options.click) {\n      eventOperation(this.wrapper, 'click', this, true);\n    }\n\n    if (!this.options.disableMouse) {\n      eventOperation(this.wrapper, 'mousedown', this);\n      eventOperation(target, 'mousemove', this);\n      eventOperation(target, 'mousecancel', this);\n      eventOperation(target, 'mouseup', this);\n    }\n\n    if (hasTouch && !this.options.disableTouch) {\n      eventOperation(this.wrapper, 'touchstart', this);\n      eventOperation(target, 'touchmove', this);\n      eventOperation(target, 'touchcancel', this);\n      eventOperation(target, 'touchend', this);\n    }\n\n    eventOperation(this.scroller, style.transitionEnd, this);\n  };\n\n  BScroll.prototype._initExtFeatures = function () {\n    if (this.options.snap) {\n      this._initSnap();\n    }\n    if (this.options.scrollbar) {\n      this._initScrollbar();\n    }\n    if (this.options.pullUpLoad) {\n      this._initPullUp();\n    }\n    if (this.options.pullDownRefresh) {\n      this._initPullDown();\n    }\n    if (this.options.wheel) {\n      this._initWheel();\n    }\n    if (this.options.mouseWheel) {\n      this._initMouseWheel();\n    }\n    if (this.options.zoom) {\n      this._initZoom();\n    }\n    if (this.options.infinity) {\n      this._initInfinite();\n    }\n  };\n\n  BScroll.prototype._watchTransition = function () {\n    if (typeof Object.defineProperty !== 'function') {\n      return;\n    }\n    var me = this;\n    var isInTransition = false;\n    var key = this.options.useTransition ? 'isInTransition' : 'isAnimating';\n    Object.defineProperty(this, key, {\n      get: function get() {\n        return isInTransition;\n      },\n      set: function set(newVal) {\n        isInTransition = newVal;\n        // fix issue #359\n        var el = me.scroller.children.length ? me.scroller.children : [me.scroller];\n        var pointerEvents = isInTransition && !me.pulling ? 'none' : 'auto';\n        for (var i = 0; i < el.length; i++) {\n          el[i].style.pointerEvents = pointerEvents;\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._handleAutoBlur = function () {\n    this.on('scrollStart', function () {\n      var activeElement = document.activeElement;\n      if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA')) {\n        activeElement.blur();\n      }\n    });\n  };\n\n  BScroll.prototype._initDOMObserver = function () {\n    var _this = this;\n\n    if (typeof MutationObserver !== 'undefined') {\n      var timer = void 0;\n      var observer = new MutationObserver(function (mutations) {\n        // don't do any refresh during the transition, or outside of the boundaries\n        if (_this._shouldNotRefresh()) {\n          return;\n        }\n        var immediateRefresh = false;\n        var deferredRefresh = false;\n        for (var i = 0; i < mutations.length; i++) {\n          var mutation = mutations[i];\n          if (mutation.type !== 'attributes') {\n            immediateRefresh = true;\n            break;\n          } else {\n            if (mutation.target !== _this.scroller) {\n              deferredRefresh = true;\n              break;\n            }\n          }\n        }\n        if (immediateRefresh) {\n          _this.refresh();\n        } else if (deferredRefresh) {\n          // attributes changes too often\n          clearTimeout(timer);\n          timer = setTimeout(function () {\n            if (!_this._shouldNotRefresh()) {\n              _this.refresh();\n            }\n          }, 60);\n        }\n      });\n      var config = {\n        attributes: true,\n        childList: true,\n        subtree: true\n      };\n      observer.observe(this.scroller, config);\n\n      this.on('destroy', function () {\n        observer.disconnect();\n      });\n    } else {\n      this._checkDOMUpdate();\n    }\n  };\n\n  BScroll.prototype._shouldNotRefresh = function () {\n    var outsideBoundaries = this.x > this.minScrollX || this.x < this.maxScrollX || this.y > this.minScrollY || this.y < this.maxScrollY;\n\n    return this.isInTransition || this.stopFromTransition || outsideBoundaries;\n  };\n\n  BScroll.prototype._checkDOMUpdate = function () {\n    var scrollerRect = getRect(this.scroller);\n    var oldWidth = scrollerRect.width;\n    var oldHeight = scrollerRect.height;\n\n    function check() {\n      if (this.destroyed) {\n        return;\n      }\n      scrollerRect = getRect(this.scroller);\n      var newWidth = scrollerRect.width;\n      var newHeight = scrollerRect.height;\n\n      if (oldWidth !== newWidth || oldHeight !== newHeight) {\n        this.refresh();\n      }\n      oldWidth = newWidth;\n      oldHeight = newHeight;\n\n      next.call(this);\n    }\n\n    function next() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        check.call(_this2);\n      }, 1000);\n    }\n\n    next.call(this);\n  };\n\n  BScroll.prototype.handleEvent = function (e) {\n    switch (e.type) {\n      case 'touchstart':\n      case 'mousedown':\n        this._start(e);\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoomStart(e);\n        }\n        break;\n      case 'touchmove':\n      case 'mousemove':\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoom(e);\n        } else {\n          this._move(e);\n        }\n        break;\n      case 'touchend':\n      case 'mouseup':\n      case 'touchcancel':\n      case 'mousecancel':\n        if (this.scaled) {\n          this._zoomEnd(e);\n        } else {\n          this._end(e);\n        }\n        break;\n      case 'orientationchange':\n      case 'resize':\n        this._resize();\n        break;\n      case 'transitionend':\n      case 'webkitTransitionEnd':\n      case 'oTransitionEnd':\n      case 'MSTransitionEnd':\n        this._transitionEnd(e);\n        break;\n      case 'click':\n        if (this.enabled && !e._constructed) {\n          if (!preventDefaultException(e.target, this.options.preventDefaultException)) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n        }\n        break;\n      case 'wheel':\n      case 'DOMMouseScroll':\n      case 'mousewheel':\n        this._onMouseWheel(e);\n        break;\n    }\n  };\n\n  BScroll.prototype.refresh = function () {\n    var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\n    var wrapperRect = getRect(this.wrapper);\n    this.wrapperWidth = wrapperRect.width;\n    this.wrapperHeight = wrapperRect.height;\n\n    var scrollerRect = getRect(this.scroller);\n    this.scrollerWidth = Math.round(scrollerRect.width * this.scale);\n    this.scrollerHeight = Math.round(scrollerRect.height * this.scale);\n\n    this.relativeX = scrollerRect.left;\n    this.relativeY = scrollerRect.top;\n\n    if (isWrapperStatic) {\n      this.relativeX -= wrapperRect.left;\n      this.relativeY -= wrapperRect.top;\n    }\n\n    this.minScrollX = 0;\n    this.minScrollY = 0;\n\n    var wheel = this.options.wheel;\n    if (wheel) {\n      this.items = this.scroller.children;\n      // check whether there are all disable items or not when refresh\n      this._checkWheelAllDisabled();\n      this.options.itemHeight = this.itemHeight = this.items.length ? this.scrollerHeight / this.items.length : 0;\n      if (this.selectedIndex === undefined) {\n        this.selectedIndex = wheel.selectedIndex || 0;\n      }\n      this.options.startY = -this.selectedIndex * this.itemHeight;\n\n      this.maxScrollX = 0;\n      this.maxScrollY = -this.itemHeight * (this.items.length - 1);\n    } else {\n      this.maxScrollX = this.wrapperWidth - this.scrollerWidth;\n      if (!this.options.infinity) {\n        this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\n      }\n      if (this.maxScrollX < 0) {\n        this.maxScrollX -= this.relativeX;\n        this.minScrollX = -this.relativeX;\n      } else if (this.scale > 1) {\n        this.maxScrollX = this.maxScrollX / 2 - this.relativeX;\n        this.minScrollX = this.maxScrollX;\n      }\n      if (this.maxScrollY < 0) {\n        this.maxScrollY -= this.relativeY;\n        this.minScrollY = -this.relativeY;\n      } else if (this.scale > 1) {\n        this.maxScrollY = this.maxScrollY / 2 - this.relativeY;\n        this.minScrollY = this.maxScrollY;\n      }\n    }\n\n    this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < this.minScrollX;\n    this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < this.minScrollY;\n\n    if (!this.hasHorizontalScroll) {\n      this.maxScrollX = this.minScrollX;\n      this.scrollerWidth = this.wrapperWidth;\n    }\n\n    if (!this.hasVerticalScroll) {\n      this.maxScrollY = this.minScrollY;\n      this.scrollerHeight = this.wrapperHeight;\n    }\n\n    this.endTime = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.wrapperOffset = offset(this.wrapper);\n\n    this.trigger('refresh');\n\n    !this.scaled && this.resetPosition();\n  };\n\n  BScroll.prototype.enable = function () {\n    this.enabled = true;\n  };\n\n  BScroll.prototype.disable = function () {\n    this.enabled = false;\n  };\n}\n\nvar ease = {\n  // easeOutQuint\n  swipe: {\n    style: 'cubic-bezier(0.23, 1, 0.32, 1)',\n    fn: function fn(t) {\n      return 1 + --t * t * t * t * t;\n    }\n  },\n  // easeOutQuard\n  swipeBounce: {\n    style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n    fn: function fn(t) {\n      return t * (2 - t);\n    }\n  },\n  // easeOutQuart\n  bounce: {\n    style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n    fn: function fn(t) {\n      return 1 - --t * t * t * t;\n    }\n  }\n};\n\nfunction momentum(current, start, time, lowerMargin, upperMargin, wrapperSize, options, scroll) {\n  var distance = current - start;\n  var speed = Math.abs(distance) / time;\n\n  var deceleration = options.deceleration,\n      itemHeight = options.itemHeight,\n      swipeBounceTime = options.swipeBounceTime,\n      wheel = options.wheel,\n      swipeTime = options.swipeTime;\n\n  var duration = swipeTime;\n  var rate = wheel ? 4 : 15;\n\n  var destination = current + speed / deceleration * (distance < 0 ? -1 : 1);\n\n  if (wheel && itemHeight) {\n    destination = scroll._findNearestValidWheel(destination).y;\n  }\n\n  if (destination < lowerMargin) {\n    destination = wrapperSize ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - wrapperSize / rate * speed) : lowerMargin;\n    duration = swipeBounceTime;\n  } else if (destination > upperMargin) {\n    destination = wrapperSize ? Math.min(upperMargin + wrapperSize / 4, upperMargin + wrapperSize / rate * speed) : upperMargin;\n    duration = swipeBounceTime;\n  }\n\n  return {\n    destination: Math.round(destination),\n    duration: duration\n  };\n}\n\nvar DEFAULT_INTERVAL = 100 / 60;\n\nfunction noop() {}\n\nvar requestAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||\n  // if all else fails, use setTimeout\n  function (callback) {\n    return window.setTimeout(callback, (callback.interval || DEFAULT_INTERVAL) / 2); // make interval as precise as possible.\n  };\n}();\n\nvar cancelAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || function (id) {\n    window.clearTimeout(id);\n  };\n}();\n\nvar DIRECTION_UP = 1;\nvar DIRECTION_DOWN = -1;\nvar DIRECTION_LEFT = 1;\nvar DIRECTION_RIGHT = -1;\n\nvar PROBE_DEBOUNCE = 1;\n\nvar PROBE_REALTIME = 3;\n\nfunction warn(msg) {\n  console.error('[BScroll warn]: ' + msg);\n}\n\nfunction assert(condition, msg) {\n  if (!condition) {\n    throw new Error('[BScroll] ' + msg);\n  }\n}\n\nfunction coreMixin(BScroll) {\n  BScroll.prototype._start = function (e) {\n    var _eventType = eventType[e.type];\n    if (_eventType !== TOUCH_EVENT) {\n      if (e.button !== 0) {\n        return;\n      }\n    }\n    if (!this.enabled || this.destroyed || this.initiated && this.initiated !== _eventType) {\n      return;\n    }\n    this.initiated = _eventType;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.moved = false;\n    this.distX = 0;\n    this.distY = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.movingDirectionX = 0;\n    this.movingDirectionY = 0;\n    this.directionLocked = 0;\n\n    this._transitionTime();\n    this.startTime = getNow();\n\n    if (this.options.wheel) {\n      this.target = e.target;\n    }\n\n    this.stop();\n\n    var point = e.touches ? e.touches[0] : e;\n\n    this.startX = this.x;\n    this.startY = this.y;\n    this.absStartX = this.x;\n    this.absStartY = this.y;\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.trigger('beforeScrollStart');\n  };\n\n  BScroll.prototype._move = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var point = e.touches ? e.touches[0] : e;\n    var deltaX = point.pageX - this.pointX;\n    var deltaY = point.pageY - this.pointY;\n\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.distX += deltaX;\n    this.distY += deltaY;\n\n    var absDistX = Math.abs(this.distX);\n    var absDistY = Math.abs(this.distY);\n\n    var timestamp = getNow();\n\n    // We need to move at least momentumLimitDistance pixels for the scrolling to initiate\n    if (timestamp - this.endTime > this.options.momentumLimitTime && !this.moved && absDistY < this.options.momentumLimitDistance && absDistX < this.options.momentumLimitDistance) {\n      return;\n    }\n\n    // If you are scrolling in one direction lock the other\n    if (!this.directionLocked && !this.options.freeScroll) {\n      if (absDistX > absDistY + this.options.directionLockThreshold) {\n        this.directionLocked = 'h'; // lock horizontally\n      } else if (absDistY >= absDistX + this.options.directionLockThreshold) {\n        this.directionLocked = 'v'; // lock vertically\n      } else {\n        this.directionLocked = 'n'; // no lock\n      }\n    }\n\n    if (this.directionLocked === 'h') {\n      if (this.options.eventPassthrough === 'vertical') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'horizontal') {\n        this.initiated = false;\n        return;\n      }\n      deltaY = 0;\n    } else if (this.directionLocked === 'v') {\n      if (this.options.eventPassthrough === 'horizontal') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'vertical') {\n        this.initiated = false;\n        return;\n      }\n      deltaX = 0;\n    }\n\n    deltaX = this.hasHorizontalScroll ? deltaX : 0;\n    deltaY = this.hasVerticalScroll ? deltaY : 0;\n    this.movingDirectionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.movingDirectionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    var newX = this.x + deltaX;\n    var newY = this.y + deltaY;\n\n    var top = false;\n    var bottom = false;\n    var left = false;\n    var right = false;\n    // Slow down or stop if outside of the boundaries\n    var bounce = this.options.bounce;\n    if (bounce !== false) {\n      top = bounce.top === undefined ? true : bounce.top;\n      bottom = bounce.bottom === undefined ? true : bounce.bottom;\n      left = bounce.left === undefined ? true : bounce.left;\n      right = bounce.right === undefined ? true : bounce.right;\n    }\n    if (newX > this.minScrollX || newX < this.maxScrollX) {\n      if (newX > this.minScrollX && left || newX < this.maxScrollX && right) {\n        newX = this.x + deltaX / 3;\n      } else {\n        newX = newX > this.minScrollX ? this.minScrollX : this.maxScrollX;\n      }\n    }\n    if (newY > this.minScrollY || newY < this.maxScrollY) {\n      if (newY > this.minScrollY && top || newY < this.maxScrollY && bottom) {\n        newY = this.y + deltaY / 3;\n      } else {\n        newY = newY > this.minScrollY ? this.minScrollY : this.maxScrollY;\n      }\n    }\n\n    if (!this.moved) {\n      this.moved = true;\n      this.trigger('scrollStart');\n    }\n\n    this._translate(newX, newY);\n\n    if (timestamp - this.startTime > this.options.momentumLimitTime) {\n      this.startTime = timestamp;\n      this.startX = this.x;\n      this.startY = this.y;\n\n      if (this.options.probeType === PROBE_DEBOUNCE) {\n        this.trigger('scroll', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n\n    if (this.options.probeType > PROBE_DEBOUNCE) {\n      this.trigger('scroll', {\n        x: this.x,\n        y: this.y\n      });\n    }\n\n    var scrollLeft = document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft;\n    var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n\n    var pX = this.pointX - scrollLeft;\n    var pY = this.pointY - scrollTop;\n\n    if (pX > document.documentElement.clientWidth - this.options.momentumLimitDistance || pX < this.options.momentumLimitDistance || pY < this.options.momentumLimitDistance || pY > document.documentElement.clientHeight - this.options.momentumLimitDistance) {\n      this._end(e);\n    }\n  };\n\n  BScroll.prototype._end = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n    this.initiated = false;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.trigger('touchEnd', {\n      x: this.x,\n      y: this.y\n    });\n\n    this.isInTransition = false;\n\n    // ensures that the last position is rounded\n    var newX = Math.round(this.x);\n    var newY = Math.round(this.y);\n\n    var deltaX = newX - this.absStartX;\n    var deltaY = newY - this.absStartY;\n    this.directionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.directionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    // if configure pull down refresh, check it first\n    if (this.options.pullDownRefresh && this._checkPullDown()) {\n      return;\n    }\n\n    // check if it is a click operation\n    if (this._checkClick(e)) {\n      this.trigger('scrollCancel');\n      return;\n    }\n\n    // reset if we are outside of the boundaries\n    if (this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      return;\n    }\n\n    this._translate(newX, newY);\n\n    this.endTime = getNow();\n    var duration = this.endTime - this.startTime;\n    var absDistX = Math.abs(newX - this.startX);\n    var absDistY = Math.abs(newY - this.startY);\n\n    // flick\n    if (this._events.flick && duration < this.options.flickLimitTime && absDistX < this.options.flickLimitDistance && absDistY < this.options.flickLimitDistance) {\n      this.trigger('flick');\n      return;\n    }\n\n    var time = 0;\n    // start momentum animation if needed\n    if (this.options.momentum && duration < this.options.momentumLimitTime && (absDistY > this.options.momentumLimitDistance || absDistX > this.options.momentumLimitDistance)) {\n      var top = false;\n      var bottom = false;\n      var left = false;\n      var right = false;\n      var bounce = this.options.bounce;\n      if (bounce !== false) {\n        top = bounce.top === undefined ? true : bounce.top;\n        bottom = bounce.bottom === undefined ? true : bounce.bottom;\n        left = bounce.left === undefined ? true : bounce.left;\n        right = bounce.right === undefined ? true : bounce.right;\n      }\n      var wrapperWidth = this.directionX === DIRECTION_RIGHT && left || this.directionX === DIRECTION_LEFT && right ? this.wrapperWidth : 0;\n      var wrapperHeight = this.directionY === DIRECTION_DOWN && top || this.directionY === DIRECTION_UP && bottom ? this.wrapperHeight : 0;\n      var momentumX = this.hasHorizontalScroll ? momentum(this.x, this.startX, duration, this.maxScrollX, this.minScrollX, wrapperWidth, this.options, this) : { destination: newX, duration: 0 };\n      var momentumY = this.hasVerticalScroll ? momentum(this.y, this.startY, duration, this.maxScrollY, this.minScrollY, wrapperHeight, this.options, this) : { destination: newY, duration: 0 };\n      newX = momentumX.destination;\n      newY = momentumY.destination;\n      time = Math.max(momentumX.duration, momentumY.duration);\n      this.isInTransition = true;\n    } else {\n      if (this.options.wheel) {\n        newY = this._findNearestValidWheel(newY).y;\n        time = this.options.wheel.adjustTime || 400;\n      }\n    }\n\n    var easing = ease.swipe;\n    if (this.options.snap) {\n      var snap = this._nearestSnap(newX, newY);\n      this.currentPage = snap;\n      time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(newX - snap.x), 1000), Math.min(Math.abs(newY - snap.y), 1000)), 300);\n      newX = snap.x;\n      newY = snap.y;\n\n      this.directionX = 0;\n      this.directionY = 0;\n      easing = this.options.snap.easing || ease.bounce;\n    }\n\n    if (newX !== this.x || newY !== this.y) {\n      // change easing function when scroller goes out of the boundaries\n      if (newX > this.minScrollX || newX < this.maxScrollX || newY > this.minScrollY || newY < this.maxScrollY) {\n        easing = ease.swipeBounce;\n      }\n      this.scrollTo(newX, newY, time, easing);\n      return;\n    }\n\n    if (this.options.wheel) {\n      this.selectedIndex = this._findNearestValidWheel(this.y).index;\n    }\n\n    this.trigger('scrollEnd', {\n      x: this.x,\n      y: this.y\n    });\n  };\n\n  BScroll.prototype._checkClick = function (e) {\n    // when in the process of pulling down, it should not prevent click\n    var preventClick = this.stopFromTransition && !this.pulling;\n    this.stopFromTransition = false;\n\n    // we scrolled less than 15 pixels\n    if (!this.moved) {\n      if (this.options.wheel) {\n        if (this.target && this.target.className === this.options.wheel.wheelWrapperClass) {\n          var index = this._findNearestValidWheel(this.y).index;\n          var _offset = Math.round((this.pointY + offsetToBody(this.wrapper).top - this.wrapperHeight / 2) / this.itemHeight);\n          this.target = this.items[index + _offset];\n        }\n        var top = offset(this.target).top;\n        var left = offset(this.target).left;\n        top -= this.wrapperOffset.top;\n        top -= Math.round(this.target.offsetHeight / 2 - this.wrapper.offsetHeight / 2) || 0;\n        left -= this.wrapperOffset.left;\n        left -= Math.round(this.target.offsetWidth / 2 - this.wrapper.offsetWidth / 2) || 0;\n\n        top = this._findNearestValidWheel(top).y;\n        this.scrollTo(left, top, this.options.wheel.adjustTime || 400, ease.swipe);\n        return true;\n      } else {\n        if (!preventClick) {\n          var _dblclick = this.options.dblclick;\n          var dblclickTrigged = false;\n          if (_dblclick && this.lastClickTime) {\n            var _dblclick$delay = _dblclick.delay,\n                delay = _dblclick$delay === undefined ? 300 : _dblclick$delay;\n\n            if (getNow() - this.lastClickTime < delay) {\n              dblclickTrigged = true;\n              dblclick(e);\n            }\n          }\n          if (this.options.tap) {\n            tap(e, this.options.tap);\n          }\n\n          if (this.options.click && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n            click(e);\n          }\n          this.lastClickTime = dblclickTrigged ? null : getNow();\n          return true;\n        }\n        return false;\n      }\n    }\n    return false;\n  };\n\n  BScroll.prototype._resize = function () {\n    var _this = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    // fix a scroll problem under Android condition\n    if (isAndroid) {\n      this.wrapper.scrollTop = 0;\n    }\n    clearTimeout(this.resizeTimeout);\n    this.resizeTimeout = setTimeout(function () {\n      _this.refresh();\n    }, this.options.resizePolling);\n  };\n\n  BScroll.prototype._startProbe = function () {\n    cancelAnimationFrame(this.probeTimer);\n    this.probeTimer = requestAnimationFrame(probe);\n\n    var me = this;\n\n    function probe() {\n      var pos = me.getComputedPosition();\n      me.trigger('scroll', pos);\n      if (!me.isInTransition) {\n        me.trigger('scrollEnd', pos);\n        return;\n      }\n      me.probeTimer = requestAnimationFrame(probe);\n    }\n  };\n\n  BScroll.prototype._transitionTime = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    this.scrollerStyle[style.transitionDuration] = time + 'ms';\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionDuration] = time + 'ms';\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i = 0; _i < this.indicators.length; _i++) {\n        this.indicators[_i].transitionTime(time);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionTimingFunction = function (easing) {\n    this.scrollerStyle[style.transitionTimingFunction] = easing;\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionTimingFunction] = easing;\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i2 = 0; _i2 < this.indicators.length; _i2++) {\n        this.indicators[_i2].transitionTimingFunction(easing);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionEnd = function (e) {\n    if (e.target !== this.scroller || !this.isInTransition) {\n      return;\n    }\n\n    this._transitionTime();\n    var needReset = !this.pulling || this.movingDirectionY === DIRECTION_UP;\n    if (needReset && !this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      this.isInTransition = false;\n      if (this.options.probeType !== PROBE_REALTIME) {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n  };\n\n  BScroll.prototype._translate = function (x, y, scale) {\n    assert(!isUndef(x) && !isUndef(y), 'Translate x or y is null or undefined.');\n    if (isUndef(scale)) {\n      scale = this.scale;\n    }\n    if (this.options.useTransform) {\n      this.scrollerStyle[style.transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + scale + ')' + this.translateZ;\n    } else {\n      x = Math.round(x);\n      y = Math.round(y);\n      this.scrollerStyle.left = x + 'px';\n      this.scrollerStyle.top = y + 'px';\n    }\n\n    if (this.options.wheel) {\n      var _options$wheel$rotate = this.options.wheel.rotate,\n          rotate = _options$wheel$rotate === undefined ? 25 : _options$wheel$rotate;\n\n      for (var i = 0; i < this.items.length; i++) {\n        var deg = rotate * (y / this.itemHeight + i);\n        this.items[i].style[style.transform] = 'rotateX(' + deg + 'deg)';\n      }\n    }\n\n    this.x = x;\n    this.y = y;\n    this.setScale(scale);\n\n    if (this.indicators) {\n      for (var _i3 = 0; _i3 < this.indicators.length; _i3++) {\n        this.indicators[_i3].updatePosition();\n      }\n    }\n  };\n\n  BScroll.prototype._animate = function (destX, destY, duration, easingFn) {\n    var me = this;\n    var startX = this.x;\n    var startY = this.y;\n    var startScale = this.lastScale;\n    var destScale = this.scale;\n    var startTime = getNow();\n    var destTime = startTime + duration;\n\n    function step() {\n      var now = getNow();\n\n      if (now >= destTime) {\n        me.isAnimating = false;\n        me._translate(destX, destY, destScale);\n\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n\n        if (!me.pulling && !me.resetPosition(me.options.bounceTime)) {\n          me.trigger('scrollEnd', {\n            x: me.x,\n            y: me.y\n          });\n        }\n        return;\n      }\n      now = (now - startTime) / duration;\n      var easing = easingFn(now);\n      var newX = (destX - startX) * easing + startX;\n      var newY = (destY - startY) * easing + startY;\n      var newScale = (destScale - startScale) * easing + startScale;\n\n      me._translate(newX, newY, newScale);\n\n      if (me.isAnimating) {\n        me.animateTimer = requestAnimationFrame(step);\n      }\n\n      if (me.options.probeType === PROBE_REALTIME) {\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n      }\n    }\n\n    this.isAnimating = true;\n    cancelAnimationFrame(this.animateTimer);\n    step();\n  };\n\n  BScroll.prototype.scrollBy = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n\n    x = this.x + x;\n    y = this.y + y;\n\n    this.scrollTo(x, y, time, easing);\n  };\n\n  BScroll.prototype.scrollTo = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n    var isSilent = arguments[4];\n\n    if (this.options.wheel) {\n      y = this._findNearestValidWheel(y).y;\n    }\n    if (x === this.x && y === this.y) {\n      return;\n    }\n    this.isInTransition = this.options.useTransition && time > 0 && (this.x !== x || this.y !== y);\n\n    if (!time || this.options.useTransition) {\n      this._transitionTimingFunction(easing.style);\n      this._transitionTime(time);\n      this._translate(x, y);\n\n      if (time && this.options.probeType === PROBE_REALTIME) {\n        this._startProbe();\n      }\n      if (!time && !isSilent) {\n        // don't trigger resetPosition when zoom feature is open, fix #748\n        if (this.options.zoom) return;\n        this.trigger('scroll', {\n          x: x,\n          y: y\n        });\n        // force reflow to put everything in position\n        this._reflow = document.body.offsetHeight;\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\n          this.trigger('scrollEnd', {\n            x: x,\n            y: y\n          });\n        }\n      }\n\n      if (this.options.wheel) {\n        this.selectedIndex = this._findNearestValidWheel(y).index;\n      }\n    } else {\n      this._animate(x, y, time, easing.fn);\n    }\n  };\n\n  BScroll.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\n    if (!el) {\n      return;\n    }\n    el = el.nodeType ? el : this.scroller.querySelector(el);\n\n    if (this.options.wheel && !el.classList.contains(this.options.wheel.wheelItemClass)) {\n      return;\n    }\n\n    var pos = offset(el);\n    pos.left -= this.wrapperOffset.left;\n    pos.top -= this.wrapperOffset.top;\n\n    // if offsetX/Y are true we center the element to the screen\n    if (offsetX === true) {\n      offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n    }\n    if (offsetY === true) {\n      offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n    }\n\n    pos.left -= offsetX || 0;\n    pos.top -= offsetY || 0;\n    pos.left = pos.left > this.minScrollX ? this.minScrollX : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n    pos.top = pos.top > this.minScrollY ? this.minScrollY : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;\n\n    if (this.options.wheel) {\n      pos.top = this._findNearestValidWheel(pos.top).y;\n    }\n\n    this.scrollTo(pos.left, pos.top, time, easing);\n  };\n\n  BScroll.prototype.resetPosition = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var easeing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ease.bounce;\n\n    var x = this.x;\n    var roundX = Math.round(x);\n    if (!this.hasHorizontalScroll || roundX > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (roundX < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    var y = this.y;\n    var roundY = Math.round(y);\n    if (!this.hasVerticalScroll || roundY > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (roundY < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    if (x === this.x && y === this.y) {\n      return false;\n    }\n\n    this.scrollTo(x, y, time, easeing);\n\n    return true;\n  };\n\n  BScroll.prototype.getComputedPosition = function () {\n    var matrix = window.getComputedStyle(this.scroller, null);\n    var x = void 0;\n    var y = void 0;\n\n    if (this.options.useTransform) {\n      matrix = matrix[style.transform].split(')')[0].split(', ');\n      x = +(matrix[12] || matrix[4]);\n      y = +(matrix[13] || matrix[5]);\n    } else {\n      x = +matrix.left.replace(/[^-\\d.]/g, '');\n      y = +matrix.top.replace(/[^-\\d.]/g, '');\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  BScroll.prototype.stop = function () {\n    if (this.options.useTransition && this.isInTransition) {\n      this.isInTransition = false;\n      cancelAnimationFrame(this.probeTimer);\n      var pos = this.getComputedPosition();\n      this._translate(pos.x, pos.y);\n      if (this.options.wheel) {\n        this.target = this.items[this._findNearestValidWheel(pos.y).index];\n      } else {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n      this.stopFromTransition = true;\n    } else if (!this.options.useTransition && this.isAnimating) {\n      this.isAnimating = false;\n      cancelAnimationFrame(this.animateTimer);\n      this.trigger('scrollEnd', {\n        x: this.x,\n        y: this.y\n      });\n      this.stopFromTransition = true;\n    }\n  };\n\n  BScroll.prototype.destroy = function () {\n    this.destroyed = true;\n    this.trigger('destroy');\n    if (this.options.useTransition) {\n      cancelAnimationFrame(this.probeTimer);\n    } else {\n      cancelAnimationFrame(this.animateTimer);\n    }\n    this._removeDOMEvents();\n    // remove custom events\n    this._events = {};\n  };\n}\n\nfunction snapMixin(BScroll) {\n  BScroll.prototype._initSnap = function () {\n    var _this = this;\n\n    this.currentPage = {};\n    var snap = this.options.snap;\n\n    if (snap.loop) {\n      var children = this.scroller.children;\n      if (children.length > 1) {\n        prepend(children[children.length - 1].cloneNode(true), this.scroller);\n        this.scroller.appendChild(children[1].cloneNode(true));\n      } else {\n        // Loop does not make any sense if there is only one child.\n        snap.loop = false;\n      }\n    }\n\n    var el = snap.el;\n    if (typeof el === 'string') {\n      el = this.scroller.querySelectorAll(el);\n    }\n\n    this.on('refresh', function () {\n      _this.pages = [];\n\n      if (!_this.wrapperWidth || !_this.wrapperHeight || !_this.scrollerWidth || !_this.scrollerHeight) {\n        return;\n      }\n\n      var stepX = snap.stepX || _this.wrapperWidth;\n      var stepY = snap.stepY || _this.wrapperHeight;\n\n      var x = 0;\n      var y = void 0;\n      var cx = void 0;\n      var cy = void 0;\n      var i = 0;\n      var l = void 0;\n      var m = 0;\n      var n = void 0;\n      var rect = void 0;\n      if (!el) {\n        cx = Math.round(stepX / 2);\n        cy = Math.round(stepY / 2);\n\n        while (x > -_this.scrollerWidth) {\n          _this.pages[i] = [];\n          l = 0;\n          y = 0;\n\n          while (y > -_this.scrollerHeight) {\n            _this.pages[i][l] = {\n              x: Math.max(x, _this.maxScrollX),\n              y: Math.max(y, _this.maxScrollY),\n              width: stepX,\n              height: stepY,\n              cx: x - cx,\n              cy: y - cy\n            };\n\n            y -= stepY;\n            l++;\n          }\n\n          x -= stepX;\n          i++;\n        }\n      } else {\n        l = el.length;\n        n = -1;\n\n        for (; i < l; i++) {\n          rect = getRect(el[i]);\n          if (i === 0 || rect.left <= getRect(el[i - 1]).left) {\n            m = 0;\n            n++;\n          }\n\n          if (!_this.pages[m]) {\n            _this.pages[m] = [];\n          }\n\n          x = Math.max(-rect.left, _this.maxScrollX);\n          y = Math.max(-rect.top, _this.maxScrollY);\n          cx = x - Math.round(rect.width / 2);\n          cy = y - Math.round(rect.height / 2);\n\n          _this.pages[m][n] = {\n            x: x,\n            y: y,\n            width: rect.width,\n            height: rect.height,\n            cx: cx,\n            cy: cy\n          };\n\n          if (x > _this.maxScrollX) {\n            m++;\n          }\n        }\n      }\n\n      _this._checkSnapLoop();\n\n      var initPageX = snap._loopX ? 1 : 0;\n      var initPageY = snap._loopY ? 1 : 0;\n      _this._goToPage(_this.currentPage.pageX || initPageX, _this.currentPage.pageY || initPageY, 0, undefined, true);\n\n      // Update snap threshold if needed.\n      var snapThreshold = snap.threshold;\n      if (snapThreshold % 1 === 0) {\n        _this.snapThresholdX = snapThreshold;\n        _this.snapThresholdY = snapThreshold;\n      } else {\n        _this.snapThresholdX = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].width * snapThreshold);\n        _this.snapThresholdY = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].height * snapThreshold);\n      }\n    });\n\n    this.on('scrollEnd', function () {\n      if (snap.loop) {\n        if (snap._loopX) {\n          if (_this.currentPage.pageX === 0) {\n            _this._goToPage(_this.pages.length - 2, _this.currentPage.pageY, 0, undefined, true);\n          }\n          if (_this.currentPage.pageX === _this.pages.length - 1) {\n            _this._goToPage(1, _this.currentPage.pageY, 0, undefined, true);\n          }\n        } else {\n          if (_this.currentPage.pageY === 0) {\n            _this._goToPage(_this.currentPage.pageX, _this.pages[0].length - 2, 0, undefined, true);\n          }\n          if (_this.currentPage.pageY === _this.pages[0].length - 1) {\n            _this._goToPage(_this.currentPage.pageX, 1, 0, undefined, true);\n          }\n        }\n      }\n    });\n\n    if (snap.listenFlick !== false) {\n      this.on('flick', function () {\n        var time = snap.speed || Math.max(Math.max(Math.min(Math.abs(_this.x - _this.startX), 1000), Math.min(Math.abs(_this.y - _this.startY), 1000)), 300);\n\n        _this._goToPage(_this.currentPage.pageX + _this.directionX, _this.currentPage.pageY + _this.directionY, time);\n      });\n    }\n\n    this.on('destroy', function () {\n      if (snap.loop) {\n        var _children = _this.scroller.children;\n        if (_children.length > 2) {\n          removeChild(_this.scroller, _children[_children.length - 1]);\n          removeChild(_this.scroller, _children[0]);\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._checkSnapLoop = function () {\n    var snap = this.options.snap;\n\n    if (!snap.loop || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (this.pages.length > 1) {\n      snap._loopX = true;\n    }\n    if (this.pages[0] && this.pages[0].length > 1) {\n      snap._loopY = true;\n    }\n    if (snap._loopX && snap._loopY) {\n      warn('Loop does not support two direction at the same time.');\n    }\n  };\n\n  BScroll.prototype._nearestSnap = function (x, y) {\n    if (!this.pages.length) {\n      return { x: 0, y: 0, pageX: 0, pageY: 0 };\n    }\n\n    var i = 0;\n    // Check if we exceeded the snap threshold\n    if (Math.abs(x - this.absStartX) <= this.snapThresholdX && Math.abs(y - this.absStartY) <= this.snapThresholdY) {\n      return this.currentPage;\n    }\n\n    if (x > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (x < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    if (y > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (y < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    var l = this.pages.length;\n    for (; i < l; i++) {\n      if (x >= this.pages[i][0].cx) {\n        x = this.pages[i][0].x;\n        break;\n      }\n    }\n\n    l = this.pages[i].length;\n\n    var m = 0;\n    for (; m < l; m++) {\n      if (y >= this.pages[0][m].cy) {\n        y = this.pages[0][m].y;\n        break;\n      }\n    }\n\n    if (i === this.currentPage.pageX) {\n      i += this.directionX;\n\n      if (i < 0) {\n        i = 0;\n      } else if (i >= this.pages.length) {\n        i = this.pages.length - 1;\n      }\n\n      x = this.pages[i][0].x;\n    }\n\n    if (m === this.currentPage.pageY) {\n      m += this.directionY;\n\n      if (m < 0) {\n        m = 0;\n      } else if (m >= this.pages[0].length) {\n        m = this.pages[0].length - 1;\n      }\n\n      y = this.pages[0][m].y;\n    }\n\n    return {\n      x: x,\n      y: y,\n      pageX: i,\n      pageY: m\n    };\n  };\n\n  BScroll.prototype._goToPage = function (x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var time = arguments[2];\n    var easing = arguments[3];\n    var isSilent = arguments[4];\n\n    var snap = this.options.snap;\n\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    easing = easing || snap.easing || ease.bounce;\n\n    if (x >= this.pages.length) {\n      x = this.pages.length - 1;\n    } else if (x < 0) {\n      x = 0;\n    }\n\n    if (!this.pages[x]) {\n      return;\n    }\n\n    if (y >= this.pages[x].length) {\n      y = this.pages[x].length - 1;\n    } else if (y < 0) {\n      y = 0;\n    }\n\n    var posX = this.pages[x][y].x;\n    var posY = this.pages[x][y].y;\n\n    time = time === undefined ? snap.speed || Math.max(Math.max(Math.min(Math.abs(posX - this.x), 1000), Math.min(Math.abs(posY - this.y), 1000)), 300) : time;\n\n    this.currentPage = {\n      x: posX,\n      y: posY,\n      pageX: x,\n      pageY: y\n    };\n    this.scrollTo(posX, posY, time, easing, isSilent);\n  };\n\n  BScroll.prototype.goToPage = function (x, y, time, easing) {\n    var snap = this.options.snap;\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (snap.loop) {\n      var len = void 0;\n      if (snap._loopX) {\n        len = this.pages.length - 2;\n        if (x >= len) {\n          x = len - 1;\n        } else if (x < 0) {\n          x = 0;\n        }\n        x += 1;\n      } else {\n        len = this.pages[0].length - 2;\n        if (y >= len) {\n          y = len - 1;\n        } else if (y < 0) {\n          y = 0;\n        }\n        y += 1;\n      }\n    }\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.next = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x++;\n    if (x >= this.pages.length && this.hasVerticalScroll) {\n      x = 0;\n      y++;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.prev = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x--;\n    if (x < 0 && this.hasVerticalScroll) {\n      x = 0;\n      y--;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.getCurrentPage = function () {\n    var snap = this.options.snap;\n    if (!snap) {\n      return null;\n    }\n\n    if (snap.loop) {\n      var currentPage = void 0;\n      if (snap._loopX) {\n        currentPage = extend({}, this.currentPage, {\n          pageX: this.currentPage.pageX - 1\n        });\n      } else {\n        currentPage = extend({}, this.currentPage, {\n          pageY: this.currentPage.pageY - 1\n        });\n      }\n      return currentPage;\n    }\n    return this.currentPage;\n  };\n}\n\nfunction wheelMixin(BScroll) {\n  BScroll.prototype.wheelTo = function () {\n    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    if (this.options.wheel) {\n      var y = -index * this.itemHeight;\n      this.scrollTo(0, y);\n    }\n  };\n\n  BScroll.prototype.getSelectedIndex = function () {\n    return this.options.wheel && this.selectedIndex;\n  };\n\n  BScroll.prototype._initWheel = function () {\n    var wheel = this.options.wheel;\n    if (!wheel.wheelWrapperClass) {\n      wheel.wheelWrapperClass = 'wheel-scroll';\n    }\n    if (!wheel.wheelItemClass) {\n      wheel.wheelItemClass = 'wheel-item';\n    }\n    if (!wheel.wheelDisabledItemClass) {\n      wheel.wheelDisabledItemClass = 'wheel-disabled-item';\n    }\n    if (wheel.selectedIndex === undefined) {\n      wheel.selectedIndex = 0;\n    }\n  };\n\n  BScroll.prototype._findNearestValidWheel = function (y) {\n    y = y > 0 ? 0 : y < this.maxScrollY ? this.maxScrollY : y;\n    var wheel = this.options.wheel;\n    var currentIndex = Math.abs(Math.round(-y / this.itemHeight));\n    var cacheIndex = currentIndex;\n    var items = this.items;\n    // Impersonation web native select\n    // first, check whether there is a enable item whose index is smaller than currentIndex\n    // then, check whether there is a enable item whose index is bigger than currentIndex\n    // otherwise, there are all disabled items, just keep currentIndex unchange\n    while (currentIndex >= 0) {\n      if (items[currentIndex].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n        break;\n      }\n      currentIndex--;\n    }\n\n    if (currentIndex < 0) {\n      currentIndex = cacheIndex;\n      while (currentIndex <= items.length - 1) {\n        if (items[currentIndex].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n          break;\n        }\n        currentIndex++;\n      }\n    }\n\n    // keep it unchange when all the items are disabled\n    if (currentIndex === items.length) {\n      currentIndex = cacheIndex;\n    }\n    // when all the items are disabled, this.selectedIndex should always be -1\n    return {\n      index: this.wheelItemsAllDisabled ? -1 : currentIndex,\n      y: -currentIndex * this.itemHeight\n    };\n  };\n\n  BScroll.prototype._checkWheelAllDisabled = function () {\n    var wheel = this.options.wheel;\n    var items = this.items;\n    this.wheelItemsAllDisabled = true;\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n        this.wheelItemsAllDisabled = false;\n        break;\n      }\n    }\n  };\n}\n\nvar INDICATOR_MIN_LEN = 8;\n\nfunction scrollbarMixin(BScroll) {\n  BScroll.prototype._initScrollbar = function () {\n    var _this = this;\n\n    var _options$scrollbar = this.options.scrollbar,\n        _options$scrollbar$fa = _options$scrollbar.fade,\n        fade = _options$scrollbar$fa === undefined ? true : _options$scrollbar$fa,\n        _options$scrollbar$in = _options$scrollbar.interactive,\n        interactive = _options$scrollbar$in === undefined ? false : _options$scrollbar$in;\n\n    this.indicators = [];\n    var indicator = void 0;\n\n    if (this.options.scrollX) {\n      indicator = {\n        el: createScrollbar('horizontal'),\n        direction: 'horizontal',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    if (this.options.scrollY) {\n      indicator = {\n        el: createScrollbar('vertical'),\n        direction: 'vertical',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    this.on('refresh', function () {\n      for (var i = 0; i < _this.indicators.length; i++) {\n        _this.indicators[i].refresh();\n      }\n    });\n\n    if (fade) {\n      this.on('scrollEnd', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollCancel', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true);\n        }\n      });\n\n      this.on('beforeScrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true, true);\n        }\n      });\n    }\n\n    this.on('destroy', function () {\n      _this._removeScrollBars();\n    });\n  };\n\n  BScroll.prototype._insertScrollBar = function (scrollbar) {\n    this.wrapper.appendChild(scrollbar);\n  };\n\n  BScroll.prototype._removeScrollBars = function () {\n    for (var i = 0; i < this.indicators.length; i++) {\n      this.indicators[i].destroy();\n    }\n  };\n}\n\nfunction createScrollbar(direction) {\n  var scrollbar = document.createElement('div');\n  var indicator = document.createElement('div');\n\n  scrollbar.style.cssText = 'position:absolute;z-index:9999;pointerEvents:none';\n  indicator.style.cssText = 'box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;';\n\n  indicator.className = 'bscroll-indicator';\n\n  if (direction === 'horizontal') {\n    scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n    indicator.style.height = '100%';\n    scrollbar.className = 'bscroll-horizontal-scrollbar';\n  } else {\n    scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n    indicator.style.width = '100%';\n    scrollbar.className = 'bscroll-vertical-scrollbar';\n  }\n\n  scrollbar.style.cssText += ';overflow:hidden';\n  scrollbar.appendChild(indicator);\n\n  return scrollbar;\n}\n\nfunction Indicator(scroller, options) {\n  this.wrapper = options.el;\n  this.wrapperStyle = this.wrapper.style;\n  this.indicator = this.wrapper.children[0];\n  this.indicatorStyle = this.indicator.style;\n  this.scroller = scroller;\n  this.direction = options.direction;\n  if (options.fade) {\n    this.visible = 0;\n    this.wrapperStyle.opacity = '0';\n  } else {\n    this.visible = 1;\n  }\n\n  this.sizeRatioX = 1;\n  this.sizeRatioY = 1;\n  this.maxPosX = 0;\n  this.maxPosY = 0;\n  this.x = 0;\n  this.y = 0;\n\n  if (options.interactive) {\n    this._addDOMEvents();\n  }\n}\n\nIndicator.prototype.handleEvent = function (e) {\n  switch (e.type) {\n    case 'touchstart':\n    case 'mousedown':\n      this._start(e);\n      break;\n    case 'touchmove':\n    case 'mousemove':\n      this._move(e);\n      break;\n    case 'touchend':\n    case 'mouseup':\n    case 'touchcancel':\n    case 'mousecancel':\n      this._end(e);\n      break;\n  }\n};\n\nIndicator.prototype.refresh = function () {\n  if (this._shouldShow()) {\n    this.transitionTime();\n    this._calculate();\n    this.updatePosition();\n  }\n};\n\nIndicator.prototype.fade = function (visible, hold) {\n  var _this2 = this;\n\n  if (hold && !this.visible) {\n    return;\n  }\n\n  var time = visible ? 250 : 500;\n\n  visible = visible ? '1' : '0';\n\n  this.wrapperStyle[style.transitionDuration] = time + 'ms';\n\n  clearTimeout(this.fadeTimeout);\n  this.fadeTimeout = setTimeout(function () {\n    _this2.wrapperStyle.opacity = visible;\n    _this2.visible = +visible;\n  }, 0);\n};\n\nIndicator.prototype.updatePosition = function () {\n  if (this.direction === 'vertical') {\n    var y = Math.round(this.sizeRatioY * this.scroller.y);\n\n    if (y < 0) {\n      this.transitionTime(500);\n      var height = Math.max(this.indicatorHeight + y * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = height + 'px';\n      y = 0;\n    } else if (y > this.maxPosY) {\n      this.transitionTime(500);\n      var _height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = _height + 'px';\n      y = this.maxPosY + this.indicatorHeight - _height;\n    } else {\n      this.indicatorStyle.height = this.indicatorHeight + 'px';\n    }\n    this.y = y;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateY(' + y + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.top = y + 'px';\n    }\n  } else {\n    var x = Math.round(this.sizeRatioX * this.scroller.x);\n\n    if (x < 0) {\n      this.transitionTime(500);\n      var width = Math.max(this.indicatorWidth + x * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = width + 'px';\n      x = 0;\n    } else if (x > this.maxPosX) {\n      this.transitionTime(500);\n      var _width = Math.max(this.indicatorWidth - (x - this.maxPosX) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = _width + 'px';\n      x = this.maxPosX + this.indicatorWidth - _width;\n    } else {\n      this.indicatorStyle.width = this.indicatorWidth + 'px';\n    }\n\n    this.x = x;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateX(' + x + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.left = x + 'px';\n    }\n  }\n};\n\nIndicator.prototype.transitionTime = function () {\n  var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  this.indicatorStyle[style.transitionDuration] = time + 'ms';\n};\n\nIndicator.prototype.transitionTimingFunction = function (easing) {\n  this.indicatorStyle[style.transitionTimingFunction] = easing;\n};\n\nIndicator.prototype.destroy = function () {\n  this._removeDOMEvents();\n  this.wrapper.parentNode.removeChild(this.wrapper);\n};\n\nIndicator.prototype._start = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this.transitionTime();\n\n  this.initiated = true;\n  this.moved = false;\n  this.lastPointX = point.pageX;\n  this.lastPointY = point.pageY;\n\n  this.startTime = getNow();\n\n  this._handleMoveEvents(addEvent);\n  this.scroller.trigger('beforeScrollStart');\n};\n\nIndicator.prototype._move = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  if (!this.moved) {\n    this.scroller.trigger('scrollStart');\n  }\n\n  this.moved = true;\n\n  var deltaX = point.pageX - this.lastPointX;\n  this.lastPointX = point.pageX;\n\n  var deltaY = point.pageY - this.lastPointY;\n  this.lastPointY = point.pageY;\n\n  var newX = this.x + deltaX;\n  var newY = this.y + deltaY;\n\n  this._pos(newX, newY);\n};\n\nIndicator.prototype._end = function (e) {\n  if (!this.initiated) {\n    return;\n  }\n  this.initiated = false;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this._handleMoveEvents(removeEvent);\n\n  var snapOption = this.scroller.options.snap;\n  if (snapOption) {\n    var speed = snapOption.speed,\n        _snapOption$easing = snapOption.easing,\n        easing = _snapOption$easing === undefined ? ease.bounce : _snapOption$easing;\n\n    var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n    var time = speed || Math.max(Math.max(Math.min(Math.abs(this.scroller.x - snap.x), 1000), Math.min(Math.abs(this.scroller.y - snap.y), 1000)), 300);\n\n    if (this.scroller.x !== snap.x || this.scroller.y !== snap.y) {\n      this.scroller.directionX = 0;\n      this.scroller.directionY = 0;\n      this.scroller.currentPage = snap;\n      this.scroller.scrollTo(snap.x, snap.y, time, easing);\n    }\n  }\n\n  if (this.moved) {\n    this.scroller.trigger('scrollEnd', {\n      x: this.scroller.x,\n      y: this.scroller.y\n    });\n  }\n};\n\nIndicator.prototype._pos = function (x, y) {\n  if (x < 0) {\n    x = 0;\n  } else if (x > this.maxPosX) {\n    x = this.maxPosX;\n  }\n\n  if (y < 0) {\n    y = 0;\n  } else if (y > this.maxPosY) {\n    y = this.maxPosY;\n  }\n\n  x = Math.round(x / this.sizeRatioX);\n  y = Math.round(y / this.sizeRatioY);\n\n  this.scroller.scrollTo(x, y);\n  this.scroller.trigger('scroll', {\n    x: this.scroller.x,\n    y: this.scroller.y\n  });\n};\n\nIndicator.prototype._shouldShow = function () {\n  if (this.direction === 'vertical' && this.scroller.hasVerticalScroll || this.direction === 'horizontal' && this.scroller.hasHorizontalScroll) {\n    this.wrapper.style.display = '';\n    return true;\n  }\n  this.wrapper.style.display = 'none';\n  return false;\n};\n\nIndicator.prototype._calculate = function () {\n  if (this.direction === 'vertical') {\n    var wrapperHeight = this.wrapper.clientHeight;\n    this.indicatorHeight = Math.max(Math.round(wrapperHeight * wrapperHeight / (this.scroller.scrollerHeight || wrapperHeight || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.height = this.indicatorHeight + 'px';\n\n    this.maxPosY = wrapperHeight - this.indicatorHeight;\n\n    this.sizeRatioY = this.maxPosY / this.scroller.maxScrollY;\n  } else {\n    var wrapperWidth = this.wrapper.clientWidth;\n    this.indicatorWidth = Math.max(Math.round(wrapperWidth * wrapperWidth / (this.scroller.scrollerWidth || wrapperWidth || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.width = this.indicatorWidth + 'px';\n\n    this.maxPosX = wrapperWidth - this.indicatorWidth;\n\n    this.sizeRatioX = this.maxPosX / this.scroller.maxScrollX;\n  }\n};\n\nIndicator.prototype._addDOMEvents = function () {\n  var eventOperation = addEvent;\n  this._handleDOMEvents(eventOperation);\n};\n\nIndicator.prototype._removeDOMEvents = function () {\n  var eventOperation = removeEvent;\n  this._handleDOMEvents(eventOperation);\n  this._handleMoveEvents(eventOperation);\n};\n\nIndicator.prototype._handleMoveEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(window, 'touchmove', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(window, 'mousemove', this);\n  }\n};\n\nIndicator.prototype._handleDOMEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(this.indicator, 'touchstart', this);\n    eventOperation(window, 'touchend', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(this.indicator, 'mousedown', this);\n    eventOperation(window, 'mouseup', this);\n  }\n};\n\nfunction pullDownMixin(BScroll) {\n  BScroll.prototype._initPullDown = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n  };\n\n  BScroll.prototype._checkPullDown = function () {\n    var _options$pullDownRefr = this.options.pullDownRefresh,\n        _options$pullDownRefr2 = _options$pullDownRefr.threshold,\n        threshold = _options$pullDownRefr2 === undefined ? 90 : _options$pullDownRefr2,\n        _options$pullDownRefr3 = _options$pullDownRefr.stop,\n        stop = _options$pullDownRefr3 === undefined ? 40 : _options$pullDownRefr3;\n\n    // check if a real pull down action\n\n    if (this.directionY !== DIRECTION_DOWN || this.y < threshold) {\n      return false;\n    }\n\n    if (!this.pulling) {\n      this.pulling = true;\n      this.trigger('pullingDown');\n    }\n    this.scrollTo(this.x, stop, this.options.bounceTime, ease.bounce);\n\n    return this.pulling;\n  };\n\n  BScroll.prototype.finishPullDown = function () {\n    this.pulling = false;\n    this.resetPosition(this.options.bounceTime, ease.bounce);\n  };\n\n  BScroll.prototype.openPullDown = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullDownRefresh = config;\n    this._initPullDown();\n  };\n\n  BScroll.prototype.closePullDown = function () {\n    this.options.pullDownRefresh = false;\n  };\n\n  BScroll.prototype.autoPullDownRefresh = function () {\n    var _options$pullDownRefr4 = this.options.pullDownRefresh,\n        _options$pullDownRefr5 = _options$pullDownRefr4.threshold,\n        threshold = _options$pullDownRefr5 === undefined ? 90 : _options$pullDownRefr5,\n        _options$pullDownRefr6 = _options$pullDownRefr4.stop,\n        stop = _options$pullDownRefr6 === undefined ? 40 : _options$pullDownRefr6;\n\n\n    if (this.pulling) {\n      return;\n    }\n    this.pulling = true;\n\n    this.scrollTo(this.x, threshold);\n    this.trigger('pullingDown');\n    this.scrollTo(this.x, stop, this.options.bounceTime, ease.bounce);\n  };\n}\n\nfunction pullUpMixin(BScroll) {\n  BScroll.prototype._initPullUp = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n\n    this.pullupWatching = false;\n    this._watchPullUp();\n  };\n\n  BScroll.prototype._watchPullUp = function () {\n    if (this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = true;\n    this.on('scroll', this._checkToEnd);\n  };\n\n  BScroll.prototype._checkToEnd = function (pos) {\n    var _this = this;\n\n    var _options$pullUpLoad$t = this.options.pullUpLoad.threshold,\n        threshold = _options$pullUpLoad$t === undefined ? 0 : _options$pullUpLoad$t;\n\n    if (this.movingDirectionY === DIRECTION_UP && pos.y <= this.maxScrollY + threshold) {\n      // reset pullupWatching status after scroll end.\n      this.once('scrollEnd', function () {\n        _this.pullupWatching = false;\n      });\n      this.trigger('pullingUp');\n      this.off('scroll', this._checkToEnd);\n    }\n  };\n\n  BScroll.prototype.finishPullUp = function () {\n    var _this2 = this;\n\n    if (this.pullupWatching) {\n      this.once('scrollEnd', function () {\n        _this2._watchPullUp();\n      });\n    } else {\n      this._watchPullUp();\n    }\n  };\n\n  BScroll.prototype.openPullUp = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullUpLoad = config;\n    this._initPullUp();\n  };\n\n  BScroll.prototype.closePullUp = function () {\n    this.options.pullUpLoad = false;\n    if (!this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = false;\n    this.off('scroll', this._checkToEnd);\n  };\n}\n\nfunction mouseWheelMixin(BScroll) {\n  BScroll.prototype._initMouseWheel = function () {\n    var _this = this;\n\n    this._handleMouseWheelEvent(addEvent);\n\n    this.on('destroy', function () {\n      clearTimeout(_this.mouseWheelTimer);\n      clearTimeout(_this.mouseWheelEndTimer);\n      _this._handleMouseWheelEvent(removeEvent);\n    });\n\n    this.firstWheelOpreation = true;\n  };\n\n  BScroll.prototype._handleMouseWheelEvent = function (eventOperation) {\n    eventOperation(this.wrapper, 'wheel', this);\n    eventOperation(this.wrapper, 'mousewheel', this);\n    eventOperation(this.wrapper, 'DOMMouseScroll', this);\n  };\n\n  BScroll.prototype._onMouseWheel = function (e) {\n    var _this2 = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    e.preventDefault();\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    if (this.firstWheelOpreation) {\n      this.trigger('scrollStart');\n    }\n    this.firstWheelOpreation = false;\n\n    var _options$mouseWheel = this.options.mouseWheel,\n        _options$mouseWheel$s = _options$mouseWheel.speed,\n        speed = _options$mouseWheel$s === undefined ? 20 : _options$mouseWheel$s,\n        _options$mouseWheel$i = _options$mouseWheel.invert,\n        invert = _options$mouseWheel$i === undefined ? false : _options$mouseWheel$i,\n        _options$mouseWheel$e = _options$mouseWheel.easeTime,\n        easeTime = _options$mouseWheel$e === undefined ? 300 : _options$mouseWheel$e;\n\n\n    clearTimeout(this.mouseWheelTimer);\n    this.mouseWheelTimer = setTimeout(function () {\n      if (!_this2.options.snap && !easeTime) {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }\n      _this2.firstWheelOpreation = true;\n    }, 400);\n\n    var wheelDeltaX = void 0;\n    var wheelDeltaY = void 0;\n\n    switch (true) {\n      case 'deltaX' in e:\n        if (e.deltaMode === 1) {\n          wheelDeltaX = -e.deltaX * speed;\n          wheelDeltaY = -e.deltaY * speed;\n        } else {\n          wheelDeltaX = -e.deltaX;\n          wheelDeltaY = -e.deltaY;\n        }\n        break;\n      case 'wheelDeltaX' in e:\n        wheelDeltaX = e.wheelDeltaX / 120 * speed;\n        wheelDeltaY = e.wheelDeltaY / 120 * speed;\n        break;\n      case 'wheelDelta' in e:\n        wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * speed;\n        break;\n      case 'detail' in e:\n        wheelDeltaX = wheelDeltaY = -e.detail / 3 * speed;\n        break;\n      default:\n        return;\n    }\n\n    var direction = invert ? -1 : 1;\n    wheelDeltaX *= direction;\n    wheelDeltaY *= direction;\n\n    if (!this.hasVerticalScroll) {\n      wheelDeltaX = wheelDeltaY;\n      wheelDeltaY = 0;\n    }\n\n    var newX = void 0;\n    var newY = void 0;\n    if (this.options.snap) {\n      newX = this.currentPage.pageX;\n      newY = this.currentPage.pageY;\n\n      if (wheelDeltaX > 0) {\n        newX--;\n      } else if (wheelDeltaX < 0) {\n        newX++;\n      }\n\n      if (wheelDeltaY > 0) {\n        newY--;\n      } else if (wheelDeltaY < 0) {\n        newY++;\n      }\n\n      this._goToPage(newX, newY);\n      return;\n    }\n\n    newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n    newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n    this.movingDirectionX = this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n    this.movingDirectionY = this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    var needTriggerEnd = this.y === newY;\n    this.scrollTo(newX, newY, easeTime, ease.swipe);\n    this.trigger('scroll', {\n      x: this.x,\n      y: this.y\n    });\n    clearTimeout(this.mouseWheelEndTimer);\n    if (needTriggerEnd) {\n      this.mouseWheelEndTimer = setTimeout(function () {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }, easeTime);\n    }\n  };\n}\n\nfunction zoomMixin(BScroll) {\n  BScroll.prototype._initZoom = function () {\n    var _options$zoom = this.options.zoom,\n        _options$zoom$start = _options$zoom.start,\n        start = _options$zoom$start === undefined ? 1 : _options$zoom$start,\n        _options$zoom$min = _options$zoom.min,\n        min = _options$zoom$min === undefined ? 1 : _options$zoom$min,\n        _options$zoom$max = _options$zoom.max,\n        max = _options$zoom$max === undefined ? 4 : _options$zoom$max;\n\n    this.scale = Math.min(Math.max(start, min), max);\n    this.setScale(this.scale);\n    this.scrollerStyle[style.transformOrigin] = '0 0';\n  };\n\n  BScroll.prototype._zoomTo = function (scale, originX, originY, startScale) {\n    this.scaled = true;\n\n    var lastScale = scale / (startScale || this.scale);\n    this.setScale(scale);\n\n    this.refresh();\n\n    var newX = Math.round(this.startX - (originX - this.relativeX) * (lastScale - 1));\n    var newY = Math.round(this.startY - (originY - this.relativeY) * (lastScale - 1));\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    if (this.x !== newX || this.y !== newY) {\n      this.scrollTo(newX, newY, this.options.bounceTime);\n    }\n\n    this.scaled = false;\n  };\n\n  BScroll.prototype.zoomTo = function (scale, x, y) {\n    var _offsetToBody = offsetToBody(this.wrapper),\n        left = _offsetToBody.left,\n        top = _offsetToBody.top;\n\n    var originX = x + left - this.x;\n    var originY = y + top - this.y;\n    this._zoomTo(scale, originX, originY);\n  };\n\n  BScroll.prototype._zoomStart = function (e) {\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n\n    this.startDistance = getDistance(deltaX, deltaY);\n    this.startScale = this.scale;\n\n    var _offsetToBody2 = offsetToBody(this.wrapper),\n        left = _offsetToBody2.left,\n        top = _offsetToBody2.top;\n\n    this.originX = Math.abs(firstFinger.pageX + secondFinger.pageX) / 2 + left - this.x;\n    this.originY = Math.abs(firstFinger.pageY + secondFinger.pageY) / 2 + top - this.y;\n\n    this.trigger('zoomStart');\n  };\n\n  BScroll.prototype._zoom = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n    var distance = getDistance(deltaX, deltaY);\n    var scale = distance / this.startDistance * this.startScale;\n\n    this.scaled = true;\n\n    var _options$zoom2 = this.options.zoom,\n        _options$zoom2$min = _options$zoom2.min,\n        min = _options$zoom2$min === undefined ? 1 : _options$zoom2$min,\n        _options$zoom2$max = _options$zoom2.max,\n        max = _options$zoom2$max === undefined ? 4 : _options$zoom2$max;\n\n\n    if (scale < min) {\n      scale = 0.5 * min * Math.pow(2.0, scale / min);\n    } else if (scale > max) {\n      scale = 2.0 * max * Math.pow(0.5, max / scale);\n    }\n\n    var lastScale = scale / this.startScale;\n\n    var x = this.startX - (this.originX - this.relativeX) * (lastScale - 1);\n    var y = this.startY - (this.originY - this.relativeY) * (lastScale - 1);\n\n    this.setScale(scale);\n\n    this.scrollTo(x, y, 0);\n  };\n\n  BScroll.prototype._zoomEnd = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.isInTransition = false;\n    this.isAnimating = false;\n    this.initiated = 0;\n\n    var _options$zoom3 = this.options.zoom,\n        _options$zoom3$min = _options$zoom3.min,\n        min = _options$zoom3$min === undefined ? 1 : _options$zoom3$min,\n        _options$zoom3$max = _options$zoom3.max,\n        max = _options$zoom3$max === undefined ? 4 : _options$zoom3$max;\n\n\n    var scale = this.scale > max ? max : this.scale < min ? min : this.scale;\n\n    this._zoomTo(scale, this.originX, this.originY, this.startScale);\n\n    this.trigger('zoomEnd');\n  };\n}\n\n// import { ease } from '../util/ease'\n\n// Number of items to instantiate beyond current view in the scroll direction.\nvar RUNWAY_ITEMS = 30;\n\n// Number of items to instantiate beyond current view in the opposite direction.\nvar RUNWAY_ITEMS_OPPOSITE = 10;\n\n// The animation interval (in ms) for fading in content from tombstones.\nvar ANIMATION_DURATION_MS = 200;\n\n// The number of pixels of default additional length to allow scrolling to.\nvar DEFAULT_SCROLL_RUNWAY = 2000;\n\nfunction infiniteMixin(BScroll) {\n  BScroll.prototype._initInfinite = function () {\n    this.options.probeType = 3;\n    this.maxScrollY = -DEFAULT_SCROLL_RUNWAY;\n    this.infiniteScroller = new InfiniteScroller(this, this.options.infinity);\n  };\n}\n\nfunction isTombstoneNode(node) {\n  if (node && node.classList) {\n    return node.classList.contains('tombstone');\n  }\n}\n\nfunction InfiniteScroller(scroller, options) {\n  var _this = this;\n\n  this.options = options;\n  assert(typeof this.options.createTombstone === 'function', 'Infinite scroll need createTombstone Function to create tombstone');\n\n  assert(typeof this.options.fetch === 'function', 'Infinite scroll need fetch Function to fetch new data.');\n\n  assert(typeof this.options.render === 'function', 'Infinite scroll need render Function to render each item.');\n\n  this.firstAttachedItem = 0;\n  this.lastAttachedItem = 0;\n\n  this.anchorScrollTop = 0;\n  this.anchorItem = {\n    index: 0,\n    offset: 0\n  };\n  this.tombstoneHeight = 0;\n  this.tombstoneWidth = 0;\n  this.tombstones = [];\n  this.tombstonesAnimationHandlers = [];\n\n  this.items = [];\n  this.loadedItems = 0;\n  this.requestInProgress = false;\n  this.hasMore = true;\n\n  this.scroller = scroller;\n  this.wrapperEl = this.scroller.wrapper;\n  this.scrollerEl = this.scroller.scroller;\n\n  this.scroller.on('resize', function () {\n    _this.onResize();\n  });\n  this.scroller.on('destroy', function () {\n    _this.destroy();\n  });\n\n  // wait scroll core init\n  this._onResizeHandler = setTimeout(function () {\n    _this.onResize();\n\n    // must wait tombstoneHeight has size\n    _this.scroller.on('scroll', function () {\n      _this.onScroll();\n    });\n  });\n}\n\nInfiniteScroller.prototype.destroy = function () {\n  var _this2 = this;\n\n  // In extreme scene, destroy is triggered before _onResizeHandler\n  clearTimeout(this._onResizeHandler);\n  this.tombstonesAnimationHandlers.forEach(function (handler) {\n    clearTimeout(handler);\n  });\n  this.tombstonesAnimationHandlers = null;\n  this.items.forEach(function (item) {\n    if (item.node) {\n      _this2.scrollerEl.removeChild(item.node);\n      item.node = null;\n    }\n  });\n  this.scroller.infiniteScroller = null;\n  this.scroller = null;\n  this.wrapperEl = null;\n  this.scrollerEl = null;\n  this.items = null;\n  this.tombstones = null;\n};\n\nInfiniteScroller.prototype.onScroll = function () {\n  var scrollTop = -this.scroller.y;\n  var delta = scrollTop - this.anchorScrollTop;\n  if (scrollTop === 0) {\n    this.anchorItem = {\n      index: 0,\n      offset: 0\n    };\n  } else {\n    this.anchorItem = this._calculateAnchoredItem(this.anchorItem, delta);\n  }\n\n  this.anchorScrollTop = scrollTop;\n  var lastScreenItem = this._calculateAnchoredItem(this.anchorItem, this.scroller.wrapperHeight);\n\n  var start = this.anchorItem.index;\n  var end = lastScreenItem.index;\n  if (delta < 0) {\n    start -= RUNWAY_ITEMS;\n    end += RUNWAY_ITEMS_OPPOSITE;\n  } else {\n    start -= RUNWAY_ITEMS_OPPOSITE;\n    end += RUNWAY_ITEMS;\n  }\n  this.fill(start, end);\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.onResize = function () {\n  var tombstone = this.options.createTombstone();\n  tombstone.style.position = 'absolute';\n  this.scrollerEl.appendChild(tombstone);\n  tombstone.style.display = '';\n  this.tombstoneHeight = tombstone.offsetHeight;\n  this.tombstoneWidth = tombstone.offsetWidth;\n  this.scrollerEl.removeChild(tombstone);\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.items[i].height = this.items[i].width = 0;\n  }\n\n  this.onScroll();\n};\n\nInfiniteScroller.prototype.fill = function (start, end) {\n  this.firstAttachedItem = Math.max(0, start);\n  if (!this.hasMore) {\n    end = Math.min(end, this.items.length);\n  }\n  this.lastAttachedItem = end;\n  this.attachContent();\n};\n\nInfiniteScroller.prototype.maybeRequestContent = function () {\n  var _this3 = this;\n\n  if (this.requestInProgress || !this.hasMore) {\n    return;\n  }\n  var itemsNeeded = this.lastAttachedItem - this.loadedItems;\n  if (itemsNeeded <= 0) {\n    return;\n  }\n  this.requestInProgress = true;\n  this.options.fetch(itemsNeeded).then(function (items) {\n    _this3.requestInProgress = false;\n    if (items) {\n      _this3.addContent(items);\n    } else {\n      _this3.hasMore = false;\n      var tombstoneLen = _this3._removeTombstones();\n      var curPos = 0;\n      if (_this3.anchorItem.index <= _this3.items.length) {\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.resetPosition(_this3.scroller.options.bounceTime);\n      } else {\n        _this3.anchorItem.index -= tombstoneLen;\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.stop();\n        _this3.scroller.resetPosition();\n        _this3.onScroll();\n      }\n    }\n  });\n};\n\nInfiniteScroller.prototype.addContent = function (items) {\n  for (var i = 0; i < items.length; i++) {\n    if (this.items.length <= this.loadedItems) {\n      this._addItem();\n    }\n    this.items[this.loadedItems++].data = items[i];\n  }\n  this.attachContent();\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.attachContent = function () {\n  var unusedNodes = this._collectUnusedNodes();\n  var tombstoneAnimations = this._createDOMNodes(unusedNodes);\n  this._cleanupUnusedNodes(unusedNodes);\n  this._cacheNodeSize();\n  var curPos = this._fixScrollPosition();\n  this._setupAnimations(tombstoneAnimations, curPos);\n};\n\nInfiniteScroller.prototype.resetMore = function () {\n  this.hasMore = true;\n};\n\nInfiniteScroller.prototype._removeTombstones = function () {\n  var markIndex = void 0;\n  var tombstoneLen = 0;\n  var itemLen = this.items.length;\n  for (var i = 0; i < itemLen; i++) {\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if ((!currentNode || isTombstoneNode(currentNode)) && !currentData) {\n      // 0 should be excluded\n      if (markIndex === void 0) {\n        markIndex = i;\n      }\n      if (currentNode) {\n        this.scrollerEl.removeChild(currentNode);\n      }\n    }\n  }\n  tombstoneLen = itemLen - markIndex;\n  this.items.splice(markIndex);\n  this.lastAttachedItem = Math.min(this.lastAttachedItem, this.items.length);\n  return tombstoneLen;\n};\n\nInfiniteScroller.prototype._collectUnusedNodes = function () {\n  var unusedNodes = [];\n  for (var i = 0; i < this.items.length; i++) {\n    // Skip the items which should be visible.\n    if (i === this.firstAttachedItem) {\n      i = this.lastAttachedItem - 1;\n      continue;\n    }\n    var currentNode = this.items[i].node;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode)) {\n        // Cache tombstones for reuse\n        this.tombstones.push(currentNode);\n        this.tombstones[this.tombstones.length - 1].style.display = 'none';\n      } else {\n        unusedNodes.push(currentNode);\n      }\n    }\n    this.items[i].node = null;\n  }\n  return unusedNodes;\n};\n\nInfiniteScroller.prototype._createDOMNodes = function (unusedNodes) {\n  var tombstoneAnimations = {};\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    while (this.items.length <= i) {\n      this._addItem();\n    }\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode) && currentData) {\n        currentNode.style.zIndex = 1;\n        tombstoneAnimations[i] = [currentNode, this.items[i].top - this.anchorScrollTop];\n        this.items[i].node = null;\n      } else {\n        continue;\n      }\n    }\n    var node = currentData ? this.options.render(currentData, unusedNodes.pop()) : this._getTombStone();\n    node.style.position = 'absolute';\n    this.items[i].top = -1;\n    this.scrollerEl.appendChild(node);\n    this.items[i].node = node;\n  }\n  return tombstoneAnimations;\n};\n\nInfiniteScroller.prototype._cleanupUnusedNodes = function (unusedNodes) {\n  while (unusedNodes.length) {\n    this.scrollerEl.removeChild(unusedNodes.pop());\n  }\n};\n\nInfiniteScroller.prototype._cacheNodeSize = function () {\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    var item = this.items[i];\n    // Only cache the height if we have the real contents, not a placeholder.\n    if (item.data && !item.height) {\n      var isTombstone = isTombstoneNode(item.node);\n      item.height = isTombstone ? this.tombstoneHeight : item.node.offsetHeight;\n      item.width = isTombstone ? this.tombstoneWidth : item.node.offsetWidth;\n    }\n  }\n};\n\nInfiniteScroller.prototype._fixScrollPosition = function () {\n  this.anchorScrollTop = 0;\n  for (var _i = 0; _i < this.anchorItem.index; _i++) {\n    this.anchorScrollTop += this.items[_i].height || this.tombstoneHeight;\n  }\n  this.anchorScrollTop += this.anchorItem.offset;\n\n  // Position all nodes.\n  var curPos = this.anchorScrollTop - this.anchorItem.offset;\n  var i = this.anchorItem.index;\n  while (i > this.firstAttachedItem) {\n    curPos -= this.items[i - 1].height || this.tombstoneHeight;\n    i--;\n  }\n\n  return curPos;\n};\n\nInfiniteScroller.prototype._setupAnimations = function (tombstoneAnimations, curPos) {\n  var _this4 = this;\n\n  for (var i in tombstoneAnimations) {\n    var animation = tombstoneAnimations[i];\n    this.items[i].node.style[style.transform] = 'translateY(' + (this.anchorScrollTop + animation[1]) + 'px) scale(' + this.tombstoneWidth / this.items[i].width + ', ' + this.tombstoneHeight / this.items[i].height + ')';\n    // Call offsetTop on the nodes to be animated to force them to apply current transforms.\n    /* eslint-disable no-unused-expressions */\n    this.items[i].node.offsetTop;\n    animation[0].offsetTop;\n    this.items[i].node.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms';\n  }\n\n  for (var _i2 = this.firstAttachedItem; _i2 < this.lastAttachedItem; _i2++) {\n    var _animation = tombstoneAnimations[_i2];\n    if (_animation) {\n      var tombstoneNode = _animation[0];\n      tombstoneNode.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms, opacity ' + ANIMATION_DURATION_MS + 'ms';\n      tombstoneNode.style[style.transform] = 'translateY(' + curPos + 'px) scale(' + this.items[_i2].width / this.tombstoneWidth + ', ' + this.items[_i2].height / this.tombstoneHeight + ')';\n      tombstoneNode.style.opacity = 0;\n    }\n    if (curPos !== this.items[_i2].top) {\n      if (!_animation) {\n        this.items[_i2].node.style[style.transition] = '';\n      }\n      this.items[_i2].node.style[style.transform] = 'translateY(' + curPos + 'px)';\n    }\n    this.items[_i2].top = curPos;\n    curPos += this.items[_i2].height || this.tombstoneHeight;\n  }\n\n  this.scroller.maxScrollY = -(curPos - this.scroller.wrapperHeight + (this.hasMore ? DEFAULT_SCROLL_RUNWAY : 0));\n\n  var tombstoneAnimationsHandler = setTimeout(function () {\n    for (var _i3 in tombstoneAnimations) {\n      var _animation2 = tombstoneAnimations[_i3];\n      _animation2[0].style.display = 'none';\n      // Tombstone can be recycled now.\n      _this4.tombstones.push(_animation2[0]);\n    }\n  }, ANIMATION_DURATION_MS);\n\n  this.tombstonesAnimationHandlers.push(tombstoneAnimationsHandler);\n};\n\nInfiniteScroller.prototype._getTombStone = function () {\n  var tombstone = this.tombstones.pop();\n  if (tombstone) {\n    tombstone.style.display = '';\n    tombstone.style.opacity = 1;\n    tombstone.style[style.transform] = '';\n    tombstone.style[style.transition] = '';\n    return tombstone;\n  }\n  return this.options.createTombstone();\n};\n\nInfiniteScroller.prototype._addItem = function () {\n  this.items.push({\n    data: null,\n    node: null,\n    height: 0,\n    width: 0,\n    top: 0\n  });\n};\n\nInfiniteScroller.prototype._calculateAnchoredItem = function (initialAnchor, delta) {\n  if (delta === 0) {\n    return initialAnchor;\n  }\n  var i = initialAnchor.index;\n  var tombstones = 0;\n\n  delta += initialAnchor.offset;\n  if (delta < 0) {\n    while (delta < 0 && i > 0 && this.items[i - 1].height) {\n      delta += this.items[i - 1].height;\n      i--;\n    }\n    tombstones = Math.max(-i, Math.ceil(Math.min(delta, 0) / this.tombstoneHeight));\n  } else {\n    while (delta > 0 && i < this.items.length && this.items[i].height && this.items[i].height < delta) {\n      delta -= this.items[i].height;\n      i++;\n    }\n    if (i >= this.items.length || !this.items[i].height) {\n      tombstones = Math.floor(Math.max(delta, 0) / this.tombstoneHeight);\n    }\n  }\n  i += tombstones;\n  delta -= tombstones * this.tombstoneHeight;\n\n  return {\n    index: i,\n    offset: delta\n  };\n};\n\nfunction BScroll(el, options) {\n  this.wrapper = typeof el === 'string' ? document.querySelector(el) : el;\n  if (!this.wrapper) {\n    warn('Can not resolve the wrapper DOM.');\n  }\n  this.scroller = this.wrapper.children[0];\n  if (!this.scroller) {\n    warn('The wrapper need at least one child element to be scroller.');\n  }\n  // cache style for better performance\n  this.scrollerStyle = this.scroller.style;\n\n  this._init(options);\n}\n\ninitMixin(BScroll);\ncoreMixin(BScroll);\neventMixin(BScroll);\nsnapMixin(BScroll);\nwheelMixin(BScroll);\nscrollbarMixin(BScroll);\npullDownMixin(BScroll);\npullUpMixin(BScroll);\nmouseWheelMixin(BScroll);\nzoomMixin(BScroll);\ninfiniteMixin(BScroll);\n\nBScroll.Version = '1.15.2';\n\nexport default BScroll;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/better-scroll/dist/bscroll.esm.js\n// module id = 99\n// module chunks = 0 1 4 5"],"sourceRoot":""}